
function iE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ym={exports:{}},Mo={},vm={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function oE(){if(Tx)return Be;Tx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function C(T,B,ne){this.props=T,this.context=B,this.refs=k,this.updater=ne||w}C.prototype.isReactComponent={},C.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function b(){}b.prototype=C.prototype;function N(T,B,ne){this.props=T,this.context=B,this.refs=k,this.updater=ne||w}var _=N.prototype=new b;_.constructor=N,S(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(T,B,ne){var ae,ie={},re=null,Z=null;if(B!=null)for(ae in B.ref!==void 0&&(Z=B.ref),B.key!==void 0&&(re=""+B.key),B)P.call(B,ae)&&!A.hasOwnProperty(ae)&&(ie[ae]=B[ae]);var fe=arguments.length-2;if(fe===1)ie.children=ne;else if(1<fe){for(var J=Array(fe),de=0;de<fe;de++)J[de]=arguments[de+2];ie.children=J}if(T&&T.defaultProps)for(ae in fe=T.defaultProps,fe)ie[ae]===void 0&&(ie[ae]=fe[ae]);return{$$typeof:e,type:T,key:re,ref:Z,props:ie,_owner:O.current}}function z(T,B){return{$$typeof:e,type:T.type,key:B,ref:T.ref,props:T.props,_owner:T._owner}}function W(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function H(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ne){return B[ne]})}var $=/\/+/g;function K(T,B){return typeof T=="object"&&T!==null&&T.key!=null?H(""+T.key):B.toString(36)}function Y(T,B,ne,ae,ie){var re=typeof T;(re==="undefined"||re==="boolean")&&(T=null);var Z=!1;if(T===null)Z=!0;else switch(re){case"string":case"number":Z=!0;break;case"object":switch(T.$$typeof){case e:case t:Z=!0}}if(Z)return Z=T,ie=ie(Z),T=ae===""?"."+K(Z,0):ae,E(ie)?(ne="",T!=null&&(ne=T.replace($,"$&/")+"/"),Y(ie,B,ne,"",function(de){return de})):ie!=null&&(W(ie)&&(ie=z(ie,ne+(!ie.key||Z&&Z.key===ie.key?"":(""+ie.key).replace($,"$&/")+"/")+T)),B.push(ie)),1;if(Z=0,ae=ae===""?".":ae+":",E(T))for(var fe=0;fe<T.length;fe++){re=T[fe];var J=ae+K(re,fe);Z+=Y(re,B,ne,J,ie)}else if(J=v(T),typeof J=="function")for(T=J.call(T),fe=0;!(re=T.next()).done;)re=re.value,J=ae+K(re,fe++),Z+=Y(re,B,ne,J,ie);else if(re==="object")throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Z}function Q(T,B,ne){if(T==null)return T;var ae=[],ie=0;return Y(T,ae,"","",function(re){return B.call(ne,re,ie++)}),ae}function te(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(ne){(T._status===0||T._status===-1)&&(T._status=1,T._result=ne)},function(ne){(T._status===0||T._status===-1)&&(T._status=2,T._result=ne)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var R={current:null},D={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:O};function G(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:Q,forEach:function(T,B,ne){Q(T,function(){B.apply(this,arguments)},ne)},count:function(T){var B=0;return Q(T,function(){B++}),B},toArray:function(T){return Q(T,function(B){return B})||[]},only:function(T){if(!W(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Be.Component=C,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=N,Be.StrictMode=s,Be.Suspense=f,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,Be.act=G,Be.cloneElement=function(T,B,ne){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ae=S({},T.props),ie=T.key,re=T.ref,Z=T._owner;if(B!=null){if(B.ref!==void 0&&(re=B.ref,Z=O.current),B.key!==void 0&&(ie=""+B.key),T.type&&T.type.defaultProps)var fe=T.type.defaultProps;for(J in B)P.call(B,J)&&!A.hasOwnProperty(J)&&(ae[J]=B[J]===void 0&&fe!==void 0?fe[J]:B[J])}var J=arguments.length-2;if(J===1)ae.children=ne;else if(1<J){fe=Array(J);for(var de=0;de<J;de++)fe[de]=arguments[de+2];ae.children=fe}return{$$typeof:e,type:T.type,key:ie,ref:re,props:ae,_owner:Z}},Be.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},Be.createElement=I,Be.createFactory=function(T){var B=I.bind(null,T);return B.type=T,B},Be.createRef=function(){return{current:null}},Be.forwardRef=function(T){return{$$typeof:u,render:T}},Be.isValidElement=W,Be.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:te}},Be.memo=function(T,B){return{$$typeof:p,type:T,compare:B===void 0?null:B}},Be.startTransition=function(T){var B=D.transition;D.transition={};try{T()}finally{D.transition=B}},Be.unstable_act=G,Be.useCallback=function(T,B){return R.current.useCallback(T,B)},Be.useContext=function(T){return R.current.useContext(T)},Be.useDebugValue=function(){},Be.useDeferredValue=function(T){return R.current.useDeferredValue(T)},Be.useEffect=function(T,B){return R.current.useEffect(T,B)},Be.useId=function(){return R.current.useId()},Be.useImperativeHandle=function(T,B,ne){return R.current.useImperativeHandle(T,B,ne)},Be.useInsertionEffect=function(T,B){return R.current.useInsertionEffect(T,B)},Be.useLayoutEffect=function(T,B){return R.current.useLayoutEffect(T,B)},Be.useMemo=function(T,B){return R.current.useMemo(T,B)},Be.useReducer=function(T,B,ne){return R.current.useReducer(T,B,ne)},Be.useRef=function(T){return R.current.useRef(T)},Be.useState=function(T){return R.current.useState(T)},Be.useSyncExternalStore=function(T,B,ne){return R.current.useSyncExternalStore(T,B,ne)},Be.useTransition=function(){return R.current.useTransition()},Be.version="18.3.1",Be}var Dx;function op(){return Dx||(Dx=1,vm.exports=oE()),vm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function lE(){if(Ax)return Mo;Ax=1;var e=op(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,p){var m,y={},v=null,w=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)s.call(f,m)&&!l.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:t,type:u,key:v,ref:w,props:y,_owner:o.current}}return Mo.Fragment=n,Mo.jsx=c,Mo.jsxs=c,Mo}var Rx;function cE(){return Rx||(Rx=1,ym.exports=lE()),ym.exports}var a=cE(),g=op();const Ur=ip(g),bb=iE({__proto__:null,default:Ur},[g]);var Uc={},xm={exports:{}},bn={},wm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function dE(){return Ix||(Ix=1,function(e){function t(D,L){var G=D.length;D.push(L);e:for(;0<G;){var T=G-1>>>1,B=D[T];if(0<o(B,L))D[T]=L,D[G]=B,G=T;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var L=D[0],G=D.pop();if(G!==L){D[0]=G;e:for(var T=0,B=D.length,ne=B>>>1;T<ne;){var ae=2*(T+1)-1,ie=D[ae],re=ae+1,Z=D[re];if(0>o(ie,G))re<B&&0>o(Z,ie)?(D[T]=Z,D[re]=G,T=re):(D[T]=ie,D[ae]=G,T=ae);else if(re<B&&0>o(Z,G))D[T]=Z,D[re]=G,T=re;else break e}}return L}function o(D,L){var G=D.sortIndex-L.sortIndex;return G!==0?G:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],p=[],m=1,y=null,v=3,w=!1,S=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var L=n(p);L!==null;){if(L.callback===null)s(p);else if(L.startTime<=D)s(p),L.sortIndex=L.expirationTime,t(f,L);else break;L=n(p)}}function E(D){if(k=!1,_(D),!S)if(n(f)!==null)S=!0,te(P);else{var L=n(p);L!==null&&R(E,L.startTime-D)}}function P(D,L){S=!1,k&&(k=!1,b(I),I=-1),w=!0;var G=v;try{for(_(L),y=n(f);y!==null&&(!(y.expirationTime>L)||D&&!H());){var T=y.callback;if(typeof T=="function"){y.callback=null,v=y.priorityLevel;var B=T(y.expirationTime<=L);L=e.unstable_now(),typeof B=="function"?y.callback=B:y===n(f)&&s(f),_(L)}else s(f);y=n(f)}if(y!==null)var ne=!0;else{var ae=n(p);ae!==null&&R(E,ae.startTime-L),ne=!1}return ne}finally{y=null,v=G,w=!1}}var O=!1,A=null,I=-1,z=5,W=-1;function H(){return!(e.unstable_now()-W<z)}function $(){if(A!==null){var D=e.unstable_now();W=D;var L=!0;try{L=A(!0,D)}finally{L?K():(O=!1,A=null)}}else O=!1}var K;if(typeof N=="function")K=function(){N($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=$,K=function(){Q.postMessage(null)}}else K=function(){C($,0)};function te(D){A=D,O||(O=!0,K())}function R(D,L){I=C(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,te(P))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var G=v;v=L;try{return D()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return L()}finally{v=G}},e.unstable_scheduleCallback=function(D,L,G){var T=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?T+G:T):G=T,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,D={id:m++,callback:L,priorityLevel:D,startTime:G,expirationTime:B,sortIndex:-1},G>T?(D.sortIndex=G,t(p,D),n(f)===null&&D===n(p)&&(k?(b(I),I=-1):k=!0,R(E,G-T))):(D.sortIndex=B,t(f,D),S||w||(S=!0,te(P))),D},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(D){var L=v;return function(){var G=v;v=L;try{return D.apply(this,arguments)}finally{v=G}}}}(bm)),bm}var Ox;function uE(){return Ox||(Ox=1,wm.exports=dE()),wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function fE(){if(Lx)return bn;Lx=1;var e=op(),t=uE();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(r){return f.call(y,r)?!0:f.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function w(r,i,d,h){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:d!==null?!d.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,d,h){if(i===null||typeof i>"u"||w(r,i,d,h))return!0;if(h)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(r,i,d,h,x,j,M){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=r,this.type=i,this.sanitizeURL=j,this.removeEmptyString=M}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new k(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(b,N);C[i]=new k(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(b,N);C[i]=new k(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(b,N);C[i]=new k(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function _(r,i,d,h){var x=C.hasOwnProperty(i)?C[i]:null;(x!==null?x.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,d,x,h)&&(d=null),h||x===null?v(i)&&(d===null?r.removeAttribute(i):r.setAttribute(i,""+d)):x.mustUseProperty?r[x.propertyName]=d===null?x.type===3?!1:"":d:(i=x.attributeName,h=x.attributeNamespace,d===null?r.removeAttribute(i):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,h?r.setAttributeNS(h,i,d):r.setAttribute(i,d))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),D=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,T;function B(r){if(T===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+r}var ne=!1;function ae(r,i){if(!r||ne)return"";ne=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var h=ee}Reflect.construct(r,[],i)}else{try{i.call()}catch(ee){h=ee}r.call(i.prototype)}else{try{throw Error()}catch(ee){h=ee}r()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),j=h.stack.split(`
`),M=x.length-1,F=j.length-1;1<=M&&0<=F&&x[M]!==j[F];)F--;for(;1<=M&&0<=F;M--,F--)if(x[M]!==j[F]){if(M!==1||F!==1)do if(M--,F--,0>F||x[M]!==j[F]){var V=`
`+x[M].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=M&&0<=F);break}}}finally{ne=!1,Error.prepareStackTrace=d}return(r=r?r.displayName||r.name:"")?B(r):""}function ie(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function re(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case O:return"Portal";case z:return"Profiler";case I:return"StrictMode";case K:return"Suspense";case Y:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case H:return(r.displayName||"Context")+".Consumer";case W:return(r._context.displayName||"Context")+".Provider";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return i=r.displayName||null,i!==null?i:re(r.type)||"Memo";case te:i=r._payload,r=r._init;try{return re(r(i))}catch{}}return null}function Z(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function J(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function de(r){var i=J(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,j=d.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(M){h=""+M,j.call(this,M)}}),Object.defineProperty(r,i,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(M){h=""+M},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function he(r){r._valueTracker||(r._valueTracker=de(r))}function be(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var d=i.getValue(),h="";return r&&(h=J(r)?r.checked?"true":"false":r.value),r=h,r!==d?(i.setValue(r),!0):!1}function Le(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function rt(r,i){var d=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??r._wrapperState.initialChecked})}function xt(r,i){var d=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;d=fe(i.value!=null?i.value:d),r._wrapperState={initialChecked:h,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function St(r,i){i=i.checked,i!=null&&_(r,"checked",i,!1)}function qe(r,i){St(r,i);var d=fe(i.value),h=i.type;if(d!=null)h==="number"?(d===0&&r.value===""||r.value!=d)&&(r.value=""+d):r.value!==""+d&&(r.value=""+d);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ae(r,i.type,d):i.hasOwnProperty("defaultValue")&&Ae(r,i.type,fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ue(r,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,d||i===r.value||(r.value=i),r.defaultValue=i}d=r.name,d!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,d!==""&&(r.name=d)}function Ae(r,i,d){(i!=="number"||Le(r.ownerDocument)!==r)&&(d==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+d&&(r.defaultValue=""+d))}var Qe=Array.isArray;function We(r,i,d,h){if(r=r.options,i){i={};for(var x=0;x<d.length;x++)i["$"+d[x]]=!0;for(d=0;d<r.length;d++)x=i.hasOwnProperty("$"+r[d].value),r[d].selected!==x&&(r[d].selected=x),x&&h&&(r[d].defaultSelected=!0)}else{for(d=""+fe(d),i=null,x=0;x<r.length;x++){if(r[x].value===d){r[x].selected=!0,h&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function Ue(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Et(r,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(n(92));if(Qe(d)){if(1<d.length)throw Error(n(93));d=d[0]}i=d}i==null&&(i=""),d=i}r._wrapperState={initialValue:fe(d)}}function Ot(r,i){var d=fe(i.value),h=fe(i.defaultValue);d!=null&&(d=""+d,d!==r.value&&(r.value=d),i.defaultValue==null&&r.defaultValue!==d&&(r.defaultValue=d)),h!=null&&(r.defaultValue=""+h)}function ut(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function os(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ar(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?os(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var fr,qs=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,h,x){MSApp.execUnsafeLocalFunction(function(){return r(i,d,h,x)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Xs(r,i){if(i){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=i;return}}r.textContent=i}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d_=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(r){d_.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Js[i]=Js[r]})});function Yg(r,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||Js.hasOwnProperty(r)&&Js[r]?(""+i).trim():i+"px"}function Gg(r,i){r=r.style;for(var d in i)if(i.hasOwnProperty(d)){var h=d.indexOf("--")===0,x=Yg(d,i[d],h);d==="float"&&(d="cssFloat"),h?r.setProperty(d,x):r[d]=x}}var u_=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(r,i){if(i){if(u_[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Mu(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function Tu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Du=null,Ra=null,Ia=null;function Kg(r){if(r=ho(r)){if(typeof Du!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ac(i),Du(r.stateNode,r.type,i))}}function qg(r){Ra?Ia?Ia.push(r):Ia=[r]:Ra=r}function Xg(){if(Ra){var r=Ra,i=Ia;if(Ia=Ra=null,Kg(r),i)for(r=0;r<i.length;r++)Kg(i[r])}}function Jg(r,i){return r(i)}function Qg(){}var Au=!1;function Zg(r,i,d){if(Au)return r(i,d);Au=!0;try{return Jg(r,i,d)}finally{Au=!1,(Ra!==null||Ia!==null)&&(Qg(),Xg())}}function Yi(r,i){var d=r.stateNode;if(d===null)return null;var h=ac(d);if(h===null)return null;d=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,i,typeof d));return d}var Ru=!1;if(u)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Ru=!1}function f_(r,i,d,h,x,j,M,F,V){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(d,ee)}catch(le){this.onError(le)}}var Ki=!1,Ll=null,Fl=!1,Iu=null,m_={onError:function(r){Ki=!0,Ll=r}};function h_(r,i,d,h,x,j,M,F,V){Ki=!1,Ll=null,f_.apply(m_,arguments)}function p_(r,i,d,h,x,j,M,F,V){if(h_.apply(this,arguments),Ki){if(Ki){var ee=Ll;Ki=!1,Ll=null}else throw Error(n(198));Fl||(Fl=!0,Iu=ee)}}function Qs(r){var i=r,d=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(d=i.return),r=i.return;while(r)}return i.tag===3?d:null}function ey(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ty(r){if(Qs(r)!==r)throw Error(n(188))}function g_(r){var i=r.alternate;if(!i){if(i=Qs(r),i===null)throw Error(n(188));return i!==r?null:r}for(var d=r,h=i;;){var x=d.return;if(x===null)break;var j=x.alternate;if(j===null){if(h=x.return,h!==null){d=h;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===d)return ty(x),r;if(j===h)return ty(x),i;j=j.sibling}throw Error(n(188))}if(d.return!==h.return)d=x,h=j;else{for(var M=!1,F=x.child;F;){if(F===d){M=!0,d=x,h=j;break}if(F===h){M=!0,h=x,d=j;break}F=F.sibling}if(!M){for(F=j.child;F;){if(F===d){M=!0,d=j,h=x;break}if(F===h){M=!0,h=j,d=x;break}F=F.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==h)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:i}function ny(r){return r=g_(r),r!==null?ry(r):null}function ry(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ry(r);if(i!==null)return i;r=r.sibling}return null}var sy=t.unstable_scheduleCallback,ay=t.unstable_cancelCallback,y_=t.unstable_shouldYield,v_=t.unstable_requestPaint,Mt=t.unstable_now,x_=t.unstable_getCurrentPriorityLevel,Ou=t.unstable_ImmediatePriority,iy=t.unstable_UserBlockingPriority,$l=t.unstable_NormalPriority,w_=t.unstable_LowPriority,oy=t.unstable_IdlePriority,zl=null,mr=null;function b_(r){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(zl,r,void 0,(r.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:k_,j_=Math.log,S_=Math.LN2;function k_(r){return r>>>=0,r===0?32:31-(j_(r)/S_|0)|0}var Vl=64,Wl=4194304;function qi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Bl(r,i){var d=r.pendingLanes;if(d===0)return 0;var h=0,x=r.suspendedLanes,j=r.pingedLanes,M=d&268435455;if(M!==0){var F=M&~x;F!==0?h=qi(F):(j&=M,j!==0&&(h=qi(j)))}else M=d&~x,M!==0?h=qi(M):j!==0&&(h=qi(j));if(h===0)return 0;if(i!==0&&i!==h&&(i&x)===0&&(x=h&-h,j=i&-i,x>=j||x===16&&(j&4194240)!==0))return i;if((h&4)!==0&&(h|=d&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)d=31-Kn(i),x=1<<d,h|=r[d],i&=~x;return h}function N_(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(r,i){for(var d=r.suspendedLanes,h=r.pingedLanes,x=r.expirationTimes,j=r.pendingLanes;0<j;){var M=31-Kn(j),F=1<<M,V=x[M];V===-1?((F&d)===0||(F&h)!==0)&&(x[M]=N_(F,i)):V<=i&&(r.expiredLanes|=F),j&=~F}}function Lu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ly(){var r=Vl;return Vl<<=1,(Vl&4194240)===0&&(Vl=64),r}function Fu(r){for(var i=[],d=0;31>d;d++)i.push(r);return i}function Xi(r,i,d){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Kn(i),r[i]=d}function __(r,i){var d=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<d;){var x=31-Kn(d),j=1<<x;i[x]=0,h[x]=-1,r[x]=-1,d&=~j}}function $u(r,i){var d=r.entangledLanes|=i;for(r=r.entanglements;d;){var h=31-Kn(d),x=1<<h;x&i|r[h]&i&&(r[h]|=i),d&=~x}}var ot=0;function cy(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var dy,zu,uy,fy,my,Vu=!1,Ul=[],ls=null,cs=null,ds=null,Ji=new Map,Qi=new Map,us=[],E_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hy(r,i){switch(r){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(i.pointerId)}}function Zi(r,i,d,h,x,j){return r===null||r.nativeEvent!==j?(r={blockedOn:i,domEventName:d,eventSystemFlags:h,nativeEvent:j,targetContainers:[x]},i!==null&&(i=ho(i),i!==null&&zu(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function M_(r,i,d,h,x){switch(i){case"focusin":return ls=Zi(ls,r,i,d,h,x),!0;case"dragenter":return cs=Zi(cs,r,i,d,h,x),!0;case"mouseover":return ds=Zi(ds,r,i,d,h,x),!0;case"pointerover":var j=x.pointerId;return Ji.set(j,Zi(Ji.get(j)||null,r,i,d,h,x)),!0;case"gotpointercapture":return j=x.pointerId,Qi.set(j,Zi(Qi.get(j)||null,r,i,d,h,x)),!0}return!1}function py(r){var i=Zs(r.target);if(i!==null){var d=Qs(i);if(d!==null){if(i=d.tag,i===13){if(i=ey(d),i!==null){r.blockedOn=i,my(r.priority,function(){uy(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hl(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var d=Bu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(d===null){d=r.nativeEvent;var h=new d.constructor(d.type,d);Pu=h,d.target.dispatchEvent(h),Pu=null}else return i=ho(d),i!==null&&zu(i),r.blockedOn=d,!1;i.shift()}return!0}function gy(r,i,d){Hl(r)&&d.delete(i)}function P_(){Vu=!1,ls!==null&&Hl(ls)&&(ls=null),cs!==null&&Hl(cs)&&(cs=null),ds!==null&&Hl(ds)&&(ds=null),Ji.forEach(gy),Qi.forEach(gy)}function eo(r,i){r.blockedOn===i&&(r.blockedOn=null,Vu||(Vu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,P_)))}function to(r){function i(x){return eo(x,r)}if(0<Ul.length){eo(Ul[0],r);for(var d=1;d<Ul.length;d++){var h=Ul[d];h.blockedOn===r&&(h.blockedOn=null)}}for(ls!==null&&eo(ls,r),cs!==null&&eo(cs,r),ds!==null&&eo(ds,r),Ji.forEach(i),Qi.forEach(i),d=0;d<us.length;d++)h=us[d],h.blockedOn===r&&(h.blockedOn=null);for(;0<us.length&&(d=us[0],d.blockedOn===null);)py(d),d.blockedOn===null&&us.shift()}var Oa=E.ReactCurrentBatchConfig,Yl=!0;function T_(r,i,d,h){var x=ot,j=Oa.transition;Oa.transition=null;try{ot=1,Wu(r,i,d,h)}finally{ot=x,Oa.transition=j}}function D_(r,i,d,h){var x=ot,j=Oa.transition;Oa.transition=null;try{ot=4,Wu(r,i,d,h)}finally{ot=x,Oa.transition=j}}function Wu(r,i,d,h){if(Yl){var x=Bu(r,i,d,h);if(x===null)of(r,i,h,Gl,d),hy(r,h);else if(M_(x,r,i,d,h))h.stopPropagation();else if(hy(r,h),i&4&&-1<E_.indexOf(r)){for(;x!==null;){var j=ho(x);if(j!==null&&dy(j),j=Bu(r,i,d,h),j===null&&of(r,i,h,Gl,d),j===x)break;x=j}x!==null&&h.stopPropagation()}else of(r,i,h,null,d)}}var Gl=null;function Bu(r,i,d,h){if(Gl=null,r=Tu(h),r=Zs(r),r!==null)if(i=Qs(r),i===null)r=null;else if(d=i.tag,d===13){if(r=ey(i),r!==null)return r;r=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Gl=r,null}function yy(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Ou:return 1;case iy:return 4;case $l:case w_:return 16;case oy:return 536870912;default:return 16}default:return 16}}var fs=null,Uu=null,Kl=null;function vy(){if(Kl)return Kl;var r,i=Uu,d=i.length,h,x="value"in fs?fs.value:fs.textContent,j=x.length;for(r=0;r<d&&i[r]===x[r];r++);var M=d-r;for(h=1;h<=M&&i[d-h]===x[j-h];h++);return Kl=x.slice(r,1<h?1-h:void 0)}function ql(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Xl(){return!0}function xy(){return!1}function Cn(r){function i(d,h,x,j,M){this._reactName=d,this._targetInst=x,this.type=h,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(d=r[F],this[F]=d?d(j):j[F]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Xl:xy,this.isPropagationStopped=xy,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),i}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=Cn(La),no=G({},La,{view:0,detail:0}),A_=Cn(no),Yu,Gu,ro,Jl=G({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ro&&(ro&&r.type==="mousemove"?(Yu=r.screenX-ro.screenX,Gu=r.screenY-ro.screenY):Gu=Yu=0,ro=r),Yu)},movementY:function(r){return"movementY"in r?r.movementY:Gu}}),wy=Cn(Jl),R_=G({},Jl,{dataTransfer:0}),I_=Cn(R_),O_=G({},no,{relatedTarget:0}),Ku=Cn(O_),L_=G({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),F_=Cn(L_),$_=G({},La,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),z_=Cn($_),V_=G({},La,{data:0}),by=Cn(V_),W_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H_(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=U_[r])?!!i[r]:!1}function qu(){return H_}var Y_=G({},no,{key:function(r){if(r.key){var i=W_[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ql(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(r){return r.type==="keypress"?ql(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ql(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),G_=Cn(Y_),K_=G({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jy=Cn(K_),q_=G({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),X_=Cn(q_),J_=G({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q_=Cn(J_),Z_=G({},Jl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),e2=Cn(Z_),t2=[9,13,27,32],Xu=u&&"CompositionEvent"in window,so=null;u&&"documentMode"in document&&(so=document.documentMode);var n2=u&&"TextEvent"in window&&!so,Sy=u&&(!Xu||so&&8<so&&11>=so),ky=" ",Ny=!1;function Cy(r,i){switch(r){case"keyup":return t2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fa=!1;function r2(r,i){switch(r){case"compositionend":return _y(i);case"keypress":return i.which!==32?null:(Ny=!0,ky);case"textInput":return r=i.data,r===ky&&Ny?null:r;default:return null}}function s2(r,i){if(Fa)return r==="compositionend"||!Xu&&Cy(r,i)?(r=vy(),Kl=Uu=fs=null,Fa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sy&&i.locale!=="ko"?null:i.data;default:return null}}var a2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!a2[r.type]:i==="textarea"}function My(r,i,d,h){qg(h),i=nc(i,"onChange"),0<i.length&&(d=new Hu("onChange","change",null,d,h),r.push({event:d,listeners:i}))}var ao=null,io=null;function i2(r){Gy(r,0)}function Ql(r){var i=Ba(r);if(be(i))return r}function o2(r,i){if(r==="change")return i}var Py=!1;if(u){var Ju;if(u){var Qu="oninput"in document;if(!Qu){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Qu=typeof Ty.oninput=="function"}Ju=Qu}else Ju=!1;Py=Ju&&(!document.documentMode||9<document.documentMode)}function Dy(){ao&&(ao.detachEvent("onpropertychange",Ay),io=ao=null)}function Ay(r){if(r.propertyName==="value"&&Ql(io)){var i=[];My(i,io,r,Tu(r)),Zg(i2,i)}}function l2(r,i,d){r==="focusin"?(Dy(),ao=i,io=d,ao.attachEvent("onpropertychange",Ay)):r==="focusout"&&Dy()}function c2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ql(io)}function d2(r,i){if(r==="click")return Ql(i)}function u2(r,i){if(r==="input"||r==="change")return Ql(i)}function f2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var qn=typeof Object.is=="function"?Object.is:f2;function oo(r,i){if(qn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var d=Object.keys(r),h=Object.keys(i);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var x=d[h];if(!f.call(i,x)||!qn(r[x],i[x]))return!1}return!0}function Ry(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,i){var d=Ry(r);r=0;for(var h;d;){if(d.nodeType===3){if(h=r+d.textContent.length,r<=i&&h>=i)return{node:d,offset:i-r};r=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ry(d)}}function Oy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Oy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ly(){for(var r=window,i=Le();i instanceof r.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)r=i.contentWindow;else break;i=Le(r.document)}return i}function Zu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function m2(r){var i=Ly(),d=r.focusedElem,h=r.selectionRange;if(i!==d&&d&&d.ownerDocument&&Oy(d.ownerDocument.documentElement,d)){if(h!==null&&Zu(d)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(r,d.value.length);else if(r=(i=d.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var x=d.textContent.length,j=Math.min(h.start,x);h=h.end===void 0?j:Math.min(h.end,x),!r.extend&&j>h&&(x=h,h=j,j=x),x=Iy(d,j);var M=Iy(d,h);x&&M&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==M.node||r.focusOffset!==M.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),r.removeAllRanges(),j>h?(r.addRange(i),r.extend(M.node,M.offset)):(i.setEnd(M.node,M.offset),r.addRange(i)))}}for(i=[],r=d;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)r=i[d],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var h2=u&&"documentMode"in document&&11>=document.documentMode,$a=null,ef=null,lo=null,tf=!1;function Fy(r,i,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;tf||$a==null||$a!==Le(h)||(h=$a,"selectionStart"in h&&Zu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),lo&&oo(lo,h)||(lo=h,h=nc(ef,"onSelect"),0<h.length&&(i=new Hu("onSelect","select",null,i,d),r.push({event:i,listeners:h}),i.target=$a)))}function Zl(r,i){var d={};return d[r.toLowerCase()]=i.toLowerCase(),d["Webkit"+r]="webkit"+i,d["Moz"+r]="moz"+i,d}var za={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},nf={},$y={};u&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ec(r){if(nf[r])return nf[r];if(!za[r])return r;var i=za[r],d;for(d in i)if(i.hasOwnProperty(d)&&d in $y)return nf[r]=i[d];return r}var zy=ec("animationend"),Vy=ec("animationiteration"),Wy=ec("animationstart"),By=ec("transitionend"),Uy=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(r,i){Uy.set(r,i),l(i,[r])}for(var rf=0;rf<Hy.length;rf++){var sf=Hy[rf],p2=sf.toLowerCase(),g2=sf[0].toUpperCase()+sf.slice(1);ms(p2,"on"+g2)}ms(zy,"onAnimationEnd"),ms(Vy,"onAnimationIteration"),ms(Wy,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(By,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Yy(r,i,d){var h=r.type||"unknown-event";r.currentTarget=d,p_(h,i,void 0,r),r.currentTarget=null}function Gy(r,i){i=(i&4)!==0;for(var d=0;d<r.length;d++){var h=r[d],x=h.event;h=h.listeners;e:{var j=void 0;if(i)for(var M=h.length-1;0<=M;M--){var F=h[M],V=F.instance,ee=F.currentTarget;if(F=F.listener,V!==j&&x.isPropagationStopped())break e;Yy(x,F,ee),j=V}else for(M=0;M<h.length;M++){if(F=h[M],V=F.instance,ee=F.currentTarget,F=F.listener,V!==j&&x.isPropagationStopped())break e;Yy(x,F,ee),j=V}}}if(Fl)throw r=Iu,Fl=!1,Iu=null,r}function ft(r,i){var d=i[mf];d===void 0&&(d=i[mf]=new Set);var h=r+"__bubble";d.has(h)||(Ky(i,r,2,!1),d.add(h))}function af(r,i,d){var h=0;i&&(h|=4),Ky(d,r,h,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function uo(r){if(!r[tc]){r[tc]=!0,s.forEach(function(d){d!=="selectionchange"&&(y2.has(d)||af(d,!1,r),af(d,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[tc]||(i[tc]=!0,af("selectionchange",!1,i))}}function Ky(r,i,d,h){switch(yy(i)){case 1:var x=T_;break;case 4:x=D_;break;default:x=Wu}d=x.bind(null,i,d,r),x=void 0,!Ru||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),h?x!==void 0?r.addEventListener(i,d,{capture:!0,passive:x}):r.addEventListener(i,d,!0):x!==void 0?r.addEventListener(i,d,{passive:x}):r.addEventListener(i,d,!1)}function of(r,i,d,h,x){var j=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var M=h.tag;if(M===3||M===4){var F=h.stateNode.containerInfo;if(F===x||F.nodeType===8&&F.parentNode===x)break;if(M===4)for(M=h.return;M!==null;){var V=M.tag;if((V===3||V===4)&&(V=M.stateNode.containerInfo,V===x||V.nodeType===8&&V.parentNode===x))return;M=M.return}for(;F!==null;){if(M=Zs(F),M===null)return;if(V=M.tag,V===5||V===6){h=j=M;continue e}F=F.parentNode}}h=h.return}Zg(function(){var ee=j,le=Tu(d),ce=[];e:{var oe=Uy.get(r);if(oe!==void 0){var ve=Hu,je=r;switch(r){case"keypress":if(ql(d)===0)break e;case"keydown":case"keyup":ve=G_;break;case"focusin":je="focus",ve=Ku;break;case"focusout":je="blur",ve=Ku;break;case"beforeblur":case"afterblur":ve=Ku;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=I_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=X_;break;case zy:case Vy:case Wy:ve=F_;break;case By:ve=Q_;break;case"scroll":ve=A_;break;case"wheel":ve=e2;break;case"copy":case"cut":case"paste":ve=z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=jy}var Ne=(i&4)!==0,Pt=!Ne&&r==="scroll",q=Ne?oe!==null?oe+"Capture":null:oe;Ne=[];for(var U=ee,X;U!==null;){X=U;var me=X.stateNode;if(X.tag===5&&me!==null&&(X=me,q!==null&&(me=Yi(U,q),me!=null&&Ne.push(fo(U,me,X)))),Pt)break;U=U.return}0<Ne.length&&(oe=new ve(oe,je,null,d,le),ce.push({event:oe,listeners:Ne}))}}if((i&7)===0){e:{if(oe=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",oe&&d!==Pu&&(je=d.relatedTarget||d.fromElement)&&(Zs(je)||je[Rr]))break e;if((ve||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(je=d.relatedTarget||d.toElement,ve=ee,je=je?Zs(je):null,je!==null&&(Pt=Qs(je),je!==Pt||je.tag!==5&&je.tag!==6)&&(je=null)):(ve=null,je=ee),ve!==je)){if(Ne=wy,me="onMouseLeave",q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=jy,me="onPointerLeave",q="onPointerEnter",U="pointer"),Pt=ve==null?oe:Ba(ve),X=je==null?oe:Ba(je),oe=new Ne(me,U+"leave",ve,d,le),oe.target=Pt,oe.relatedTarget=X,me=null,Zs(le)===ee&&(Ne=new Ne(q,U+"enter",je,d,le),Ne.target=X,Ne.relatedTarget=Pt,me=Ne),Pt=me,ve&&je)t:{for(Ne=ve,q=je,U=0,X=Ne;X;X=Va(X))U++;for(X=0,me=q;me;me=Va(me))X++;for(;0<U-X;)Ne=Va(Ne),U--;for(;0<X-U;)q=Va(q),X--;for(;U--;){if(Ne===q||q!==null&&Ne===q.alternate)break t;Ne=Va(Ne),q=Va(q)}Ne=null}else Ne=null;ve!==null&&qy(ce,oe,ve,Ne,!1),je!==null&&Pt!==null&&qy(ce,Pt,je,Ne,!0)}}e:{if(oe=ee?Ba(ee):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Ce=o2;else if(Ey(oe))if(Py)Ce=u2;else{Ce=c2;var Me=l2}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ce=d2);if(Ce&&(Ce=Ce(r,ee))){My(ce,Ce,d,le);break e}Me&&Me(r,oe,ee),r==="focusout"&&(Me=oe._wrapperState)&&Me.controlled&&oe.type==="number"&&Ae(oe,"number",oe.value)}switch(Me=ee?Ba(ee):window,r){case"focusin":(Ey(Me)||Me.contentEditable==="true")&&($a=Me,ef=ee,lo=null);break;case"focusout":lo=ef=$a=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Fy(ce,d,le);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":Fy(ce,d,le)}var Pe;if(Xu)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Fa?Cy(r,d)&&(Re="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Re="onCompositionStart");Re&&(Sy&&d.locale!=="ko"&&(Fa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Fa&&(Pe=vy()):(fs=le,Uu="value"in fs?fs.value:fs.textContent,Fa=!0)),Me=nc(ee,Re),0<Me.length&&(Re=new by(Re,r,null,d,le),ce.push({event:Re,listeners:Me}),Pe?Re.data=Pe:(Pe=_y(d),Pe!==null&&(Re.data=Pe)))),(Pe=n2?r2(r,d):s2(r,d))&&(ee=nc(ee,"onBeforeInput"),0<ee.length&&(le=new by("onBeforeInput","beforeinput",null,d,le),ce.push({event:le,listeners:ee}),le.data=Pe))}Gy(ce,i)})}function fo(r,i,d){return{instance:r,listener:i,currentTarget:d}}function nc(r,i){for(var d=i+"Capture",h=[];r!==null;){var x=r,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=Yi(r,d),j!=null&&h.unshift(fo(r,j,x)),j=Yi(r,i),j!=null&&h.push(fo(r,j,x))),r=r.return}return h}function Va(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qy(r,i,d,h,x){for(var j=i._reactName,M=[];d!==null&&d!==h;){var F=d,V=F.alternate,ee=F.stateNode;if(V!==null&&V===h)break;F.tag===5&&ee!==null&&(F=ee,x?(V=Yi(d,j),V!=null&&M.unshift(fo(d,V,F))):x||(V=Yi(d,j),V!=null&&M.push(fo(d,V,F)))),d=d.return}M.length!==0&&r.push({event:i,listeners:M})}var v2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function Xy(r){return(typeof r=="string"?r:""+r).replace(v2,`
`).replace(x2,"")}function rc(r,i,d){if(i=Xy(i),Xy(r)!==i&&d)throw Error(n(425))}function sc(){}var lf=null,cf=null;function df(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,b2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(r){return Jy.resolve(null).then(r).catch(j2)}:uf;function j2(r){setTimeout(function(){throw r})}function ff(r,i){var d=i,h=0;do{var x=d.nextSibling;if(r.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(h===0){r.removeChild(x),to(i);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=x}while(d);to(i)}function hs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Qy(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return r;i--}else d==="/$"&&i++}r=r.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),hr="__reactFiber$"+Wa,mo="__reactProps$"+Wa,Rr="__reactContainer$"+Wa,mf="__reactEvents$"+Wa,S2="__reactListeners$"+Wa,k2="__reactHandles$"+Wa;function Zs(r){var i=r[hr];if(i)return i;for(var d=r.parentNode;d;){if(i=d[Rr]||d[hr]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(r=Qy(r);r!==null;){if(d=r[hr])return d;r=Qy(r)}return i}r=d,d=r.parentNode}return null}function ho(r){return r=r[hr]||r[Rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ba(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ac(r){return r[mo]||null}var hf=[],Ua=-1;function ps(r){return{current:r}}function mt(r){0>Ua||(r.current=hf[Ua],hf[Ua]=null,Ua--)}function ct(r,i){Ua++,hf[Ua]=r.current,r.current=i}var gs={},Qt=ps(gs),gn=ps(!1),ea=gs;function Ha(r,i){var d=r.type.contextTypes;if(!d)return gs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in d)x[j]=i[j];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=x),x}function yn(r){return r=r.childContextTypes,r!=null}function ic(){mt(gn),mt(Qt)}function Zy(r,i,d){if(Qt.current!==gs)throw Error(n(168));ct(Qt,i),ct(gn,d)}function ev(r,i,d){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return d;h=h.getChildContext();for(var x in h)if(!(x in i))throw Error(n(108,Z(r)||"Unknown",x));return G({},d,h)}function oc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||gs,ea=Qt.current,ct(Qt,r),ct(gn,gn.current),!0}function tv(r,i,d){var h=r.stateNode;if(!h)throw Error(n(169));d?(r=ev(r,i,ea),h.__reactInternalMemoizedMergedChildContext=r,mt(gn),mt(Qt),ct(Qt,r)):mt(gn),ct(gn,d)}var Ir=null,lc=!1,pf=!1;function nv(r){Ir===null?Ir=[r]:Ir.push(r)}function N2(r){lc=!0,nv(r)}function ys(){if(!pf&&Ir!==null){pf=!0;var r=0,i=ot;try{var d=Ir;for(ot=1;r<d.length;r++){var h=d[r];do h=h(!0);while(h!==null)}Ir=null,lc=!1}catch(x){throw Ir!==null&&(Ir=Ir.slice(r+1)),sy(Ou,ys),x}finally{ot=i,pf=!1}}return null}var Ya=[],Ga=0,cc=null,dc=0,Rn=[],In=0,ta=null,Or=1,Lr="";function na(r,i){Ya[Ga++]=dc,Ya[Ga++]=cc,cc=r,dc=i}function rv(r,i,d){Rn[In++]=Or,Rn[In++]=Lr,Rn[In++]=ta,ta=r;var h=Or;r=Lr;var x=32-Kn(h)-1;h&=~(1<<x),d+=1;var j=32-Kn(i)+x;if(30<j){var M=x-x%5;j=(h&(1<<M)-1).toString(32),h>>=M,x-=M,Or=1<<32-Kn(i)+x|d<<x|h,Lr=j+r}else Or=1<<j|d<<x|h,Lr=r}function gf(r){r.return!==null&&(na(r,1),rv(r,1,0))}function yf(r){for(;r===cc;)cc=Ya[--Ga],Ya[Ga]=null,dc=Ya[--Ga],Ya[Ga]=null;for(;r===ta;)ta=Rn[--In],Rn[In]=null,Lr=Rn[--In],Rn[In]=null,Or=Rn[--In],Rn[In]=null}var _n=null,En=null,pt=!1,Xn=null;function sv(r,i){var d=$n(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=r,i=r.deletions,i===null?(r.deletions=[d],r.flags|=16):i.push(d)}function av(r,i){switch(r.tag){case 5:var d=r.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,_n=r,En=hs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,_n=r,En=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=ta!==null?{id:Or,overflow:Lr}:null,r.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=$n(18,null,null,0),d.stateNode=i,d.return=r,r.child=d,_n=r,En=null,!0):!1;default:return!1}}function vf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xf(r){if(pt){var i=En;if(i){var d=i;if(!av(r,i)){if(vf(r))throw Error(n(418));i=hs(d.nextSibling);var h=_n;i&&av(r,i)?sv(h,d):(r.flags=r.flags&-4097|2,pt=!1,_n=r)}}else{if(vf(r))throw Error(n(418));r.flags=r.flags&-4097|2,pt=!1,_n=r}}}function iv(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;_n=r}function uc(r){if(r!==_n)return!1;if(!pt)return iv(r),pt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!df(r.type,r.memoizedProps)),i&&(i=En)){if(vf(r))throw ov(),Error(n(418));for(;i;)sv(r,i),i=hs(i.nextSibling)}if(iv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"){if(i===0){En=hs(r.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}r=r.nextSibling}En=null}}else En=_n?hs(r.stateNode.nextSibling):null;return!0}function ov(){for(var r=En;r;)r=hs(r.nextSibling)}function Ka(){En=_n=null,pt=!1}function wf(r){Xn===null?Xn=[r]:Xn.push(r)}var C2=E.ReactCurrentBatchConfig;function po(r,i,d){if(r=d.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var h=d.stateNode}if(!h)throw Error(n(147,r));var x=h,j=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===j?i.ref:(i=function(M){var F=x.refs;M===null?delete F[j]:F[j]=M},i._stringRef=j,i)}if(typeof r!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,r))}return r}function fc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function lv(r){var i=r._init;return i(r._payload)}function cv(r){function i(q,U){if(r){var X=q.deletions;X===null?(q.deletions=[U],q.flags|=16):X.push(U)}}function d(q,U){if(!r)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function h(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function x(q,U){return q=Ns(q,U),q.index=0,q.sibling=null,q}function j(q,U,X){return q.index=X,r?(X=q.alternate,X!==null?(X=X.index,X<U?(q.flags|=2,U):X):(q.flags|=2,U)):(q.flags|=1048576,U)}function M(q){return r&&q.alternate===null&&(q.flags|=2),q}function F(q,U,X,me){return U===null||U.tag!==6?(U=um(X,q.mode,me),U.return=q,U):(U=x(U,X),U.return=q,U)}function V(q,U,X,me){var Ce=X.type;return Ce===A?le(q,U,X.props.children,me,X.key):U!==null&&(U.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===te&&lv(Ce)===U.type)?(me=x(U,X.props),me.ref=po(q,U,X),me.return=q,me):(me=Oc(X.type,X.key,X.props,null,q.mode,me),me.ref=po(q,U,X),me.return=q,me)}function ee(q,U,X,me){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=fm(X,q.mode,me),U.return=q,U):(U=x(U,X.children||[]),U.return=q,U)}function le(q,U,X,me,Ce){return U===null||U.tag!==7?(U=da(X,q.mode,me,Ce),U.return=q,U):(U=x(U,X),U.return=q,U)}function ce(q,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return U=um(""+U,q.mode,X),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return X=Oc(U.type,U.key,U.props,null,q.mode,X),X.ref=po(q,null,U),X.return=q,X;case O:return U=fm(U,q.mode,X),U.return=q,U;case te:var me=U._init;return ce(q,me(U._payload),X)}if(Qe(U)||L(U))return U=da(U,q.mode,X,null),U.return=q,U;fc(q,U)}return null}function oe(q,U,X,me){var Ce=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ce!==null?null:F(q,U,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return X.key===Ce?V(q,U,X,me):null;case O:return X.key===Ce?ee(q,U,X,me):null;case te:return Ce=X._init,oe(q,U,Ce(X._payload),me)}if(Qe(X)||L(X))return Ce!==null?null:le(q,U,X,me,null);fc(q,X)}return null}function ve(q,U,X,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number")return q=q.get(X)||null,F(U,q,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return q=q.get(me.key===null?X:me.key)||null,V(U,q,me,Ce);case O:return q=q.get(me.key===null?X:me.key)||null,ee(U,q,me,Ce);case te:var Me=me._init;return ve(q,U,X,Me(me._payload),Ce)}if(Qe(me)||L(me))return q=q.get(X)||null,le(U,q,me,Ce,null);fc(U,me)}return null}function je(q,U,X,me){for(var Ce=null,Me=null,Pe=U,Re=U=0,Ht=null;Pe!==null&&Re<X.length;Re++){Pe.index>Re?(Ht=Pe,Pe=null):Ht=Pe.sibling;var st=oe(q,Pe,X[Re],me);if(st===null){Pe===null&&(Pe=Ht);break}r&&Pe&&st.alternate===null&&i(q,Pe),U=j(st,U,Re),Me===null?Ce=st:Me.sibling=st,Me=st,Pe=Ht}if(Re===X.length)return d(q,Pe),pt&&na(q,Re),Ce;if(Pe===null){for(;Re<X.length;Re++)Pe=ce(q,X[Re],me),Pe!==null&&(U=j(Pe,U,Re),Me===null?Ce=Pe:Me.sibling=Pe,Me=Pe);return pt&&na(q,Re),Ce}for(Pe=h(q,Pe);Re<X.length;Re++)Ht=ve(Pe,q,Re,X[Re],me),Ht!==null&&(r&&Ht.alternate!==null&&Pe.delete(Ht.key===null?Re:Ht.key),U=j(Ht,U,Re),Me===null?Ce=Ht:Me.sibling=Ht,Me=Ht);return r&&Pe.forEach(function(Cs){return i(q,Cs)}),pt&&na(q,Re),Ce}function Ne(q,U,X,me){var Ce=L(X);if(typeof Ce!="function")throw Error(n(150));if(X=Ce.call(X),X==null)throw Error(n(151));for(var Me=Ce=null,Pe=U,Re=U=0,Ht=null,st=X.next();Pe!==null&&!st.done;Re++,st=X.next()){Pe.index>Re?(Ht=Pe,Pe=null):Ht=Pe.sibling;var Cs=oe(q,Pe,st.value,me);if(Cs===null){Pe===null&&(Pe=Ht);break}r&&Pe&&Cs.alternate===null&&i(q,Pe),U=j(Cs,U,Re),Me===null?Ce=Cs:Me.sibling=Cs,Me=Cs,Pe=Ht}if(st.done)return d(q,Pe),pt&&na(q,Re),Ce;if(Pe===null){for(;!st.done;Re++,st=X.next())st=ce(q,st.value,me),st!==null&&(U=j(st,U,Re),Me===null?Ce=st:Me.sibling=st,Me=st);return pt&&na(q,Re),Ce}for(Pe=h(q,Pe);!st.done;Re++,st=X.next())st=ve(Pe,q,Re,st.value,me),st!==null&&(r&&st.alternate!==null&&Pe.delete(st.key===null?Re:st.key),U=j(st,U,Re),Me===null?Ce=st:Me.sibling=st,Me=st);return r&&Pe.forEach(function(aE){return i(q,aE)}),pt&&na(q,Re),Ce}function Pt(q,U,X,me){if(typeof X=="object"&&X!==null&&X.type===A&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case P:e:{for(var Ce=X.key,Me=U;Me!==null;){if(Me.key===Ce){if(Ce=X.type,Ce===A){if(Me.tag===7){d(q,Me.sibling),U=x(Me,X.props.children),U.return=q,q=U;break e}}else if(Me.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===te&&lv(Ce)===Me.type){d(q,Me.sibling),U=x(Me,X.props),U.ref=po(q,Me,X),U.return=q,q=U;break e}d(q,Me);break}else i(q,Me);Me=Me.sibling}X.type===A?(U=da(X.props.children,q.mode,me,X.key),U.return=q,q=U):(me=Oc(X.type,X.key,X.props,null,q.mode,me),me.ref=po(q,U,X),me.return=q,q=me)}return M(q);case O:e:{for(Me=X.key;U!==null;){if(U.key===Me)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){d(q,U.sibling),U=x(U,X.children||[]),U.return=q,q=U;break e}else{d(q,U);break}else i(q,U);U=U.sibling}U=fm(X,q.mode,me),U.return=q,q=U}return M(q);case te:return Me=X._init,Pt(q,U,Me(X._payload),me)}if(Qe(X))return je(q,U,X,me);if(L(X))return Ne(q,U,X,me);fc(q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,U!==null&&U.tag===6?(d(q,U.sibling),U=x(U,X),U.return=q,q=U):(d(q,U),U=um(X,q.mode,me),U.return=q,q=U),M(q)):d(q,U)}return Pt}var qa=cv(!0),dv=cv(!1),mc=ps(null),hc=null,Xa=null,bf=null;function jf(){bf=Xa=hc=null}function Sf(r){var i=mc.current;mt(mc),r._currentValue=i}function kf(r,i,d){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===d)break;r=r.return}}function Ja(r,i){hc=r,bf=Xa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(vn=!0),r.firstContext=null)}function On(r){var i=r._currentValue;if(bf!==r)if(r={context:r,memoizedValue:i,next:null},Xa===null){if(hc===null)throw Error(n(308));Xa=r,hc.dependencies={lanes:0,firstContext:r}}else Xa=Xa.next=r;return i}var ra=null;function Nf(r){ra===null?ra=[r]:ra.push(r)}function uv(r,i,d,h){var x=i.interleaved;return x===null?(d.next=d,Nf(i)):(d.next=x.next,x.next=d),i.interleaved=d,Fr(r,h)}function Fr(r,i){r.lanes|=i;var d=r.alternate;for(d!==null&&(d.lanes|=i),d=r,r=r.return;r!==null;)r.childLanes|=i,d=r.alternate,d!==null&&(d.childLanes|=i),d=r,r=r.return;return d.tag===3?d.stateNode:null}var vs=!1;function Cf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function xs(r,i,d){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var x=h.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),h.pending=i,Fr(r,d)}return x=h.interleaved,x===null?(i.next=i,Nf(h)):(i.next=x.next,x.next=i),h.interleaved=i,Fr(r,d)}function pc(r,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,d|=h,i.lanes=d,$u(r,d)}}function mv(r,i){var d=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var x=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?x=j=M:j=j.next=M,d=d.next}while(d!==null);j===null?x=j=i:j=j.next=i}else x=j=i;d={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:h.shared,effects:h.effects},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=i:r.next=i,d.lastBaseUpdate=i}function gc(r,i,d,h){var x=r.updateQueue;vs=!1;var j=x.firstBaseUpdate,M=x.lastBaseUpdate,F=x.shared.pending;if(F!==null){x.shared.pending=null;var V=F,ee=V.next;V.next=null,M===null?j=ee:M.next=ee,M=V;var le=r.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==M&&(F===null?le.firstBaseUpdate=ee:F.next=ee,le.lastBaseUpdate=V))}if(j!==null){var ce=x.baseState;M=0,le=ee=V=null,F=j;do{var oe=F.lane,ve=F.eventTime;if((h&oe)===oe){le!==null&&(le=le.next={eventTime:ve,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var je=r,Ne=F;switch(oe=i,ve=d,Ne.tag){case 1:if(je=Ne.payload,typeof je=="function"){ce=je.call(ve,ce,oe);break e}ce=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ne.payload,oe=typeof je=="function"?je.call(ve,ce,oe):je,oe==null)break e;ce=G({},ce,oe);break e;case 2:vs=!0}}F.callback!==null&&F.lane!==0&&(r.flags|=64,oe=x.effects,oe===null?x.effects=[F]:oe.push(F))}else ve={eventTime:ve,lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(ee=le=ve,V=ce):le=le.next=ve,M|=oe;if(F=F.next,F===null){if(F=x.shared.pending,F===null)break;oe=F,F=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);if(le===null&&(V=ce),x.baseState=V,x.firstBaseUpdate=ee,x.lastBaseUpdate=le,i=x.shared.interleaved,i!==null){x=i;do M|=x.lane,x=x.next;while(x!==i)}else j===null&&(x.shared.lanes=0);ia|=M,r.lanes=M,r.memoizedState=ce}}function hv(r,i,d){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],x=h.callback;if(x!==null){if(h.callback=null,h=d,typeof x!="function")throw Error(n(191,x));x.call(h)}}}var go={},pr=ps(go),yo=ps(go),vo=ps(go);function sa(r){if(r===go)throw Error(n(174));return r}function _f(r,i){switch(ct(vo,i),ct(yo,r),ct(pr,go),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ar(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ar(i,r)}mt(pr),ct(pr,i)}function Qa(){mt(pr),mt(yo),mt(vo)}function pv(r){sa(vo.current);var i=sa(pr.current),d=Ar(i,r.type);i!==d&&(ct(yo,r),ct(pr,d))}function Ef(r){yo.current===r&&(mt(pr),mt(yo))}var wt=ps(0);function yc(r){for(var i=r;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mf=[];function Pf(){for(var r=0;r<Mf.length;r++)Mf[r]._workInProgressVersionPrimary=null;Mf.length=0}var vc=E.ReactCurrentDispatcher,Tf=E.ReactCurrentBatchConfig,aa=0,bt=null,$t=null,Bt=null,xc=!1,xo=!1,wo=0,_2=0;function Zt(){throw Error(n(321))}function Df(r,i){if(i===null)return!1;for(var d=0;d<i.length&&d<r.length;d++)if(!qn(r[d],i[d]))return!1;return!0}function Af(r,i,d,h,x,j){if(aa=j,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,vc.current=r===null||r.memoizedState===null?T2:D2,r=d(h,x),xo){j=0;do{if(xo=!1,wo=0,25<=j)throw Error(n(301));j+=1,Bt=$t=null,i.updateQueue=null,vc.current=A2,r=d(h,x)}while(xo)}if(vc.current=jc,i=$t!==null&&$t.next!==null,aa=0,Bt=$t=bt=null,xc=!1,i)throw Error(n(300));return r}function Rf(){var r=wo!==0;return wo=0,r}function gr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?bt.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Ln(){if($t===null){var r=bt.alternate;r=r!==null?r.memoizedState:null}else r=$t.next;var i=Bt===null?bt.memoizedState:Bt.next;if(i!==null)Bt=i,$t=r;else{if(r===null)throw Error(n(310));$t=r,r={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Bt===null?bt.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function bo(r,i){return typeof i=="function"?i(r):i}function If(r){var i=Ln(),d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var h=$t,x=h.baseQueue,j=d.pending;if(j!==null){if(x!==null){var M=x.next;x.next=j.next,j.next=M}h.baseQueue=x=j,d.pending=null}if(x!==null){j=x.next,h=h.baseState;var F=M=null,V=null,ee=j;do{var le=ee.lane;if((aa&le)===le)V!==null&&(V=V.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:r(h,ee.action);else{var ce={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};V===null?(F=V=ce,M=h):V=V.next=ce,bt.lanes|=le,ia|=le}ee=ee.next}while(ee!==null&&ee!==j);V===null?M=h:V.next=F,qn(h,i.memoizedState)||(vn=!0),i.memoizedState=h,i.baseState=M,i.baseQueue=V,d.lastRenderedState=h}if(r=d.interleaved,r!==null){x=r;do j=x.lane,bt.lanes|=j,ia|=j,x=x.next;while(x!==r)}else x===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function Of(r){var i=Ln(),d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var h=d.dispatch,x=d.pending,j=i.memoizedState;if(x!==null){d.pending=null;var M=x=x.next;do j=r(j,M.action),M=M.next;while(M!==x);qn(j,i.memoizedState)||(vn=!0),i.memoizedState=j,i.baseQueue===null&&(i.baseState=j),d.lastRenderedState=j}return[j,h]}function gv(){}function yv(r,i){var d=bt,h=Ln(),x=i(),j=!qn(h.memoizedState,x);if(j&&(h.memoizedState=x,vn=!0),h=h.queue,Lf(wv.bind(null,d,h,r),[r]),h.getSnapshot!==i||j||Bt!==null&&Bt.memoizedState.tag&1){if(d.flags|=2048,jo(9,xv.bind(null,d,h,x,i),void 0,null),Ut===null)throw Error(n(349));(aa&30)!==0||vv(d,i,x)}return x}function vv(r,i,d){r.flags|=16384,r={getSnapshot:i,value:d},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.stores=[r]):(d=i.stores,d===null?i.stores=[r]:d.push(r))}function xv(r,i,d,h){i.value=d,i.getSnapshot=h,bv(i)&&jv(r)}function wv(r,i,d){return d(function(){bv(i)&&jv(r)})}function bv(r){var i=r.getSnapshot;r=r.value;try{var d=i();return!qn(r,d)}catch{return!0}}function jv(r){var i=Fr(r,1);i!==null&&er(i,r,1,-1)}function Sv(r){var i=gr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:r},i.queue=r,r=r.dispatch=P2.bind(null,bt,r),[i.memoizedState,r]}function jo(r,i,d,h){return r={tag:r,create:i,destroy:d,deps:h,next:null},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.lastEffect=r.next=r):(d=i.lastEffect,d===null?i.lastEffect=r.next=r:(h=d.next,d.next=r,r.next=h,i.lastEffect=r)),r}function kv(){return Ln().memoizedState}function wc(r,i,d,h){var x=gr();bt.flags|=r,x.memoizedState=jo(1|i,d,void 0,h===void 0?null:h)}function bc(r,i,d,h){var x=Ln();h=h===void 0?null:h;var j=void 0;if($t!==null){var M=$t.memoizedState;if(j=M.destroy,h!==null&&Df(h,M.deps)){x.memoizedState=jo(i,d,j,h);return}}bt.flags|=r,x.memoizedState=jo(1|i,d,j,h)}function Nv(r,i){return wc(8390656,8,r,i)}function Lf(r,i){return bc(2048,8,r,i)}function Cv(r,i){return bc(4,2,r,i)}function _v(r,i){return bc(4,4,r,i)}function Ev(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Mv(r,i,d){return d=d!=null?d.concat([r]):null,bc(4,4,Ev.bind(null,i,r),d)}function Ff(){}function Pv(r,i){var d=Ln();i=i===void 0?null:i;var h=d.memoizedState;return h!==null&&i!==null&&Df(i,h[1])?h[0]:(d.memoizedState=[r,i],r)}function Tv(r,i){var d=Ln();i=i===void 0?null:i;var h=d.memoizedState;return h!==null&&i!==null&&Df(i,h[1])?h[0]:(r=r(),d.memoizedState=[r,i],r)}function Dv(r,i,d){return(aa&21)===0?(r.baseState&&(r.baseState=!1,vn=!0),r.memoizedState=d):(qn(d,i)||(d=ly(),bt.lanes|=d,ia|=d,r.baseState=!0),i)}function E2(r,i){var d=ot;ot=d!==0&&4>d?d:4,r(!0);var h=Tf.transition;Tf.transition={};try{r(!1),i()}finally{ot=d,Tf.transition=h}}function Av(){return Ln().memoizedState}function M2(r,i,d){var h=Ss(r);if(d={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null},Rv(r))Iv(i,d);else if(d=uv(r,i,d,h),d!==null){var x=cn();er(d,r,h,x),Ov(d,i,h)}}function P2(r,i,d){var h=Ss(r),x={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null};if(Rv(r))Iv(i,x);else{var j=r.alternate;if(r.lanes===0&&(j===null||j.lanes===0)&&(j=i.lastRenderedReducer,j!==null))try{var M=i.lastRenderedState,F=j(M,d);if(x.hasEagerState=!0,x.eagerState=F,qn(F,M)){var V=i.interleaved;V===null?(x.next=x,Nf(i)):(x.next=V.next,V.next=x),i.interleaved=x;return}}catch{}finally{}d=uv(r,i,x,h),d!==null&&(x=cn(),er(d,r,h,x),Ov(d,i,h))}}function Rv(r){var i=r.alternate;return r===bt||i!==null&&i===bt}function Iv(r,i){xo=xc=!0;var d=r.pending;d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i}function Ov(r,i,d){if((d&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,d|=h,i.lanes=d,$u(r,d)}}var jc={readContext:On,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},T2={readContext:On,useCallback:function(r,i){return gr().memoizedState=[r,i===void 0?null:i],r},useContext:On,useEffect:Nv,useImperativeHandle:function(r,i,d){return d=d!=null?d.concat([r]):null,wc(4194308,4,Ev.bind(null,i,r),d)},useLayoutEffect:function(r,i){return wc(4194308,4,r,i)},useInsertionEffect:function(r,i){return wc(4,2,r,i)},useMemo:function(r,i){var d=gr();return i=i===void 0?null:i,r=r(),d.memoizedState=[r,i],r},useReducer:function(r,i,d){var h=gr();return i=d!==void 0?d(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=M2.bind(null,bt,r),[h.memoizedState,r]},useRef:function(r){var i=gr();return r={current:r},i.memoizedState=r},useState:Sv,useDebugValue:Ff,useDeferredValue:function(r){return gr().memoizedState=r},useTransition:function(){var r=Sv(!1),i=r[0];return r=E2.bind(null,r[1]),gr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,d){var h=bt,x=gr();if(pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=i(),Ut===null)throw Error(n(349));(aa&30)!==0||vv(h,i,d)}x.memoizedState=d;var j={value:d,getSnapshot:i};return x.queue=j,Nv(wv.bind(null,h,j,r),[r]),h.flags|=2048,jo(9,xv.bind(null,h,j,d,i),void 0,null),d},useId:function(){var r=gr(),i=Ut.identifierPrefix;if(pt){var d=Lr,h=Or;d=(h&~(1<<32-Kn(h)-1)).toString(32)+d,i=":"+i+"R"+d,d=wo++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=_2++,i=":"+i+"r"+d.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},D2={readContext:On,useCallback:Pv,useContext:On,useEffect:Lf,useImperativeHandle:Mv,useInsertionEffect:Cv,useLayoutEffect:_v,useMemo:Tv,useReducer:If,useRef:kv,useState:function(){return If(bo)},useDebugValue:Ff,useDeferredValue:function(r){var i=Ln();return Dv(i,$t.memoizedState,r)},useTransition:function(){var r=If(bo)[0],i=Ln().memoizedState;return[r,i]},useMutableSource:gv,useSyncExternalStore:yv,useId:Av,unstable_isNewReconciler:!1},A2={readContext:On,useCallback:Pv,useContext:On,useEffect:Lf,useImperativeHandle:Mv,useInsertionEffect:Cv,useLayoutEffect:_v,useMemo:Tv,useReducer:Of,useRef:kv,useState:function(){return Of(bo)},useDebugValue:Ff,useDeferredValue:function(r){var i=Ln();return $t===null?i.memoizedState=r:Dv(i,$t.memoizedState,r)},useTransition:function(){var r=Of(bo)[0],i=Ln().memoizedState;return[r,i]},useMutableSource:gv,useSyncExternalStore:yv,useId:Av,unstable_isNewReconciler:!1};function Jn(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var d in r)i[d]===void 0&&(i[d]=r[d]);return i}return i}function $f(r,i,d,h){i=r.memoizedState,d=d(h,i),d=d==null?i:G({},i,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Sc={isMounted:function(r){return(r=r._reactInternals)?Qs(r)===r:!1},enqueueSetState:function(r,i,d){r=r._reactInternals;var h=cn(),x=Ss(r),j=$r(h,x);j.payload=i,d!=null&&(j.callback=d),i=xs(r,j,x),i!==null&&(er(i,r,x,h),pc(i,r,x))},enqueueReplaceState:function(r,i,d){r=r._reactInternals;var h=cn(),x=Ss(r),j=$r(h,x);j.tag=1,j.payload=i,d!=null&&(j.callback=d),i=xs(r,j,x),i!==null&&(er(i,r,x,h),pc(i,r,x))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var d=cn(),h=Ss(r),x=$r(d,h);x.tag=2,i!=null&&(x.callback=i),i=xs(r,x,h),i!==null&&(er(i,r,h,d),pc(i,r,h))}};function Lv(r,i,d,h,x,j,M){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,j,M):i.prototype&&i.prototype.isPureReactComponent?!oo(d,h)||!oo(x,j):!0}function Fv(r,i,d){var h=!1,x=gs,j=i.contextType;return typeof j=="object"&&j!==null?j=On(j):(x=yn(i)?ea:Qt.current,h=i.contextTypes,j=(h=h!=null)?Ha(r,x):gs),i=new i(d,j),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sc,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=j),i}function $v(r,i,d,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,h),i.state!==r&&Sc.enqueueReplaceState(i,i.state,null)}function zf(r,i,d,h){var x=r.stateNode;x.props=d,x.state=r.memoizedState,x.refs={},Cf(r);var j=i.contextType;typeof j=="object"&&j!==null?x.context=On(j):(j=yn(i)?ea:Qt.current,x.context=Ha(r,j)),x.state=r.memoizedState,j=i.getDerivedStateFromProps,typeof j=="function"&&($f(r,i,j,d),x.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&Sc.enqueueReplaceState(x,x.state,null),gc(r,d,x,h),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function Za(r,i){try{var d="",h=i;do d+=ie(h),h=h.return;while(h);var x=d}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:r,source:i,stack:x,digest:null}}function Vf(r,i,d){return{value:r,source:null,stack:d??null,digest:i??null}}function Wf(r,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var R2=typeof WeakMap=="function"?WeakMap:Map;function zv(r,i,d){d=$r(-1,d),d.tag=3,d.payload={element:null};var h=i.value;return d.callback=function(){Pc||(Pc=!0,rm=h),Wf(r,i)},d}function Vv(r,i,d){d=$r(-1,d),d.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var x=i.value;d.payload=function(){return h(x)},d.callback=function(){Wf(r,i)}}var j=r.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){Wf(r,i),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var M=i.stack;this.componentDidCatch(i.value,{componentStack:M!==null?M:""})}),d}function Wv(r,i,d){var h=r.pingCache;if(h===null){h=r.pingCache=new R2;var x=new Set;h.set(i,x)}else x=h.get(i),x===void 0&&(x=new Set,h.set(i,x));x.has(d)||(x.add(d),r=K2.bind(null,r,i,d),i.then(r,r))}function Bv(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Uv(r,i,d,h,x){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=$r(-1,1),i.tag=2,xs(d,i,1))),d.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var I2=E.ReactCurrentOwner,vn=!1;function ln(r,i,d,h){i.child=r===null?dv(i,null,d,h):qa(i,r.child,d,h)}function Hv(r,i,d,h,x){d=d.render;var j=i.ref;return Ja(i,x),h=Af(r,i,d,h,j,x),d=Rf(),r!==null&&!vn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,zr(r,i,x)):(pt&&d&&gf(i),i.flags|=1,ln(r,i,h,x),i.child)}function Yv(r,i,d,h,x){if(r===null){var j=d.type;return typeof j=="function"&&!dm(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=j,Gv(r,i,j,h,x)):(r=Oc(d.type,null,h,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(j=r.child,(r.lanes&x)===0){var M=j.memoizedProps;if(d=d.compare,d=d!==null?d:oo,d(M,h)&&r.ref===i.ref)return zr(r,i,x)}return i.flags|=1,r=Ns(j,h),r.ref=i.ref,r.return=i,i.child=r}function Gv(r,i,d,h,x){if(r!==null){var j=r.memoizedProps;if(oo(j,h)&&r.ref===i.ref)if(vn=!1,i.pendingProps=h=j,(r.lanes&x)!==0)(r.flags&131072)!==0&&(vn=!0);else return i.lanes=r.lanes,zr(r,i,x)}return Bf(r,i,d,h,x)}function Kv(r,i,d){var h=i.pendingProps,x=h.children,j=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(ti,Mn),Mn|=d;else{if((d&1073741824)===0)return r=j!==null?j.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ct(ti,Mn),Mn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=j!==null?j.baseLanes:d,ct(ti,Mn),Mn|=h}else j!==null?(h=j.baseLanes|d,i.memoizedState=null):h=d,ct(ti,Mn),Mn|=h;return ln(r,i,x,d),i.child}function qv(r,i){var d=i.ref;(r===null&&d!==null||r!==null&&r.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function Bf(r,i,d,h,x){var j=yn(d)?ea:Qt.current;return j=Ha(i,j),Ja(i,x),d=Af(r,i,d,h,j,x),h=Rf(),r!==null&&!vn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~x,zr(r,i,x)):(pt&&h&&gf(i),i.flags|=1,ln(r,i,d,x),i.child)}function Xv(r,i,d,h,x){if(yn(d)){var j=!0;oc(i)}else j=!1;if(Ja(i,x),i.stateNode===null)Nc(r,i),Fv(i,d,h),zf(i,d,h,x),h=!0;else if(r===null){var M=i.stateNode,F=i.memoizedProps;M.props=F;var V=M.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=On(ee):(ee=yn(d)?ea:Qt.current,ee=Ha(i,ee));var le=d.getDerivedStateFromProps,ce=typeof le=="function"||typeof M.getSnapshotBeforeUpdate=="function";ce||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(F!==h||V!==ee)&&$v(i,M,h,ee),vs=!1;var oe=i.memoizedState;M.state=oe,gc(i,h,M,x),V=i.memoizedState,F!==h||oe!==V||gn.current||vs?(typeof le=="function"&&($f(i,d,le,h),V=i.memoizedState),(F=vs||Lv(i,d,F,h,oe,V,ee))?(ce||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(i.flags|=4194308)):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=V),M.props=h,M.state=V,M.context=ee,h=F):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{M=i.stateNode,fv(r,i),F=i.memoizedProps,ee=i.type===i.elementType?F:Jn(i.type,F),M.props=ee,ce=i.pendingProps,oe=M.context,V=d.contextType,typeof V=="object"&&V!==null?V=On(V):(V=yn(d)?ea:Qt.current,V=Ha(i,V));var ve=d.getDerivedStateFromProps;(le=typeof ve=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(F!==ce||oe!==V)&&$v(i,M,h,V),vs=!1,oe=i.memoizedState,M.state=oe,gc(i,h,M,x);var je=i.memoizedState;F!==ce||oe!==je||gn.current||vs?(typeof ve=="function"&&($f(i,d,ve,h),je=i.memoizedState),(ee=vs||Lv(i,d,ee,h,oe,je,V)||!1)?(le||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(h,je,V),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(h,je,V)),typeof M.componentDidUpdate=="function"&&(i.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof M.componentDidUpdate!="function"||F===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=je),M.props=h,M.state=je,M.context=V,h=ee):(typeof M.componentDidUpdate!="function"||F===r.memoizedProps&&oe===r.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&oe===r.memoizedState||(i.flags|=1024),h=!1)}return Uf(r,i,d,h,j,x)}function Uf(r,i,d,h,x,j){qv(r,i);var M=(i.flags&128)!==0;if(!h&&!M)return x&&tv(i,d,!1),zr(r,i,j);h=i.stateNode,I2.current=i;var F=M&&typeof d.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&M?(i.child=qa(i,r.child,null,j),i.child=qa(i,null,F,j)):ln(r,i,F,j),i.memoizedState=h.state,x&&tv(i,d,!0),i.child}function Jv(r){var i=r.stateNode;i.pendingContext?Zy(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Zy(r,i.context,!1),_f(r,i.containerInfo)}function Qv(r,i,d,h,x){return Ka(),wf(x),i.flags|=256,ln(r,i,d,h),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Yf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Zv(r,i,d){var h=i.pendingProps,x=wt.current,j=!1,M=(i.flags&128)!==0,F;if((F=M)||(F=r!==null&&r.memoizedState===null?!1:(x&2)!==0),F?(j=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),ct(wt,x&1),r===null)return xf(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(M=h.children,r=h.fallback,j?(h=i.mode,j=i.child,M={mode:"hidden",children:M},(h&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=M):j=Lc(M,h,0,null),r=da(r,h,d,null),j.return=i,r.return=i,j.sibling=r,i.child=j,i.child.memoizedState=Yf(d),i.memoizedState=Hf,r):Gf(i,M));if(x=r.memoizedState,x!==null&&(F=x.dehydrated,F!==null))return O2(r,i,M,h,F,x,d);if(j){j=h.fallback,M=i.mode,x=r.child,F=x.sibling;var V={mode:"hidden",children:h.children};return(M&1)===0&&i.child!==x?(h=i.child,h.childLanes=0,h.pendingProps=V,i.deletions=null):(h=Ns(x,V),h.subtreeFlags=x.subtreeFlags&14680064),F!==null?j=Ns(F,j):(j=da(j,M,d,null),j.flags|=2),j.return=i,h.return=i,h.sibling=j,i.child=h,h=j,j=i.child,M=r.child.memoizedState,M=M===null?Yf(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},j.memoizedState=M,j.childLanes=r.childLanes&~d,i.memoizedState=Hf,h}return j=r.child,r=j.sibling,h=Ns(j,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=d),h.return=i,h.sibling=null,r!==null&&(d=i.deletions,d===null?(i.deletions=[r],i.flags|=16):d.push(r)),i.child=h,i.memoizedState=null,h}function Gf(r,i){return i=Lc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function kc(r,i,d,h){return h!==null&&wf(h),qa(i,r.child,null,d),r=Gf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function O2(r,i,d,h,x,j,M){if(d)return i.flags&256?(i.flags&=-257,h=Vf(Error(n(422))),kc(r,i,M,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(j=h.fallback,x=i.mode,h=Lc({mode:"visible",children:h.children},x,0,null),j=da(j,x,M,null),j.flags|=2,h.return=i,j.return=i,h.sibling=j,i.child=h,(i.mode&1)!==0&&qa(i,r.child,null,M),i.child.memoizedState=Yf(M),i.memoizedState=Hf,j);if((i.mode&1)===0)return kc(r,i,M,null);if(x.data==="$!"){if(h=x.nextSibling&&x.nextSibling.dataset,h)var F=h.dgst;return h=F,j=Error(n(419)),h=Vf(j,h,void 0),kc(r,i,M,h)}if(F=(M&r.childLanes)!==0,vn||F){if(h=Ut,h!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(h.suspendedLanes|M))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,Fr(r,x),er(h,r,x,-1))}return cm(),h=Vf(Error(n(421))),kc(r,i,M,h)}return x.data==="$?"?(i.flags|=128,i.child=r.child,i=q2.bind(null,r),x._reactRetry=i,null):(r=j.treeContext,En=hs(x.nextSibling),_n=i,pt=!0,Xn=null,r!==null&&(Rn[In++]=Or,Rn[In++]=Lr,Rn[In++]=ta,Or=r.id,Lr=r.overflow,ta=i),i=Gf(i,h.children),i.flags|=4096,i)}function ex(r,i,d){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),kf(r.return,i,d)}function Kf(r,i,d,h,x){var j=r.memoizedState;j===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:x}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=h,j.tail=d,j.tailMode=x)}function tx(r,i,d){var h=i.pendingProps,x=h.revealOrder,j=h.tail;if(ln(r,i,h.children,d),h=wt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ex(r,d,i);else if(r.tag===19)ex(r,d,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(ct(wt,h),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(d=i.child,x=null;d!==null;)r=d.alternate,r!==null&&yc(r)===null&&(x=d),d=d.sibling;d=x,d===null?(x=i.child,i.child=null):(x=d.sibling,d.sibling=null),Kf(i,!1,x,d,j);break;case"backwards":for(d=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&yc(r)===null){i.child=x;break}r=x.sibling,x.sibling=d,d=x,x=r}Kf(i,!0,d,null,j);break;case"together":Kf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Nc(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function zr(r,i,d){if(r!==null&&(i.dependencies=r.dependencies),ia|=i.lanes,(d&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,d=Ns(r,r.pendingProps),i.child=d,d.return=i;r.sibling!==null;)r=r.sibling,d=d.sibling=Ns(r,r.pendingProps),d.return=i;d.sibling=null}return i.child}function L2(r,i,d){switch(i.tag){case 3:Jv(i),Ka();break;case 5:pv(i);break;case 1:yn(i.type)&&oc(i);break;case 4:_f(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,x=i.memoizedProps.value;ct(mc,h._currentValue),h._currentValue=x;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(ct(wt,wt.current&1),i.flags|=128,null):(d&i.child.childLanes)!==0?Zv(r,i,d):(ct(wt,wt.current&1),r=zr(r,i,d),r!==null?r.sibling:null);ct(wt,wt.current&1);break;case 19:if(h=(d&i.childLanes)!==0,(r.flags&128)!==0){if(h)return tx(r,i,d);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ct(wt,wt.current),h)break;return null;case 22:case 23:return i.lanes=0,Kv(r,i,d)}return zr(r,i,d)}var nx,qf,rx,sx;nx=function(r,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},qf=function(){},rx=function(r,i,d,h){var x=r.memoizedProps;if(x!==h){r=i.stateNode,sa(pr.current);var j=null;switch(d){case"input":x=rt(r,x),h=rt(r,h),j=[];break;case"select":x=G({},x,{value:void 0}),h=G({},h,{value:void 0}),j=[];break;case"textarea":x=Ue(r,x),h=Ue(r,h),j=[];break;default:typeof x.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=sc)}Eu(d,h);var M;d=null;for(ee in x)if(!h.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var F=x[ee];for(M in F)F.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?j||(j=[]):(j=j||[]).push(ee,null));for(ee in h){var V=h[ee];if(F=x!=null?x[ee]:void 0,h.hasOwnProperty(ee)&&V!==F&&(V!=null||F!=null))if(ee==="style")if(F){for(M in F)!F.hasOwnProperty(M)||V&&V.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in V)V.hasOwnProperty(M)&&F[M]!==V[M]&&(d||(d={}),d[M]=V[M])}else d||(j||(j=[]),j.push(ee,d)),d=V;else ee==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(j=j||[]).push(ee,V)):ee==="children"?typeof V!="string"&&typeof V!="number"||(j=j||[]).push(ee,""+V):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(V!=null&&ee==="onScroll"&&ft("scroll",r),j||F===V||(j=[])):(j=j||[]).push(ee,V))}d&&(j=j||[]).push("style",d);var ee=j;(i.updateQueue=ee)&&(i.flags|=4)}},sx=function(r,i,d,h){d!==h&&(i.flags|=4)};function So(r,i){if(!pt)switch(r.tailMode){case"hidden":i=r.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,d=0,h=0;if(i)for(var x=r.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags&14680064,h|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=h,r.childLanes=d,i}function F2(r,i,d){var h=i.pendingProps;switch(yf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return yn(i.type)&&ic(),en(i),null;case 3:return h=i.stateNode,Qa(),mt(gn),mt(Qt),Pf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(uc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xn!==null&&(im(Xn),Xn=null))),qf(r,i),en(i),null;case 5:Ef(i);var x=sa(vo.current);if(d=i.type,r!==null&&i.stateNode!=null)rx(r,i,d,h,x),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return en(i),null}if(r=sa(pr.current),uc(i)){h=i.stateNode,d=i.type;var j=i.memoizedProps;switch(h[hr]=i,h[mo]=j,r=(i.mode&1)!==0,d){case"dialog":ft("cancel",h),ft("close",h);break;case"iframe":case"object":case"embed":ft("load",h);break;case"video":case"audio":for(x=0;x<co.length;x++)ft(co[x],h);break;case"source":ft("error",h);break;case"img":case"image":case"link":ft("error",h),ft("load",h);break;case"details":ft("toggle",h);break;case"input":xt(h,j),ft("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!j.multiple},ft("invalid",h);break;case"textarea":Et(h,j),ft("invalid",h)}Eu(d,j),x=null;for(var M in j)if(j.hasOwnProperty(M)){var F=j[M];M==="children"?typeof F=="string"?h.textContent!==F&&(j.suppressHydrationWarning!==!0&&rc(h.textContent,F,r),x=["children",F]):typeof F=="number"&&h.textContent!==""+F&&(j.suppressHydrationWarning!==!0&&rc(h.textContent,F,r),x=["children",""+F]):o.hasOwnProperty(M)&&F!=null&&M==="onScroll"&&ft("scroll",h)}switch(d){case"input":he(h),ue(h,j,!0);break;case"textarea":he(h),ut(h);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(h.onclick=sc)}h=x,i.updateQueue=h,h!==null&&(i.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=os(d)),r==="http://www.w3.org/1999/xhtml"?d==="script"?(r=M.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=M.createElement(d,{is:h.is}):(r=M.createElement(d),d==="select"&&(M=r,h.multiple?M.multiple=!0:h.size&&(M.size=h.size))):r=M.createElementNS(r,d),r[hr]=i,r[mo]=h,nx(r,i,!1,!1),i.stateNode=r;e:{switch(M=Mu(d,h),d){case"dialog":ft("cancel",r),ft("close",r),x=h;break;case"iframe":case"object":case"embed":ft("load",r),x=h;break;case"video":case"audio":for(x=0;x<co.length;x++)ft(co[x],r);x=h;break;case"source":ft("error",r),x=h;break;case"img":case"image":case"link":ft("error",r),ft("load",r),x=h;break;case"details":ft("toggle",r),x=h;break;case"input":xt(r,h),x=rt(r,h),ft("invalid",r);break;case"option":x=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},x=G({},h,{value:void 0}),ft("invalid",r);break;case"textarea":Et(r,h),x=Ue(r,h),ft("invalid",r);break;default:x=h}Eu(d,x),F=x;for(j in F)if(F.hasOwnProperty(j)){var V=F[j];j==="style"?Gg(r,V):j==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&qs(r,V)):j==="children"?typeof V=="string"?(d!=="textarea"||V!=="")&&Xs(r,V):typeof V=="number"&&Xs(r,""+V):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?V!=null&&j==="onScroll"&&ft("scroll",r):V!=null&&_(r,j,V,M))}switch(d){case"input":he(r),ue(r,h,!1);break;case"textarea":he(r),ut(r);break;case"option":h.value!=null&&r.setAttribute("value",""+fe(h.value));break;case"select":r.multiple=!!h.multiple,j=h.value,j!=null?We(r,!!h.multiple,j,!1):h.defaultValue!=null&&We(r,!!h.multiple,h.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=sc)}switch(d){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return en(i),null;case 6:if(r&&i.stateNode!=null)sx(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(d=sa(vo.current),sa(pr.current),uc(i)){if(h=i.stateNode,d=i.memoizedProps,h[hr]=i,(j=h.nodeValue!==d)&&(r=_n,r!==null))switch(r.tag){case 3:rc(h.nodeValue,d,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&rc(h.nodeValue,d,(r.mode&1)!==0)}j&&(i.flags|=4)}else h=(d.nodeType===9?d:d.ownerDocument).createTextNode(h),h[hr]=i,i.stateNode=h}return en(i),null;case 13:if(mt(wt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(pt&&En!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ov(),Ka(),i.flags|=98560,j=!1;else if(j=uc(i),h!==null&&h.dehydrated!==null){if(r===null){if(!j)throw Error(n(318));if(j=i.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[hr]=i}else Ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),j=!1}else Xn!==null&&(im(Xn),Xn=null),j=!0;if(!j)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=d,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(wt.current&1)!==0?zt===0&&(zt=3):cm())),i.updateQueue!==null&&(i.flags|=4),en(i),null);case 4:return Qa(),qf(r,i),r===null&&uo(i.stateNode.containerInfo),en(i),null;case 10:return Sf(i.type._context),en(i),null;case 17:return yn(i.type)&&ic(),en(i),null;case 19:if(mt(wt),j=i.memoizedState,j===null)return en(i),null;if(h=(i.flags&128)!==0,M=j.rendering,M===null)if(h)So(j,!1);else{if(zt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(M=yc(r),M!==null){for(i.flags|=128,So(j,!1),h=M.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=d,d=i.child;d!==null;)j=d,r=h,j.flags&=14680066,M=j.alternate,M===null?(j.childLanes=0,j.lanes=r,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=M.childLanes,j.lanes=M.lanes,j.child=M.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=M.memoizedProps,j.memoizedState=M.memoizedState,j.updateQueue=M.updateQueue,j.type=M.type,r=M.dependencies,j.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),d=d.sibling;return ct(wt,wt.current&1|2),i.child}r=r.sibling}j.tail!==null&&Mt()>ni&&(i.flags|=128,h=!0,So(j,!1),i.lanes=4194304)}else{if(!h)if(r=yc(M),r!==null){if(i.flags|=128,h=!0,d=r.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),So(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!pt)return en(i),null}else 2*Mt()-j.renderingStartTime>ni&&d!==1073741824&&(i.flags|=128,h=!0,So(j,!1),i.lanes=4194304);j.isBackwards?(M.sibling=i.child,i.child=M):(d=j.last,d!==null?d.sibling=M:i.child=M,j.last=M)}return j.tail!==null?(i=j.tail,j.rendering=i,j.tail=i.sibling,j.renderingStartTime=Mt(),i.sibling=null,d=wt.current,ct(wt,h?d&1|2:d&1),i):(en(i),null);case 22:case 23:return lm(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Mn&1073741824)!==0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function $2(r,i){switch(yf(i),i.tag){case 1:return yn(i.type)&&ic(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Qa(),mt(gn),mt(Qt),Pf(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Ef(i),null;case 13:if(mt(wt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ka()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return mt(wt),null;case 4:return Qa(),null;case 10:return Sf(i.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Cc=!1,tn=!1,z2=typeof WeakSet=="function"?WeakSet:Set,we=null;function ei(r,i){var d=r.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(h){kt(r,i,h)}else d.current=null}function Xf(r,i,d){try{d()}catch(h){kt(r,i,h)}}var ax=!1;function V2(r,i){if(lf=Yl,r=Ly(),Zu(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var x=h.anchorOffset,j=h.focusNode;h=h.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var M=0,F=-1,V=-1,ee=0,le=0,ce=r,oe=null;t:for(;;){for(var ve;ce!==d||x!==0&&ce.nodeType!==3||(F=M+x),ce!==j||h!==0&&ce.nodeType!==3||(V=M+h),ce.nodeType===3&&(M+=ce.nodeValue.length),(ve=ce.firstChild)!==null;)oe=ce,ce=ve;for(;;){if(ce===r)break t;if(oe===d&&++ee===x&&(F=M),oe===j&&++le===h&&(V=M),(ve=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=ve}d=F===-1||V===-1?null:{start:F,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(cf={focusedElem:r,selectionRange:d},Yl=!1,we=i;we!==null;)if(i=we,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,we=r;else for(;we!==null;){i=we;try{var je=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ne=je.memoizedProps,Pt=je.memoizedState,q=i.stateNode,U=q.getSnapshotBeforeUpdate(i.elementType===i.type?Ne:Jn(i.type,Ne),Pt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var X=i.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){kt(i,i.return,me)}if(r=i.sibling,r!==null){r.return=i.return,we=r;break}we=i.return}return je=ax,ax=!1,je}function ko(r,i,d){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&r)===r){var j=x.destroy;x.destroy=void 0,j!==void 0&&Xf(i,d,j)}x=x.next}while(x!==h)}}function _c(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&r)===r){var h=d.create;d.destroy=h()}d=d.next}while(d!==i)}}function Jf(r){var i=r.ref;if(i!==null){var d=r.stateNode;switch(r.tag){case 5:r=d;break;default:r=d}typeof i=="function"?i(r):i.current=r}}function ix(r){var i=r.alternate;i!==null&&(r.alternate=null,ix(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[hr],delete i[mo],delete i[mf],delete i[S2],delete i[k2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ox(r){return r.tag===5||r.tag===3||r.tag===4}function lx(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ox(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qf(r,i,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(r,i):d.insertBefore(r,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(r,d)):(i=d,i.appendChild(r)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=sc));else if(h!==4&&(r=r.child,r!==null))for(Qf(r,i,d),r=r.sibling;r!==null;)Qf(r,i,d),r=r.sibling}function Zf(r,i,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?d.insertBefore(r,i):d.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Zf(r,i,d),r=r.sibling;r!==null;)Zf(r,i,d),r=r.sibling}var Gt=null,Qn=!1;function ws(r,i,d){for(d=d.child;d!==null;)cx(r,i,d),d=d.sibling}function cx(r,i,d){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(zl,d)}catch{}switch(d.tag){case 5:tn||ei(d,i);case 6:var h=Gt,x=Qn;Gt=null,ws(r,i,d),Gt=h,Qn=x,Gt!==null&&(Qn?(r=Gt,d=d.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)):Gt.removeChild(d.stateNode));break;case 18:Gt!==null&&(Qn?(r=Gt,d=d.stateNode,r.nodeType===8?ff(r.parentNode,d):r.nodeType===1&&ff(r,d),to(r)):ff(Gt,d.stateNode));break;case 4:h=Gt,x=Qn,Gt=d.stateNode.containerInfo,Qn=!0,ws(r,i,d),Gt=h,Qn=x;break;case 0:case 11:case 14:case 15:if(!tn&&(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){x=h=h.next;do{var j=x,M=j.destroy;j=j.tag,M!==void 0&&((j&2)!==0||(j&4)!==0)&&Xf(d,i,M),x=x.next}while(x!==h)}ws(r,i,d);break;case 1:if(!tn&&(ei(d,i),h=d.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(F){kt(d,i,F)}ws(r,i,d);break;case 21:ws(r,i,d);break;case 22:d.mode&1?(tn=(h=tn)||d.memoizedState!==null,ws(r,i,d),tn=h):ws(r,i,d);break;default:ws(r,i,d)}}function dx(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var d=r.stateNode;d===null&&(d=r.stateNode=new z2),i.forEach(function(h){var x=X2.bind(null,r,h);d.has(h)||(d.add(h),h.then(x,x))})}}function Zn(r,i){var d=i.deletions;if(d!==null)for(var h=0;h<d.length;h++){var x=d[h];try{var j=r,M=i,F=M;e:for(;F!==null;){switch(F.tag){case 5:Gt=F.stateNode,Qn=!1;break e;case 3:Gt=F.stateNode.containerInfo,Qn=!0;break e;case 4:Gt=F.stateNode.containerInfo,Qn=!0;break e}F=F.return}if(Gt===null)throw Error(n(160));cx(j,M,x),Gt=null,Qn=!1;var V=x.alternate;V!==null&&(V.return=null),x.return=null}catch(ee){kt(x,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ux(i,r),i=i.sibling}function ux(r,i){var d=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zn(i,r),yr(r),h&4){try{ko(3,r,r.return),_c(3,r)}catch(Ne){kt(r,r.return,Ne)}try{ko(5,r,r.return)}catch(Ne){kt(r,r.return,Ne)}}break;case 1:Zn(i,r),yr(r),h&512&&d!==null&&ei(d,d.return);break;case 5:if(Zn(i,r),yr(r),h&512&&d!==null&&ei(d,d.return),r.flags&32){var x=r.stateNode;try{Xs(x,"")}catch(Ne){kt(r,r.return,Ne)}}if(h&4&&(x=r.stateNode,x!=null)){var j=r.memoizedProps,M=d!==null?d.memoizedProps:j,F=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{F==="input"&&j.type==="radio"&&j.name!=null&&St(x,j),Mu(F,M);var ee=Mu(F,j);for(M=0;M<V.length;M+=2){var le=V[M],ce=V[M+1];le==="style"?Gg(x,ce):le==="dangerouslySetInnerHTML"?qs(x,ce):le==="children"?Xs(x,ce):_(x,le,ce,ee)}switch(F){case"input":qe(x,j);break;case"textarea":Ot(x,j);break;case"select":var oe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var ve=j.value;ve!=null?We(x,!!j.multiple,ve,!1):oe!==!!j.multiple&&(j.defaultValue!=null?We(x,!!j.multiple,j.defaultValue,!0):We(x,!!j.multiple,j.multiple?[]:"",!1))}x[mo]=j}catch(Ne){kt(r,r.return,Ne)}}break;case 6:if(Zn(i,r),yr(r),h&4){if(r.stateNode===null)throw Error(n(162));x=r.stateNode,j=r.memoizedProps;try{x.nodeValue=j}catch(Ne){kt(r,r.return,Ne)}}break;case 3:if(Zn(i,r),yr(r),h&4&&d!==null&&d.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(Ne){kt(r,r.return,Ne)}break;case 4:Zn(i,r),yr(r);break;case 13:Zn(i,r),yr(r),x=r.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(nm=Mt())),h&4&&dx(r);break;case 22:if(le=d!==null&&d.memoizedState!==null,r.mode&1?(tn=(ee=tn)||le,Zn(i,r),tn=ee):Zn(i,r),yr(r),h&8192){if(ee=r.memoizedState!==null,(r.stateNode.isHidden=ee)&&!le&&(r.mode&1)!==0)for(we=r,le=r.child;le!==null;){for(ce=we=le;we!==null;){switch(oe=we,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:ko(4,oe,oe.return);break;case 1:ei(oe,oe.return);var je=oe.stateNode;if(typeof je.componentWillUnmount=="function"){h=oe,d=oe.return;try{i=h,je.props=i.memoizedProps,je.state=i.memoizedState,je.componentWillUnmount()}catch(Ne){kt(h,d,Ne)}}break;case 5:ei(oe,oe.return);break;case 22:if(oe.memoizedState!==null){hx(ce);continue}}ve!==null?(ve.return=oe,we=ve):hx(ce)}le=le.sibling}e:for(le=null,ce=r;;){if(ce.tag===5){if(le===null){le=ce;try{x=ce.stateNode,ee?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(F=ce.stateNode,V=ce.memoizedProps.style,M=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=Yg("display",M))}catch(Ne){kt(r,r.return,Ne)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(Ne){kt(r,r.return,Ne)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===r)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===r)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===r)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Zn(i,r),yr(r),h&4&&dx(r);break;case 21:break;default:Zn(i,r),yr(r)}}function yr(r){var i=r.flags;if(i&2){try{e:{for(var d=r.return;d!==null;){if(ox(d)){var h=d;break e}d=d.return}throw Error(n(160))}switch(h.tag){case 5:var x=h.stateNode;h.flags&32&&(Xs(x,""),h.flags&=-33);var j=lx(r);Zf(r,j,x);break;case 3:case 4:var M=h.stateNode.containerInfo,F=lx(r);Qf(r,F,M);break;default:throw Error(n(161))}}catch(V){kt(r,r.return,V)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function W2(r,i,d){we=r,fx(r)}function fx(r,i,d){for(var h=(r.mode&1)!==0;we!==null;){var x=we,j=x.child;if(x.tag===22&&h){var M=x.memoizedState!==null||Cc;if(!M){var F=x.alternate,V=F!==null&&F.memoizedState!==null||tn;F=Cc;var ee=tn;if(Cc=M,(tn=V)&&!ee)for(we=x;we!==null;)M=we,V=M.child,M.tag===22&&M.memoizedState!==null?px(x):V!==null?(V.return=M,we=V):px(x);for(;j!==null;)we=j,fx(j),j=j.sibling;we=x,Cc=F,tn=ee}mx(r)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,we=j):mx(r)}}function mx(r){for(;we!==null;){var i=we;if((i.flags&8772)!==0){var d=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:tn||_c(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!tn)if(d===null)h.componentDidMount();else{var x=i.elementType===i.type?d.memoizedProps:Jn(i.type,d.memoizedProps);h.componentDidUpdate(x,d.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var j=i.updateQueue;j!==null&&hv(i,j,h);break;case 3:var M=i.updateQueue;if(M!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}hv(i,M,d)}break;case 5:var F=i.stateNode;if(d===null&&i.flags&4){d=F;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&d.focus();break;case"img":V.src&&(d.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&to(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||i.flags&512&&Jf(i)}catch(oe){kt(i,i.return,oe)}}if(i===r){we=null;break}if(d=i.sibling,d!==null){d.return=i.return,we=d;break}we=i.return}}function hx(r){for(;we!==null;){var i=we;if(i===r){we=null;break}var d=i.sibling;if(d!==null){d.return=i.return,we=d;break}we=i.return}}function px(r){for(;we!==null;){var i=we;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{_c(4,i)}catch(V){kt(i,d,V)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var x=i.return;try{h.componentDidMount()}catch(V){kt(i,x,V)}}var j=i.return;try{Jf(i)}catch(V){kt(i,j,V)}break;case 5:var M=i.return;try{Jf(i)}catch(V){kt(i,M,V)}}}catch(V){kt(i,i.return,V)}if(i===r){we=null;break}var F=i.sibling;if(F!==null){F.return=i.return,we=F;break}we=i.return}}var B2=Math.ceil,Ec=E.ReactCurrentDispatcher,em=E.ReactCurrentOwner,Fn=E.ReactCurrentBatchConfig,Ze=0,Ut=null,Lt=null,Kt=0,Mn=0,ti=ps(0),zt=0,No=null,ia=0,Mc=0,tm=0,Co=null,xn=null,nm=0,ni=1/0,Vr=null,Pc=!1,rm=null,bs=null,Tc=!1,js=null,Dc=0,_o=0,sm=null,Ac=-1,Rc=0;function cn(){return(Ze&6)!==0?Mt():Ac!==-1?Ac:Ac=Mt()}function Ss(r){return(r.mode&1)===0?1:(Ze&2)!==0&&Kt!==0?Kt&-Kt:C2.transition!==null?(Rc===0&&(Rc=ly()),Rc):(r=ot,r!==0||(r=window.event,r=r===void 0?16:yy(r.type)),r)}function er(r,i,d,h){if(50<_o)throw _o=0,sm=null,Error(n(185));Xi(r,d,h),((Ze&2)===0||r!==Ut)&&(r===Ut&&((Ze&2)===0&&(Mc|=d),zt===4&&ks(r,Kt)),wn(r,h),d===1&&Ze===0&&(i.mode&1)===0&&(ni=Mt()+500,lc&&ys()))}function wn(r,i){var d=r.callbackNode;C_(r,i);var h=Bl(r,r===Ut?Kt:0);if(h===0)d!==null&&ay(d),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(d!=null&&ay(d),i===1)r.tag===0?N2(yx.bind(null,r)):nv(yx.bind(null,r)),b2(function(){(Ze&6)===0&&ys()}),d=null;else{switch(cy(h)){case 1:d=Ou;break;case 4:d=iy;break;case 16:d=$l;break;case 536870912:d=oy;break;default:d=$l}d=Nx(d,gx.bind(null,r))}r.callbackPriority=i,r.callbackNode=d}}function gx(r,i){if(Ac=-1,Rc=0,(Ze&6)!==0)throw Error(n(327));var d=r.callbackNode;if(ri()&&r.callbackNode!==d)return null;var h=Bl(r,r===Ut?Kt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Ic(r,h);else{i=h;var x=Ze;Ze|=2;var j=xx();(Ut!==r||Kt!==i)&&(Vr=null,ni=Mt()+500,la(r,i));do try{Y2();break}catch(F){vx(r,F)}while(!0);jf(),Ec.current=j,Ze=x,Lt!==null?i=0:(Ut=null,Kt=0,i=zt)}if(i!==0){if(i===2&&(x=Lu(r),x!==0&&(h=x,i=am(r,x))),i===1)throw d=No,la(r,0),ks(r,h),wn(r,Mt()),d;if(i===6)ks(r,h);else{if(x=r.current.alternate,(h&30)===0&&!U2(x)&&(i=Ic(r,h),i===2&&(j=Lu(r),j!==0&&(h=j,i=am(r,j))),i===1))throw d=No,la(r,0),ks(r,h),wn(r,Mt()),d;switch(r.finishedWork=x,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:ca(r,xn,Vr);break;case 3:if(ks(r,h),(h&130023424)===h&&(i=nm+500-Mt(),10<i)){if(Bl(r,0)!==0)break;if(x=r.suspendedLanes,(x&h)!==h){cn(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=uf(ca.bind(null,r,xn,Vr),i);break}ca(r,xn,Vr);break;case 4:if(ks(r,h),(h&4194240)===h)break;for(i=r.eventTimes,x=-1;0<h;){var M=31-Kn(h);j=1<<M,M=i[M],M>x&&(x=M),h&=~j}if(h=x,h=Mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*B2(h/1960))-h,10<h){r.timeoutHandle=uf(ca.bind(null,r,xn,Vr),h);break}ca(r,xn,Vr);break;case 5:ca(r,xn,Vr);break;default:throw Error(n(329))}}}return wn(r,Mt()),r.callbackNode===d?gx.bind(null,r):null}function am(r,i){var d=Co;return r.current.memoizedState.isDehydrated&&(la(r,i).flags|=256),r=Ic(r,i),r!==2&&(i=xn,xn=d,i!==null&&im(i)),r}function im(r){xn===null?xn=r:xn.push.apply(xn,r)}function U2(r){for(var i=r;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var h=0;h<d.length;h++){var x=d[h],j=x.getSnapshot;x=x.value;try{if(!qn(j(),x))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ks(r,i){for(i&=~tm,i&=~Mc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var d=31-Kn(i),h=1<<d;r[d]=-1,i&=~h}}function yx(r){if((Ze&6)!==0)throw Error(n(327));ri();var i=Bl(r,0);if((i&1)===0)return wn(r,Mt()),null;var d=Ic(r,i);if(r.tag!==0&&d===2){var h=Lu(r);h!==0&&(i=h,d=am(r,h))}if(d===1)throw d=No,la(r,0),ks(r,i),wn(r,Mt()),d;if(d===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ca(r,xn,Vr),wn(r,Mt()),null}function om(r,i){var d=Ze;Ze|=1;try{return r(i)}finally{Ze=d,Ze===0&&(ni=Mt()+500,lc&&ys())}}function oa(r){js!==null&&js.tag===0&&(Ze&6)===0&&ri();var i=Ze;Ze|=1;var d=Fn.transition,h=ot;try{if(Fn.transition=null,ot=1,r)return r()}finally{ot=h,Fn.transition=d,Ze=i,(Ze&6)===0&&ys()}}function lm(){Mn=ti.current,mt(ti)}function la(r,i){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;if(d!==-1&&(r.timeoutHandle=-1,w2(d)),Lt!==null)for(d=Lt.return;d!==null;){var h=d;switch(yf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ic();break;case 3:Qa(),mt(gn),mt(Qt),Pf();break;case 5:Ef(h);break;case 4:Qa();break;case 13:mt(wt);break;case 19:mt(wt);break;case 10:Sf(h.type._context);break;case 22:case 23:lm()}d=d.return}if(Ut=r,Lt=r=Ns(r.current,null),Kt=Mn=i,zt=0,No=null,tm=Mc=ia=0,xn=Co=null,ra!==null){for(i=0;i<ra.length;i++)if(d=ra[i],h=d.interleaved,h!==null){d.interleaved=null;var x=h.next,j=d.pending;if(j!==null){var M=j.next;j.next=x,h.next=M}d.pending=h}ra=null}return r}function vx(r,i){do{var d=Lt;try{if(jf(),vc.current=jc,xc){for(var h=bt.memoizedState;h!==null;){var x=h.queue;x!==null&&(x.pending=null),h=h.next}xc=!1}if(aa=0,Bt=$t=bt=null,xo=!1,wo=0,em.current=null,d===null||d.return===null){zt=1,No=i,Lt=null;break}e:{var j=r,M=d.return,F=d,V=i;if(i=Kt,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=V,le=F,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ve=Bv(M);if(ve!==null){ve.flags&=-257,Uv(ve,M,F,j,i),ve.mode&1&&Wv(j,ee,i),i=ve,V=ee;var je=i.updateQueue;if(je===null){var Ne=new Set;Ne.add(V),i.updateQueue=Ne}else je.add(V);break e}else{if((i&1)===0){Wv(j,ee,i),cm();break e}V=Error(n(426))}}else if(pt&&F.mode&1){var Pt=Bv(M);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),Uv(Pt,M,F,j,i),wf(Za(V,F));break e}}j=V=Za(V,F),zt!==4&&(zt=2),Co===null?Co=[j]:Co.push(j),j=M;do{switch(j.tag){case 3:j.flags|=65536,i&=-i,j.lanes|=i;var q=zv(j,V,i);mv(j,q);break e;case 1:F=V;var U=j.type,X=j.stateNode;if((j.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(bs===null||!bs.has(X)))){j.flags|=65536,i&=-i,j.lanes|=i;var me=Vv(j,F,i);mv(j,me);break e}}j=j.return}while(j!==null)}bx(d)}catch(Ce){i=Ce,Lt===d&&d!==null&&(Lt=d=d.return);continue}break}while(!0)}function xx(){var r=Ec.current;return Ec.current=jc,r===null?jc:r}function cm(){(zt===0||zt===3||zt===2)&&(zt=4),Ut===null||(ia&268435455)===0&&(Mc&268435455)===0||ks(Ut,Kt)}function Ic(r,i){var d=Ze;Ze|=2;var h=xx();(Ut!==r||Kt!==i)&&(Vr=null,la(r,i));do try{H2();break}catch(x){vx(r,x)}while(!0);if(jf(),Ze=d,Ec.current=h,Lt!==null)throw Error(n(261));return Ut=null,Kt=0,zt}function H2(){for(;Lt!==null;)wx(Lt)}function Y2(){for(;Lt!==null&&!y_();)wx(Lt)}function wx(r){var i=kx(r.alternate,r,Mn);r.memoizedProps=r.pendingProps,i===null?bx(r):Lt=i,em.current=null}function bx(r){var i=r;do{var d=i.alternate;if(r=i.return,(i.flags&32768)===0){if(d=F2(d,i,Mn),d!==null){Lt=d;return}}else{if(d=$2(d,i),d!==null){d.flags&=32767,Lt=d;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{zt=6,Lt=null;return}}if(i=i.sibling,i!==null){Lt=i;return}Lt=i=r}while(i!==null);zt===0&&(zt=5)}function ca(r,i,d){var h=ot,x=Fn.transition;try{Fn.transition=null,ot=1,G2(r,i,d,h)}finally{Fn.transition=x,ot=h}return null}function G2(r,i,d,h){do ri();while(js!==null);if((Ze&6)!==0)throw Error(n(327));d=r.finishedWork;var x=r.finishedLanes;if(d===null)return null;if(r.finishedWork=null,r.finishedLanes=0,d===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var j=d.lanes|d.childLanes;if(__(r,j),r===Ut&&(Lt=Ut=null,Kt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Tc||(Tc=!0,Nx($l,function(){return ri(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=Fn.transition,Fn.transition=null;var M=ot;ot=1;var F=Ze;Ze|=4,em.current=null,V2(r,d),ux(d,r),m2(cf),Yl=!!lf,cf=lf=null,r.current=d,W2(d),v_(),Ze=F,ot=M,Fn.transition=j}else r.current=d;if(Tc&&(Tc=!1,js=r,Dc=x),j=r.pendingLanes,j===0&&(bs=null),b_(d.stateNode),wn(r,Mt()),i!==null)for(h=r.onRecoverableError,d=0;d<i.length;d++)x=i[d],h(x.value,{componentStack:x.stack,digest:x.digest});if(Pc)throw Pc=!1,r=rm,rm=null,r;return(Dc&1)!==0&&r.tag!==0&&ri(),j=r.pendingLanes,(j&1)!==0?r===sm?_o++:(_o=0,sm=r):_o=0,ys(),null}function ri(){if(js!==null){var r=cy(Dc),i=Fn.transition,d=ot;try{if(Fn.transition=null,ot=16>r?16:r,js===null)var h=!1;else{if(r=js,js=null,Dc=0,(Ze&6)!==0)throw Error(n(331));var x=Ze;for(Ze|=4,we=r.current;we!==null;){var j=we,M=j.child;if((we.flags&16)!==0){var F=j.deletions;if(F!==null){for(var V=0;V<F.length;V++){var ee=F[V];for(we=ee;we!==null;){var le=we;switch(le.tag){case 0:case 11:case 15:ko(8,le,j)}var ce=le.child;if(ce!==null)ce.return=le,we=ce;else for(;we!==null;){le=we;var oe=le.sibling,ve=le.return;if(ix(le),le===ee){we=null;break}if(oe!==null){oe.return=ve,we=oe;break}we=ve}}}var je=j.alternate;if(je!==null){var Ne=je.child;if(Ne!==null){je.child=null;do{var Pt=Ne.sibling;Ne.sibling=null,Ne=Pt}while(Ne!==null)}}we=j}}if((j.subtreeFlags&2064)!==0&&M!==null)M.return=j,we=M;else e:for(;we!==null;){if(j=we,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:ko(9,j,j.return)}var q=j.sibling;if(q!==null){q.return=j.return,we=q;break e}we=j.return}}var U=r.current;for(we=U;we!==null;){M=we;var X=M.child;if((M.subtreeFlags&2064)!==0&&X!==null)X.return=M,we=X;else e:for(M=U;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:_c(9,F)}}catch(Ce){kt(F,F.return,Ce)}if(F===M){we=null;break e}var me=F.sibling;if(me!==null){me.return=F.return,we=me;break e}we=F.return}}if(Ze=x,ys(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(zl,r)}catch{}h=!0}return h}finally{ot=d,Fn.transition=i}}return!1}function jx(r,i,d){i=Za(d,i),i=zv(r,i,1),r=xs(r,i,1),i=cn(),r!==null&&(Xi(r,1,i),wn(r,i))}function kt(r,i,d){if(r.tag===3)jx(r,r,d);else for(;i!==null;){if(i.tag===3){jx(i,r,d);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bs===null||!bs.has(h))){r=Za(d,r),r=Vv(i,r,1),i=xs(i,r,1),r=cn(),i!==null&&(Xi(i,1,r),wn(i,r));break}}i=i.return}}function K2(r,i,d){var h=r.pingCache;h!==null&&h.delete(i),i=cn(),r.pingedLanes|=r.suspendedLanes&d,Ut===r&&(Kt&d)===d&&(zt===4||zt===3&&(Kt&130023424)===Kt&&500>Mt()-nm?la(r,0):tm|=d),wn(r,i)}function Sx(r,i){i===0&&((r.mode&1)===0?i=1:(i=Wl,Wl<<=1,(Wl&130023424)===0&&(Wl=4194304)));var d=cn();r=Fr(r,i),r!==null&&(Xi(r,i,d),wn(r,d))}function q2(r){var i=r.memoizedState,d=0;i!==null&&(d=i.retryLane),Sx(r,d)}function X2(r,i){var d=0;switch(r.tag){case 13:var h=r.stateNode,x=r.memoizedState;x!==null&&(d=x.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),Sx(r,d)}var kx;kx=function(r,i,d){if(r!==null)if(r.memoizedProps!==i.pendingProps||gn.current)vn=!0;else{if((r.lanes&d)===0&&(i.flags&128)===0)return vn=!1,L2(r,i,d);vn=(r.flags&131072)!==0}else vn=!1,pt&&(i.flags&1048576)!==0&&rv(i,dc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Nc(r,i),r=i.pendingProps;var x=Ha(i,Qt.current);Ja(i,d),x=Af(null,i,h,r,x,d);var j=Rf();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,yn(h)?(j=!0,oc(i)):j=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Cf(i),x.updater=Sc,i.stateNode=x,x._reactInternals=i,zf(i,h,r,d),i=Uf(null,i,h,!0,j,d)):(i.tag=0,pt&&j&&gf(i),ln(null,i,x,d),i=i.child),i;case 16:h=i.elementType;e:{switch(Nc(r,i),r=i.pendingProps,x=h._init,h=x(h._payload),i.type=h,x=i.tag=Q2(h),r=Jn(h,r),x){case 0:i=Bf(null,i,h,r,d);break e;case 1:i=Xv(null,i,h,r,d);break e;case 11:i=Hv(null,i,h,r,d);break e;case 14:i=Yv(null,i,h,Jn(h.type,r),d);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,x=i.pendingProps,x=i.elementType===h?x:Jn(h,x),Bf(r,i,h,x,d);case 1:return h=i.type,x=i.pendingProps,x=i.elementType===h?x:Jn(h,x),Xv(r,i,h,x,d);case 3:e:{if(Jv(i),r===null)throw Error(n(387));h=i.pendingProps,j=i.memoizedState,x=j.element,fv(r,i),gc(i,h,null,d);var M=i.memoizedState;if(h=M.element,j.isDehydrated)if(j={element:h,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},i.updateQueue.baseState=j,i.memoizedState=j,i.flags&256){x=Za(Error(n(423)),i),i=Qv(r,i,h,d,x);break e}else if(h!==x){x=Za(Error(n(424)),i),i=Qv(r,i,h,d,x);break e}else for(En=hs(i.stateNode.containerInfo.firstChild),_n=i,pt=!0,Xn=null,d=dv(i,null,h,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ka(),h===x){i=zr(r,i,d);break e}ln(r,i,h,d)}i=i.child}return i;case 5:return pv(i),r===null&&xf(i),h=i.type,x=i.pendingProps,j=r!==null?r.memoizedProps:null,M=x.children,df(h,x)?M=null:j!==null&&df(h,j)&&(i.flags|=32),qv(r,i),ln(r,i,M,d),i.child;case 6:return r===null&&xf(i),null;case 13:return Zv(r,i,d);case 4:return _f(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=qa(i,null,h,d):ln(r,i,h,d),i.child;case 11:return h=i.type,x=i.pendingProps,x=i.elementType===h?x:Jn(h,x),Hv(r,i,h,x,d);case 7:return ln(r,i,i.pendingProps,d),i.child;case 8:return ln(r,i,i.pendingProps.children,d),i.child;case 12:return ln(r,i,i.pendingProps.children,d),i.child;case 10:e:{if(h=i.type._context,x=i.pendingProps,j=i.memoizedProps,M=x.value,ct(mc,h._currentValue),h._currentValue=M,j!==null)if(qn(j.value,M)){if(j.children===x.children&&!gn.current){i=zr(r,i,d);break e}}else for(j=i.child,j!==null&&(j.return=i);j!==null;){var F=j.dependencies;if(F!==null){M=j.child;for(var V=F.firstContext;V!==null;){if(V.context===h){if(j.tag===1){V=$r(-1,d&-d),V.tag=2;var ee=j.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?V.next=V:(V.next=le.next,le.next=V),ee.pending=V}}j.lanes|=d,V=j.alternate,V!==null&&(V.lanes|=d),kf(j.return,d,i),F.lanes|=d;break}V=V.next}}else if(j.tag===10)M=j.type===i.type?null:j.child;else if(j.tag===18){if(M=j.return,M===null)throw Error(n(341));M.lanes|=d,F=M.alternate,F!==null&&(F.lanes|=d),kf(M,d,i),M=j.sibling}else M=j.child;if(M!==null)M.return=j;else for(M=j;M!==null;){if(M===i){M=null;break}if(j=M.sibling,j!==null){j.return=M.return,M=j;break}M=M.return}j=M}ln(r,i,x.children,d),i=i.child}return i;case 9:return x=i.type,h=i.pendingProps.children,Ja(i,d),x=On(x),h=h(x),i.flags|=1,ln(r,i,h,d),i.child;case 14:return h=i.type,x=Jn(h,i.pendingProps),x=Jn(h.type,x),Yv(r,i,h,x,d);case 15:return Gv(r,i,i.type,i.pendingProps,d);case 17:return h=i.type,x=i.pendingProps,x=i.elementType===h?x:Jn(h,x),Nc(r,i),i.tag=1,yn(h)?(r=!0,oc(i)):r=!1,Ja(i,d),Fv(i,h,x),zf(i,h,x,d),Uf(null,i,h,!0,r,d);case 19:return tx(r,i,d);case 22:return Kv(r,i,d)}throw Error(n(156,i.tag))};function Nx(r,i){return sy(r,i)}function J2(r,i,d,h){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,i,d,h){return new J2(r,i,d,h)}function dm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Q2(r){if(typeof r=="function")return dm(r)?1:0;if(r!=null){if(r=r.$$typeof,r===$)return 11;if(r===Q)return 14}return 2}function Ns(r,i){var d=r.alternate;return d===null?(d=$n(r.tag,i,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=i,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&14680064,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,i=r.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d}function Oc(r,i,d,h,x,j){var M=2;if(h=r,typeof r=="function")dm(r)&&(M=1);else if(typeof r=="string")M=5;else e:switch(r){case A:return da(d.children,x,j,i);case I:M=8,x|=8;break;case z:return r=$n(12,d,i,x|2),r.elementType=z,r.lanes=j,r;case K:return r=$n(13,d,i,x),r.elementType=K,r.lanes=j,r;case Y:return r=$n(19,d,i,x),r.elementType=Y,r.lanes=j,r;case R:return Lc(d,x,j,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:M=10;break e;case H:M=9;break e;case $:M=11;break e;case Q:M=14;break e;case te:M=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=$n(M,d,i,x),i.elementType=r,i.type=h,i.lanes=j,i}function da(r,i,d,h){return r=$n(7,r,h,i),r.lanes=d,r}function Lc(r,i,d,h){return r=$n(22,r,h,i),r.elementType=R,r.lanes=d,r.stateNode={isHidden:!1},r}function um(r,i,d){return r=$n(6,r,null,i),r.lanes=d,r}function fm(r,i,d){return i=$n(4,r.children!==null?r.children:[],r.key,i),i.lanes=d,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Z2(r,i,d,h,x){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=h,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function mm(r,i,d,h,x,j,M,F,V){return r=new Z2(r,i,d,F,V),i===1?(i=1,j===!0&&(i|=8)):i=0,j=$n(3,null,null,i),r.current=j,j.stateNode=r,j.memoizedState={element:h,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(j),r}function eE(r,i,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:h==null?null:""+h,children:r,containerInfo:i,implementation:d}}function Cx(r){if(!r)return gs;r=r._reactInternals;e:{if(Qs(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(yn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var d=r.type;if(yn(d))return ev(r,d,i)}return i}function _x(r,i,d,h,x,j,M,F,V){return r=mm(d,h,!0,r,x,j,M,F,V),r.context=Cx(null),d=r.current,h=cn(),x=Ss(d),j=$r(h,x),j.callback=i??null,xs(d,j,x),r.current.lanes=x,Xi(r,x,h),wn(r,h),r}function Fc(r,i,d,h){var x=i.current,j=cn(),M=Ss(x);return d=Cx(d),i.context===null?i.context=d:i.pendingContext=d,i=$r(j,M),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=xs(x,i,M),r!==null&&(er(r,x,M,j),pc(r,x,M)),M}function $c(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ex(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<i?d:i}}function hm(r,i){Ex(r,i),(r=r.alternate)&&Ex(r,i)}function tE(){return null}var Mx=typeof reportError=="function"?reportError:function(r){console.error(r)};function pm(r){this._internalRoot=r}zc.prototype.render=pm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Fc(r,i,null,null)},zc.prototype.unmount=pm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;oa(function(){Fc(null,r,null,null)}),i[Rr]=null}};function zc(r){this._internalRoot=r}zc.prototype.unstable_scheduleHydration=function(r){if(r){var i=fy();r={blockedOn:null,target:r,priority:i};for(var d=0;d<us.length&&i!==0&&i<us[d].priority;d++);us.splice(d,0,r),d===0&&py(r)}};function gm(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Vc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Px(){}function nE(r,i,d,h,x){if(x){if(typeof h=="function"){var j=h;h=function(){var ee=$c(M);j.call(ee)}}var M=_x(i,h,r,0,null,!1,!1,"",Px);return r._reactRootContainer=M,r[Rr]=M.current,uo(r.nodeType===8?r.parentNode:r),oa(),M}for(;x=r.lastChild;)r.removeChild(x);if(typeof h=="function"){var F=h;h=function(){var ee=$c(V);F.call(ee)}}var V=mm(r,0,!1,null,null,!1,!1,"",Px);return r._reactRootContainer=V,r[Rr]=V.current,uo(r.nodeType===8?r.parentNode:r),oa(function(){Fc(i,V,d,h)}),V}function Wc(r,i,d,h,x){var j=d._reactRootContainer;if(j){var M=j;if(typeof x=="function"){var F=x;x=function(){var V=$c(M);F.call(V)}}Fc(i,M,r,x)}else M=nE(d,i,r,x,h);return $c(M)}dy=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var d=qi(i.pendingLanes);d!==0&&($u(i,d|1),wn(i,Mt()),(Ze&6)===0&&(ni=Mt()+500,ys()))}break;case 13:oa(function(){var h=Fr(r,1);if(h!==null){var x=cn();er(h,r,1,x)}}),hm(r,1)}},zu=function(r){if(r.tag===13){var i=Fr(r,134217728);if(i!==null){var d=cn();er(i,r,134217728,d)}hm(r,134217728)}},uy=function(r){if(r.tag===13){var i=Ss(r),d=Fr(r,i);if(d!==null){var h=cn();er(d,r,i,h)}hm(r,i)}},fy=function(){return ot},my=function(r,i){var d=ot;try{return ot=r,i()}finally{ot=d}},Du=function(r,i,d){switch(i){case"input":if(qe(r,d),i=d.name,d.type==="radio"&&i!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var h=d[i];if(h!==r&&h.form===r.form){var x=ac(h);if(!x)throw Error(n(90));be(h),qe(h,x)}}}break;case"textarea":Ot(r,d);break;case"select":i=d.value,i!=null&&We(r,!!d.multiple,i,!1)}},Jg=om,Qg=oa;var rE={usingClientEntryPoint:!1,Events:[ho,Ba,ac,qg,Xg,om]},Eo={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sE={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ny(r),r===null?null:r.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||tE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{zl=Bc.inject(sE),mr=Bc}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE,bn.createPortal=function(r,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(i))throw Error(n(200));return eE(r,i,null,d)},bn.createRoot=function(r,i){if(!gm(r))throw Error(n(299));var d=!1,h="",x=Mx;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=mm(r,1,!1,null,null,d,!1,h,x),r[Rr]=i.current,uo(r.nodeType===8?r.parentNode:r),new pm(i)},bn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ny(i),r=r===null?null:r.stateNode,r},bn.flushSync=function(r){return oa(r)},bn.hydrate=function(r,i,d){if(!Vc(i))throw Error(n(200));return Wc(null,r,i,!0,d)},bn.hydrateRoot=function(r,i,d){if(!gm(r))throw Error(n(405));var h=d!=null&&d.hydratedSources||null,x=!1,j="",M=Mx;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),i=_x(i,null,r,1,d??null,x,!1,j,M),r[Rr]=i.current,uo(r),h)for(r=0;r<h.length;r++)d=h[r],x=d._getVersion,x=x(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,x]:i.mutableSourceEagerHydrationData.push(d,x);return new zc(i)},bn.render=function(r,i,d){if(!Vc(i))throw Error(n(200));return Wc(null,r,i,!1,d)},bn.unmountComponentAtNode=function(r){if(!Vc(r))throw Error(n(40));return r._reactRootContainer?(oa(function(){Wc(null,null,r,!1,function(){r._reactRootContainer=null,r[Rr]=null})}),!0):!1},bn.unstable_batchedUpdates=om,bn.unstable_renderSubtreeIntoContainer=function(r,i,d,h){if(!Vc(d))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Wc(r,i,d,!1,h)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var Fx;function jb(){if(Fx)return xm.exports;Fx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xm.exports=fE(),xm.exports}var $x;function mE(){if($x)return Uc;$x=1;var e=jb();return Uc.createRoot=e.createRoot,Uc.hydrateRoot=e.hydrateRoot,Uc}var hE=mE();const pE=ip(hE);var Po={},zx;function gE(){if(zx)return Po;zx=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.parse=c,Po.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,w){const S=new l,k=v.length;if(k<2)return S;const C=(w==null?void 0:w.decode)||m;let b=0;do{const N=v.indexOf("=",b);if(N===-1)break;const _=v.indexOf(";",b),E=_===-1?k:_;if(N>E){b=v.lastIndexOf(";",N-1)+1;continue}const P=u(v,b,N),O=f(v,N,P),A=v.slice(P,O);if(S[A]===void 0){let I=u(v,N+1,E),z=f(v,E,I);const W=C(v.slice(I,z));S[A]=W}b=E+1}while(b<k);return S}function u(v,w,S){do{const k=v.charCodeAt(w);if(k!==32&&k!==9)return w}while(++w<S);return S}function f(v,w,S){for(;w>S;){const k=v.charCodeAt(--w);if(k!==32&&k!==9)return w+1}return S}function p(v,w,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=k(w);if(!t.test(C))throw new TypeError(`argument val is invalid: ${w}`);let b=v+"="+C;if(!S)return b;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);b+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);b+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);b+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);b+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(b+="; HttpOnly"),S.secure&&(b+="; Secure"),S.partitioned&&(b+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return b}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return Po}gE();var Vx="popstate";function yE(e={}){function t(s,o){let{pathname:l,search:c,hash:u}=s.location;return dh("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ko(o)}return xE(t,n,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vE(){return Math.random().toString(36).substring(2,10)}function Wx(e,t){return{usr:e.state,key:e.key,idx:t}}function dh(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ei(t):t,state:n,key:t&&t.key||s||vE()}}function Ko({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function xE(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,u="POP",f=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function y(){u="POP";let C=m(),b=C==null?null:C-p;p=C,f&&f({action:u,location:k.location,delta:b})}function v(C,b){u="PUSH";let N=dh(k.location,C,b);p=m()+1;let _=Wx(N,p),E=k.createHref(N);try{c.pushState(_,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(E)}l&&f&&f({action:u,location:k.location,delta:1})}function w(C,b){u="REPLACE";let N=dh(k.location,C,b);p=m();let _=Wx(N,p),E=k.createHref(N);c.replaceState(_,"",E),l&&f&&f({action:u,location:k.location,delta:0})}function S(C){return wE(C)}let k={get action(){return u},get location(){return e(o,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Vx,y),f=C,()=>{o.removeEventListener(Vx,y),f=null}},createHref(C){return t(o,C)},createURL:S,encodeLocation(C){let b=S(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:w,go(C){return c.go(C)}};return k}function wE(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ko(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Sb(e,t,n="/"){return bE(e,t,n,!1)}function bE(e,t,n,s){let o=typeof t=="string"?Ei(t):t,l=Zr(o.pathname||"/",n);if(l==null)return null;let c=kb(e);jE(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let p=AE(l);u=TE(c[f],p,s)}return u}function kb(e,t=[],n=[],s=""){let o=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(vt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let p=qr([s,f.relativePath]),m=n.concat(f);l.children&&l.children.length>0&&(vt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),kb(l.children,t,m,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:ME(p,l.index),routesMeta:m})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let f of Nb(l.path))o(l,c,f)}),t}function Nb(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Nb(s.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function jE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PE(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var SE=/^:[\w-]+$/,kE=3,NE=2,CE=1,_E=10,EE=-2,Bx=e=>e==="*";function ME(e,t){let n=e.split("/"),s=n.length;return n.some(Bx)&&(s+=EE),t&&(s+=NE),n.filter(o=>!Bx(o)).reduce((o,l)=>o+(SE.test(l)?kE:l===""?CE:_E),s)}function PE(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function TE(e,t,n=!1){let{routesMeta:s}=e,o={},l="/",c=[];for(let u=0;u<s.length;++u){let f=s[u],p=u===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",y=vd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),v=f.route;if(!y&&p&&n&&!s[s.length-1].route.index&&(y=vd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:qr([l,y.pathname]),pathnameBase:LE(qr([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=qr([l,y.pathnameBase]))}return c}function vd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=DE(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:y},v)=>{if(m==="*"){let S=u[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[v];return y&&!w?p[m]=void 0:p[m]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function DE(e,t=!1,n=!0){Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function AE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function RE(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Ei(e):e;return{pathname:n?n.startsWith("/")?n:IE(n,t):t,search:FE(s),hash:$E(o)}}function IE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lp(e){let t=OE(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function cp(e,t,n,s=!1){let o;typeof e=="string"?o=Ei(e):(o={...e},vt(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=n;else{let y=t.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}u=y>=0?t[y]:"/"}let f=RE(o,u),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var qr=e=>e.join("/").replace(/\/\/+/g,"/"),LE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$E=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Cb=["POST","PUT","PATCH","DELETE"];new Set(Cb);var VE=["GET",...Cb];new Set(VE);var Mi=g.createContext(null);Mi.displayName="DataRouter";var Id=g.createContext(null);Id.displayName="DataRouterState";var _b=g.createContext({isTransitioning:!1});_b.displayName="ViewTransition";var WE=g.createContext(new Map);WE.displayName="Fetchers";var BE=g.createContext(null);BE.displayName="Await";var lr=g.createContext(null);lr.displayName="Navigation";var dl=g.createContext(null);dl.displayName="Location";var Tr=g.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var dp=g.createContext(null);dp.displayName="RouteError";function UE(e,{relative:t}={}){vt(Pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=g.useContext(lr),{hash:o,pathname:l,search:c}=ul(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:qr([n,l])),s.createHref({pathname:u,search:c,hash:o})}function Pi(){return g.useContext(dl)!=null}function cr(){return vt(Pi(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(dl).location}var Eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mb(e){g.useContext(lr).static||g.useLayoutEffect(e)}function _t(){let{isDataRoute:e}=g.useContext(Tr);return e?rM():HE()}function HE(){vt(Pi(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Mi),{basename:t,navigator:n}=g.useContext(lr),{matches:s}=g.useContext(Tr),{pathname:o}=cr(),l=JSON.stringify(lp(s)),c=g.useRef(!1);return Mb(()=>{c.current=!0}),g.useCallback((f,p={})=>{if(Yn(c.current,Eb),!c.current)return;if(typeof f=="number"){n.go(f);return}let m=cp(f,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:qr([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,o,e])}g.createContext(null);function ul(e,{relative:t}={}){let{matches:n}=g.useContext(Tr),{pathname:s}=cr(),o=JSON.stringify(lp(n));return g.useMemo(()=>cp(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function YE(e,t){return Pb(e,t)}function Pb(e,t,n,s){var b;vt(Pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=g.useContext(lr),{matches:l}=g.useContext(Tr),c=l[l.length-1],u=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let N=m&&m.path||"";Tb(f,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=cr(),v;if(t){let N=typeof t=="string"?Ei(t):t;vt(p==="/"||((b=N.pathname)==null?void 0:b.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=y;let w=v.pathname||"/",S=w;if(p!=="/"){let N=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=Sb(e,{pathname:S});Yn(m||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=JE(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:qr([p,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:qr([p,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,s);return t&&C?g.createElement(dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function GE(){let e=nM(),t=zE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:l},"ErrorBoundary")," or"," ",g.createElement("code",{style:l},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:o},n):null,c)}var KE=g.createElement(GE,null),qE=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Tr.Provider,{value:this.props.routeContext},g.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XE({routeContext:e,match:t,children:n}){let s=g.useContext(Mi);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Tr.Provider,{value:e},n)}function JE(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:m,errors:y}=n,v=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let y,v=!1,w=null,S=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||KE,c&&(u<0&&m===0?(Tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):u===m&&(v=!0,S=p.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,m+1)),C=()=>{let b;return y?b=w:v?b=S:p.route.Component?b=g.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,g.createElement(XE,{match:p,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?g.createElement(qE,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}function up(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(e){let t=g.useContext(Mi);return vt(t,up(e)),t}function ZE(e){let t=g.useContext(Id);return vt(t,up(e)),t}function eM(e){let t=g.useContext(Tr);return vt(t,up(e)),t}function fp(e){let t=eM(e),n=t.matches[t.matches.length-1];return vt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function tM(){return fp("useRouteId")}function nM(){var s;let e=g.useContext(dp),t=ZE("useRouteError"),n=fp("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function rM(){let{router:e}=QE("useNavigate"),t=fp("useNavigate"),n=g.useRef(!1);return Mb(()=>{n.current=!0}),g.useCallback(async(o,l={})=>{Yn(n.current,Eb),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var Ux={};function Tb(e,t,n){!t&&!Ux[e]&&(Ux[e]=!0,Yn(!1,n))}g.memo(sM);function sM({routes:e,future:t,state:n}){return Pb(e,void 0,n,t)}function aM({to:e,replace:t,state:n,relative:s}){vt(Pi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=g.useContext(lr);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=g.useContext(Tr),{pathname:c}=cr(),u=_t(),f=cp(e,lp(l),c,s==="path"),p=JSON.stringify(f);return g.useEffect(()=>{u(JSON.parse(p),{replace:t,state:n,relative:s})},[u,p,s,t,n]),null}function Nt(e){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iM({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){vt(!Pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Ei(n));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=n,w=g.useMemo(()=>{let S=Zr(f,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:y,key:v},navigationType:s}},[c,f,p,m,y,v,s]);return Yn(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:g.createElement(lr.Provider,{value:u},g.createElement(dl.Provider,{children:t,value:w}))}function oM({children:e,location:t}){return YE(uh(e),t)}function uh(e,t=[]){let n=[];return g.Children.forEach(e,(s,o)=>{if(!g.isValidElement(s))return;let l=[...t,o];if(s.type===g.Fragment){n.push.apply(n,uh(s.props.children,l));return}vt(s.type===Nt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=uh(s.props.children,l)),n.push(c)}),n}var od="get",ld="application/x-www-form-urlencoded";function Od(e){return e!=null&&typeof e.tagName=="string"}function lM(e){return Od(e)&&e.tagName.toLowerCase()==="button"}function cM(e){return Od(e)&&e.tagName.toLowerCase()==="form"}function dM(e){return Od(e)&&e.tagName.toLowerCase()==="input"}function uM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fM(e,t){return e.button===0&&(!t||t==="_self")&&!uM(e)}function fh(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function mM(e,t){let n=fh(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Hc=null;function hM(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var pM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(e){return e!=null&&!pM.has(e)?(Yn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ld}"`),null):e}function gM(e,t){let n,s,o,l,c;if(cM(e)){let u=e.getAttribute("action");s=u?Zr(u,t):null,n=e.getAttribute("method")||od,o=Sm(e.getAttribute("enctype"))||ld,l=new FormData(e)}else if(lM(e)||dM(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?Zr(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||od,o=Sm(e.getAttribute("formenctype"))||Sm(u.getAttribute("enctype"))||ld,l=new FormData(u,e),!hM()){let{name:p,type:m,value:y}=e;if(m==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,y)}}else{if(Od(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=od,s=null,o=ld,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}function mp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function yM(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xM(e,t,n){let s=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await yM(l,n);return c.links?c.links():[]}return[]}));return SM(s.flat(1).filter(vM).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hx(e,t,n,s,o,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,u=(f,p)=>{var m;return n[p].pathname!==f.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,p)=>c(f,p)||u(f,p)):l==="data"?t.filter((f,p)=>{var y;let m=s.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,p)||u(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wM(e,t,{includeHydrateFallback:n}={}){return bM(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function bM(e){return[...new Set(e)]}function jM(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function SM(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let l=JSON.stringify(jM(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kM=new Set([100,101,204,205]);function NM(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Zr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Db(){let e=g.useContext(Mi);return mp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function CM(){let e=g.useContext(Id);return mp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hp=g.createContext(void 0);hp.displayName="FrameworkContext";function Ab(){let e=g.useContext(hp);return mp(e,"You must render this element inside a <HydratedRouter> element"),e}function _M(e,t){let n=g.useContext(hp),[s,o]=g.useState(!1),[l,c]=g.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=t,v=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=b=>{b.forEach(N=>{c(N.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[e]),g.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let w=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:To(u,w),onBlur:To(f,S),onMouseEnter:To(p,w),onMouseLeave:To(m,S),onTouchStart:To(y,w)}]:[!1,v,{}]}function To(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function EM({page:e,...t}){let{router:n}=Db(),s=g.useMemo(()=>Sb(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?g.createElement(PM,{page:e,matches:s,...t}):null}function MM(e){let{manifest:t,routeModules:n}=Ab(),[s,o]=g.useState([]);return g.useEffect(()=>{let l=!1;return xM(e,t,n).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,n]),s}function PM({page:e,matches:t,...n}){let s=cr(),{manifest:o,routeModules:l}=Ab(),{basename:c}=Db(),{loaderData:u,matches:f}=CM(),p=g.useMemo(()=>Hx(e,t,f,o,s,"data"),[e,t,f,o,s]),m=g.useMemo(()=>Hx(e,t,f,o,s,"assets"),[e,t,f,o,s]),y=g.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let S=new Set,k=!1;if(t.forEach(b=>{var _;let N=o.routes[b.route.id];!N||!N.hasLoader||(!p.some(E=>E.route.id===b.route.id)&&b.route.id in u&&((_=l[b.route.id])!=null&&_.shouldRevalidate)||N.hasClientLoader?k=!0:S.add(b.route.id))}),S.size===0)return[];let C=NM(e,c);return k&&S.size>0&&C.searchParams.set("_routes",t.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[c,u,s,o,p,t,e,l]),v=g.useMemo(()=>wM(m,o),[m,o]),w=MM(m);return g.createElement(g.Fragment,null,y.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:k})=>g.createElement("link",{key:S,...k})))}function TM(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rb&&(window.__reactRouterVersion="7.6.3")}catch{}function DM({basename:e,children:t,window:n}){let s=g.useRef();s.current==null&&(s.current=yE({window:n,v5Compat:!0}));let o=s.current,[l,c]=g.useState({action:o.action,location:o.location}),u=g.useCallback(f=>{g.startTransition(()=>c(f))},[c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.createElement(iM,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=g.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:u,target:f,to:p,preventScrollReset:m,viewTransition:y,...v},w){let{basename:S}=g.useContext(lr),k=typeof p=="string"&&Ib.test(p),C,b=!1;if(typeof p=="string"&&k&&(C=p,Rb))try{let z=new URL(window.location.href),W=p.startsWith("//")?new URL(z.protocol+p):new URL(p),H=Zr(W.pathname,S);W.origin===z.origin&&H!=null?p=H+W.search+W.hash:b=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=UE(p,{relative:o}),[_,E,P]=_M(s,v),O=OM(p,{replace:c,state:u,target:f,preventScrollReset:m,relative:o,viewTransition:y});function A(z){t&&t(z),z.defaultPrevented||O(z)}let I=g.createElement("a",{...v,...P,href:C||N,onClick:b||l?t:A,ref:TM(w,E),target:f,"data-discover":!k&&n==="render"?"true":void 0});return _&&!k?g.createElement(g.Fragment,null,I,g.createElement(EM,{page:N})):I});Wn.displayName="Link";var AM=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f,...p},m){let y=ul(c,{relative:p.relative}),v=cr(),w=g.useContext(Id),{navigator:S,basename:k}=g.useContext(lr),C=w!=null&&VM(y)&&u===!0,b=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,N=v.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(N=N.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&k&&(_=Zr(_,k)||_);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=N===b||!o&&N.startsWith(b)&&N.charAt(E)==="/",O=_!=null&&(_===b||!o&&_.startsWith(b)&&_.charAt(b.length)==="/"),A={isActive:P,isPending:O,isTransitioning:C},I=P?t:void 0,z;typeof s=="function"?z=s(A):z=[s,P?"active":null,O?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(A):l;return g.createElement(Wn,{...p,"aria-current":I,className:z,ref:m,style:W,to:c,viewTransition:u},typeof f=="function"?f(A):f)});AM.displayName="NavLink";var RM=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:l,method:c=od,action:u,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y,...v},w)=>{let S=$M(),k=zM(u,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&Ib.test(u),N=_=>{if(f&&f(_),_.defaultPrevented)return;_.preventDefault();let E=_.nativeEvent.submitter,P=(E==null?void 0:E.getAttribute("formmethod"))||c;S(E||_.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:o,state:l,relative:p,preventScrollReset:m,viewTransition:y})};return g.createElement("form",{ref:w,method:C,action:k,onSubmit:s?f:N,...v,"data-discover":!b&&e==="render"?"true":void 0})});RM.displayName="Form";function IM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(e){let t=g.useContext(Mi);return vt(t,IM(e)),t}function OM(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let u=_t(),f=cr(),p=ul(e,{relative:l});return g.useCallback(m=>{if(fM(m,t)){m.preventDefault();let y=n!==void 0?n:Ko(f)===Ko(p);u(e,{replace:y,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[f,u,p,n,s,t,e,o,l,c])}function Bs(e){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(fh(e)),n=g.useRef(!1),s=cr(),o=g.useMemo(()=>mM(s.search,n.current?null:t.current),[s.search]),l=_t(),c=g.useCallback((u,f)=>{const p=fh(typeof u=="function"?u(o):u);n.current=!0,l("?"+p,f)},[l,o]);return[o,c]}var LM=0,FM=()=>`__${String(++LM)}__`;function $M(){let{router:e}=Ob("useSubmit"),{basename:t}=g.useContext(lr),n=tM();return g.useCallback(async(s,o={})=>{let{action:l,method:c,encType:u,formData:f,body:p}=gM(s,t);if(o.navigate===!1){let m=o.fetcherKey||FM();await e.fetch(m,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function zM(e,{relative:t}={}){let{basename:n}=g.useContext(lr),s=g.useContext(Tr);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ul(e||".",{relative:t})},c=cr();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();l.search=m?`?${m}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qr([n,l.pathname])),Ko(l)}function VM(e,t={}){let n=g.useContext(_b);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ob("useViewTransitionState"),o=ul(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Zr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Zr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vd(o.pathname,c)!=null||vd(o.pathname,l)!=null}[...kM];var fl=jb();const WM=ip(fl),BM=20,Lb=5e3,Gr={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let km=0;function UM(){return km=(km+1)%Number.MAX_VALUE,km.toString()}const Nm=new Map,Cm=e=>{if(Nm.has(e))return;const t=$o.toasts.find(o=>o.id===e),n=t&&typeof t.duration=="number"?t.duration:Lb;console.log("[TOAST DEBUG] Scheduling auto-dismiss for toastId:",e,"duration:",n);const s=setTimeout(()=>{Nm.delete(e),console.log("[TOAST DEBUG] Auto-dismiss triggered for toastId:",e),zo({type:Gr.REMOVE_TOAST,toastId:e})},n);Nm.set(e,s)},HM=(e,t)=>{switch(t.type){case Gr.ADD_TOAST:return t.toast&&(typeof t.toast.duration=="number"||typeof Lb=="number")&&(console.log("[TOAST DEBUG] ADD_TOAST scheduling auto-dismiss for",t.toast.id,"duration:",t.toast.duration),Cm(t.toast.id)),{...e,toasts:[t.toast,...e.toasts].slice(0,BM)};case Gr.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case Gr.DISMISS_TOAST:{const{toastId:n}=t;return n?Cm(n):e.toasts.forEach(s=>{Cm(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case Gr.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},cd=[];let $o={toasts:[]};function zo(e){$o=HM($o,e),cd.forEach(t=>{t($o)})}function xa({...e}){const t=UM(),n=o=>zo({type:Gr.UPDATE_TOAST,toast:{...o,id:t}}),s=()=>zo({type:Gr.DISMISS_TOAST,toastId:t});return zo({type:Gr.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function Yt(){const[e,t]=g.useState($o);return g.useEffect(()=>(cd.push(t),()=>{const n=cd.indexOf(t);n>-1&&cd.splice(n,1)}),[e]),{...e,toast:xa,dismiss:n=>zo({type:Gr.DISMISS_TOAST,toastId:n})}}function Fb(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Fb(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function $b(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Fb(e))&&(s&&(s+=" "),s+=t);return s}const Yx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gx=$b,Ti=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Gx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(p=>{const m=n==null?void 0:n[p],y=l==null?void 0:l[p];if(m===null)return null;const v=Yx(m)||Yx(y);return o[p][v]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,v]=m;return v===void 0||(p[y]=v),p},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((p,m)=>{let{class:y,className:v,...w}=m;return Object.entries(w).every(S=>{let[k,C]=S;return Array.isArray(C)?C.includes({...l,...u}[k]):{...l,...u}[k]===C})?[...p,y,v]:p},[]);return Gx(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zb=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...u},f)=>g.createElement("svg",{ref:f,...GM,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:zb("lucide",o),...u},[...c.map(([p,m])=>g.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=g.forwardRef(({className:s,...o},l)=>g.createElement(KM,{ref:l,iconNode:t,className:zb(`lucide-${YM(e)}`,s),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_m=ge("Activity",qM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],JM=ge("ArrowLeft",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pp=ge("ArrowRight",QM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Vb=ge("Bell",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Xr=ge("Bot",eP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Wb=ge("Briefcase",tP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],rP=ge("Cake",nP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Kx=ge("CalendarDays",sP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mn=ge("Calendar",aP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],oP=ge("Camera",iP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Di=ge("Check",lP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ld=ge("ChevronDown",cP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ml=ge("ChevronLeft",dP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ja=ge("ChevronRight",uP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Bb=ge("ChevronUp",fP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hP=ge("CircleAlert",mP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qx=ge("CircleCheckBig",pP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ub=ge("CircleCheck",gP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xx=ge("CirclePlus",yP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hb=ge("Circle",vP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mh=ge("Clock",xP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],bP=ge("Coffee",wP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SP=ge("CreditCard",jP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],NP=ge("Crown",kP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]],_P=ge("DatabaseZap",CP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],MP=ge("DollarSign",EP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],TP=ge("EllipsisVertical",PP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],AP=ge("Ellipsis",DP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Vo=ge("Gift",RP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],OP=ge("GraduationCap",IP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],FP=ge("HardDrive",LP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],zP=ge("Heart",$P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],vi=ge("House",VP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],BP=ge("Info",WP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Jx=ge("LayoutGrid",UP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Qx=ge("Link",HP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],GP=ge("List",YP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],At=ge("LoaderCircle",KP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yb=ge("Lock",qP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Gb=ge("LogIn",XP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],QP=ge("LogOut",JP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gp=ge("Mail",ZP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],tT=ge("Maximize",eT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],hh=ge("MessageCircle",nT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Kb=ge("MessageSquare",rT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],aT=ge("Mic",sT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],oT=ge("Minimize",iT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],cT=ge("Music",lT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],uT=ge("Palette",dT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],mT=ge("PanelLeft",fT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],pT=ge("PartyPopper",hT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xi=ge("Plus",gT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Wo=ge("Repeat",yT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],xT=ge("Rocket",vT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qb=ge("Send",wT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hl=ge("Settings",bT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xb=ge("ShieldCheck",jT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zx=ge("Shield",ST);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],NT=ge("ShoppingCart",kT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_T=ge("Smartphone",CT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xd=ge("Sparkles",ET);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jb=ge("SquareCheckBig",MT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pi=ge("SquarePen",PT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ph=ge("Star",TT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],AT=ge("Stethoscope",DT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ms=ge("Tag",RT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],es=ge("Trash2",IT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],LT=ge("Trash",OT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yp=ge("TriangleAlert",FT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],e0=ge("UserPlus",$T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],VT=ge("User",zT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],rr=ge("Users",WT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Os=ge("X",BT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qb=ge("Zap",UT),vp="-",HT=e=>{const t=GT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const u=c.split(vp);return u[0]===""&&u.length!==1&&u.shift(),Zb(u,t)||YT(c)},getConflictingClassGroupIds:(c,u)=>{const f=n[c]||[];return u&&s[c]?[...f,...s[c]]:f}}},Zb=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?Zb(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(vp);return(c=t.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},t0=/^\[(.+)\]$/,YT=e=>{if(t0.test(e)){const t=t0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},GT=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const o in n)gh(n[o],s,o,t);return s},gh=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:n0(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(KT(o)){gh(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,c])=>{gh(c,n0(t,l),n,s)})})},n0=(e,t)=>{let n=e;return t.split(vp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},KT=e=>e.isThemeGetter,qT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(l,c)=>{n.set(l,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return o(l,c),c},set(l,c){n.has(l)?n.set(l,c):o(l,c)}}},yh="!",vh=":",XT=vh.length,JT=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=o=>{const l=[];let c=0,u=0,f=0,p;for(let S=0;S<o.length;S++){let k=o[S];if(c===0&&u===0){if(k===vh){l.push(o.slice(f,S)),f=S+XT;continue}if(k==="/"){p=S;continue}}k==="["?c++:k==="]"?c--:k==="("?u++:k===")"&&u--}const m=l.length===0?o:o.substring(f),y=QT(m),v=y!==m,w=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:w}};if(t){const o=t+vh,l=s;s=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=l=>n({className:l,parseClassName:o})}return s},QT=e=>e.endsWith(yh)?e.substring(0,e.length-1):e.startsWith(yh)?e.substring(1):e,ZT=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let l=[];return s.forEach(c=>{c[0]==="["||t[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},eD=e=>({cache:qT(e.cacheSize),parseClassName:JT(e),sortModifiers:ZT(e),...HT(e)}),tD=/\s+/,nD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=t,c=[],u=e.trim().split(tD);let f="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:v,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:k}=n(m);if(y){f=m+(f.length>0?" "+f:f);continue}let C=!!k,b=s(C?S.substring(0,k):S);if(!b){if(!C){f=m+(f.length>0?" "+f:f);continue}if(b=s(S),!b){f=m+(f.length>0?" "+f:f);continue}C=!1}const N=l(v).join(":"),_=w?N+yh:N,E=_+b;if(c.includes(E))continue;c.push(E);const P=o(b,C);for(let O=0;O<P.length;++O){const A=P[O];c.push(_+A)}f=m+(f.length>0?" "+f:f)}return f};function rD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=e1(t))&&(s&&(s+=" "),s+=n);return s}const e1=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=e1(e[s]))&&(n&&(n+=" "),n+=t);return n};function sD(e,...t){let n,s,o,l=c;function c(f){const p=t.reduce((m,y)=>y(m),e());return n=eD(p),s=n.cache.get,o=n.cache.set,l=u,u(f)}function u(f){const p=s(f);if(p)return p;const m=nD(f,n);return o(f,m),m}return function(){return l(rD.apply(null,arguments))}}const Vt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},t1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,n1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aD=/^\d+\/\d+$/,iD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=e=>aD.test(e),Ve=e=>!!e&&!Number.isNaN(Number(e)),_s=e=>!!e&&Number.isInteger(Number(e)),Em=e=>e.endsWith("%")&&Ve(e.slice(0,-1)),Wr=e=>iD.test(e),uD=()=>!0,fD=e=>oD.test(e)&&!lD.test(e),r1=()=>!1,mD=e=>cD.test(e),hD=e=>dD.test(e),pD=e=>!Se(e)&&!ke(e),gD=e=>Ai(e,i1,r1),Se=e=>t1.test(e),ua=e=>Ai(e,o1,fD),Mm=e=>Ai(e,bD,Ve),r0=e=>Ai(e,s1,r1),yD=e=>Ai(e,a1,hD),Yc=e=>Ai(e,l1,mD),ke=e=>n1.test(e),Do=e=>Ri(e,o1),vD=e=>Ri(e,jD),s0=e=>Ri(e,s1),xD=e=>Ri(e,i1),wD=e=>Ri(e,a1),Gc=e=>Ri(e,l1,!0),Ai=(e,t,n)=>{const s=t1.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Ri=(e,t,n=!1)=>{const s=n1.exec(e);return s?s[1]?t(s[1]):n:!1},s1=e=>e==="position"||e==="percentage",a1=e=>e==="image"||e==="url",i1=e=>e==="length"||e==="size"||e==="bg-size",o1=e=>e==="length",bD=e=>e==="number",jD=e=>e==="family-name",l1=e=>e==="shadow",SD=()=>{const e=Vt("color"),t=Vt("font"),n=Vt("text"),s=Vt("font-weight"),o=Vt("tracking"),l=Vt("leading"),c=Vt("breakpoint"),u=Vt("container"),f=Vt("spacing"),p=Vt("radius"),m=Vt("shadow"),y=Vt("inset-shadow"),v=Vt("text-shadow"),w=Vt("drop-shadow"),S=Vt("blur"),k=Vt("perspective"),C=Vt("aspect"),b=Vt("ease"),N=Vt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...E(),ke,Se],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],I=()=>[ke,Se,f],z=()=>[si,"full","auto",...I()],W=()=>[_s,"none","subgrid",ke,Se],H=()=>["auto",{span:["full",_s,ke,Se]},_s,ke,Se],$=()=>[_s,"auto",ke,Se],K=()=>["auto","min","max","fr",ke,Se],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...I()],R=()=>[si,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],D=()=>[e,ke,Se],L=()=>[...E(),s0,r0,{position:[ke,Se]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",xD,gD,{size:[ke,Se]}],B=()=>[Em,Do,ua],ne=()=>["","none","full",p,ke,Se],ae=()=>["",Ve,Do,ua],ie=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[Ve,Em,s0,r0],fe=()=>["","none",S,ke,Se],J=()=>["none",Ve,ke,Se],de=()=>["none",Ve,ke,Se],he=()=>[Ve,ke,Se],be=()=>[si,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wr],breakpoint:[Wr],color:[uD],container:[Wr],"drop-shadow":[Wr],ease:["in","out","in-out"],font:[pD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wr],shadow:[Wr],spacing:["px",Ve],text:[Wr],"text-shadow":[Wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",si,Se,ke,C]}],container:["container"],columns:[{columns:[Ve,Se,ke,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[_s,"auto",ke,Se]}],basis:[{basis:[si,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,si,"auto","initial","none",Se]}],grow:[{grow:["",Ve,ke,Se]}],shrink:[{shrink:["",Ve,ke,Se]}],order:[{order:[_s,"first","last","none",ke,Se]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[u,"screen",...R()]}],"min-w":[{"min-w":[u,"screen","none",...R()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",n,Do,ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ke,Mm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Em,Se]}],"font-family":[{font:[vD,Se,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ke,Se]}],"line-clamp":[{"line-clamp":[Ve,"none",ke,Mm]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",ke,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ke,ua]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Ve,"auto",ke,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_s,ke,Se],radial:["",ke,Se],conic:[_s,ke,Se]},wD,yD]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ke,Se]}],"outline-w":[{outline:["",Ve,Do,ua]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",m,Gc,Yc]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",y,Gc,Yc]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Ve,ua]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",v,Gc,Yc]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Ve,ke,Se]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[ke,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Se]}],filter:[{filter:["","none",ke,Se]}],blur:[{blur:fe()}],brightness:[{brightness:[Ve,ke,Se]}],contrast:[{contrast:[Ve,ke,Se]}],"drop-shadow":[{"drop-shadow":["","none",w,Gc,Yc]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Ve,ke,Se]}],"hue-rotate":[{"hue-rotate":[Ve,ke,Se]}],invert:[{invert:["",Ve,ke,Se]}],saturate:[{saturate:[Ve,ke,Se]}],sepia:[{sepia:["",Ve,ke,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Se]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ke,Se]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ke,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ke,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ke,Se]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ke,Se]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ke,Se]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ke,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ke,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ke,Se]}],ease:[{ease:["linear","initial",b,ke,Se]}],delay:[{delay:[Ve,ke,Se]}],animate:[{animate:["none",N,ke,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ke,Se]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[ke,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Se]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Ve,Do,ua,Mm]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kD=sD(SD);function pe(...e){return kD($b(e))}const c1=g.forwardRef(({...e},t)=>a.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));c1.displayName="ToastProvider";const d1=g.forwardRef(({...e},t)=>a.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));d1.displayName="ToastViewport";const ND=Ti("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),u1=g.forwardRef(({className:e,variant:t,open:n,onOpenChange:s,...o},l)=>a.jsx("div",{ref:l,className:pe(ND({variant:t}),e),"data-state":n?"open":"closed",...o}));u1.displayName="Toast";const CD=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));CD.displayName="ToastAction";const f1=g.forwardRef(({className:e,onClick:t,onOpenChange:n,...s},o)=>{const l=c=>{t&&t(c),n&&n(!1)};return a.jsx("button",{ref:o,onClick:l,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),...s,children:a.jsx(Os,{className:"h-4 w-4"})})});f1.displayName="ToastClose";const m1=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("text-sm font-semibold",e),...t}));m1.displayName="ToastTitle";const h1=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("text-sm opacity-90",e),...t}));h1.displayName="ToastDescription";function _D(){const{toasts:e,dismiss:t}=Yt(),[n,s]=g.useState(new Set),o=(c,u)=>{c||(t(u),s(f=>new Set(f).add(u)))},l=e.filter(c=>c.open!==!1);return console.log("[TOASTER DEBUG] Rendering. Toasts:",e,"Visible:",l),a.jsxs(c1,{children:[l.map(({id:c,title:u,description:f,action:p,...m})=>a.jsxs(u1,{open:m.open,onOpenChange:y=>o(y,c),...m,children:[a.jsxs("div",{className:"grid gap-1",children:[u&&a.jsx(m1,{children:u}),f&&a.jsx(h1,{children:f})]}),p,a.jsx(f1,{onClick:()=>o(!1,c)})]},c)),a.jsx(d1,{})]})}var yb,vb;const xh=typeof window<"u"&&window.__API_BASE||((vb=(yb=import.meta)==null?void 0:yb.env)==null?void 0:vb.VITE_API_BASE)||"/api",ED=e=>{if(!e)return e;const[t,n]=e.split("?");return t.endsWith("/")?e:n?`${t}/?${n}`:`${t}/`},Kc=new Map,ai=async(e,t={},{noSlash:n=!1,_retry401:s=!1}={})=>{const o=localStorage.getItem("famlyai_token"),l=new Headers(t.headers||{});o&&!l.has("Authorization")&&l.set("Authorization",`Bearer ${o}`);const c=n?e:ED(e),u=`${xh}${c}`,p=`${(t.method||"GET").toUpperCase()}|${u}`;if(Kc.has(p))return Kc.get(p);const m=(async()=>{var S;let y=await fetch(u,{...t,headers:l}),v=y.headers.get("content-type")||"",w=v.includes("application/json")?await y.json():await y.text();if(y.status===401&&!s){try{if(await((S=Tn.refreshToken)==null?void 0:S.call(Tn))){const C=localStorage.getItem("famlyai_token");if(C&&l.set("Authorization",`Bearer ${C}`),y=await fetch(u,{...t,headers:l}),v=y.headers.get("content-type")||"",w=v.includes("application/json")?await y.json():await y.text(),y.ok)return w}}catch{}throw wh(),window.location.href="/",new Error("Session expired. Please sign in again.")}if(!y.ok){const k=typeof w=="string"?w:JSON.stringify(w);throw new Error(k||`HTTP ${y.status}`)}return w})().finally(()=>Kc.delete(p));return Kc.set(p,m),m},Pm=(e,t)=>{t&&localStorage.setItem("famlyai_token",t),localStorage.setItem("famlyai_user",JSON.stringify(e)),localStorage.setItem("famlyai_user_cached_at",String(Date.now()))},Tm=()=>{const e=localStorage.getItem("famlyai_user");return e?JSON.parse(e):null},wh=()=>{localStorage.removeItem("famlyai_user"),localStorage.removeItem("famlyai_token"),localStorage.removeItem("famlyai_user_cached_at")};let qc=null;const MD=6e4,PD=()=>{const e=Number(localStorage.getItem("famlyai_user_cached_at")||0);return Date.now()-e<MD},Tn={login:async(e,t)=>{const n=new URLSearchParams({username:e,password:t}),s=await ai("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n},{noSlash:!0}),{access_token:o,refresh_token:l}=s||{};if(!o)throw new Error("No access token received");const c=await ai("/auth/me",{headers:{Authorization:`Bearer ${o}`}},{noSlash:!0});return Pm(c,o),l&&localStorage.setItem("famlyai_refresh_token",l),c},checkEmail:async e=>ai(`/auth/check-email?email=${encodeURIComponent(e)}`,{},{noSlash:!0}),signup:async e=>{const t=await ai("/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},{noSlash:!0}),{access_token:n,refresh_token:s}=t||{};if(!n)throw new Error("No access token received");const o=await ai("/auth/me",{headers:{Authorization:`Bearer ${n}`}},{noSlash:!0});return Pm(o,n),s&&localStorage.setItem("famlyai_refresh_token",s),o},me:async()=>!localStorage.getItem("famlyai_token")||PD()?Tm():(qc||(qc=ai("/auth/me",{},{noSlash:!0}).then(t=>(Pm(t),t)).catch(t=>{throw wh(),t}).finally(()=>{qc=null})),qc),logout:async()=>{try{await fetch(`${xh}/auth/logout`,{method:"POST",credentials:"include"})}catch{}wh(),localStorage.removeItem("famlyai_refresh_token")},getCurrentUser:Tm,isLoggedIn:()=>!!localStorage.getItem("famlyai_token"),getToken:()=>localStorage.getItem("famlyai_token"),refreshToken:async()=>{try{const e=await fetch(`${xh}/auth/refresh`,{method:"POST",credentials:"include",headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Refresh failed");const{access_token:t,refresh_token:n}=await e.json();return t?(localStorage.setItem("famlyai_token",t),n&&localStorage.setItem("famlyai_refresh_token",n),!0):!1}catch{return!1}}},pl=e=>{if(!e)return e;const[t,n]=e.split("?");return t.endsWith("/")?n?`${t}?${n}`:t:n?`${t}/?${n}`:`${t}/`},Ii=(e={},t=null,n=null)=>{const s=new URLSearchParams;return Object.entries(e||{}).forEach(([o,l])=>{l!=null&&s.append(o,l)}),t&&s.append("order_by",t),n&&s.append("limit",String(n)),s.toString()};async function Ee(e,t={}){const n="".replace(/\/+$/,"")||"/api",s=e.startsWith("http")?e:`${n}${e}`,o=localStorage.getItem("famlyai_token")||"",l=new Headers(t.headers||{});o&&!l.has("Authorization")&&l.set("Authorization",`Bearer ${o}`),t.body!==void 0&&t.body!==null&&!l.has("Content-Type")&&l.set("Content-Type","application/json");const u={credentials:"same-origin",...t,headers:l},f=await fetch(s,u);if(f.status===204||f.status===205)return null;const m=(f.headers.get("content-type")||"").includes("application/json");let y;try{y=m?await f.json():await f.text()}catch{y=void 0}if(!f.ok){let v="";try{v=await f.clone().text()}catch{}const w=typeof y=="string"&&y||v||`${f.status} ${f.statusText}`,S=new Error(w);throw S.status=f.status,S}return y}const tt={...Tn,login:Tn.login,logout:Tn.logout,me:Tn.me,checkEmail:e=>Ee(`/auth/check-email?email=${encodeURIComponent(e)}`),signup:e=>Ee("/auth/signup",{method:"POST",body:JSON.stringify(e)}),updateMyUserData:e=>Ee("/users/me",{method:"PUT",body:JSON.stringify(e)})},Dt={list:()=>Ee("/tasks/all"),filter:(e={},t=null,n=null)=>{const s=Ii(e,t,n);return Ee(pl(`/tasks${s?`?${s}`:""}`))},create:e=>{const t={...e};return t.id||delete t.id,(t.due_date===""||t.due_date==null)&&delete t.due_date,t.assigned_to&&!Array.isArray(t.assigned_to)&&(t.assigned_to=[t.assigned_to].flat().filter(Boolean)),Ee("/tasks/",{method:"POST",body:JSON.stringify(t)})},update:(e,t)=>{const n={...t};return n.due_date===""&&(n.due_date=null),n.assigned_to&&!Array.isArray(n.assigned_to)&&(n.assigned_to=[n.assigned_to].flat().filter(Boolean)),Ee(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(n)})},delete:e=>Ee(`/tasks/${e}`,{method:"DELETE"}),bulkCreate:async(e=[])=>{const t=[];for(const n of e)t.push(await Dt.create(n));return t},toEvent:(e,t={})=>Ee(`/tasks/${e}/to-event`,{method:"POST",body:JSON.stringify(t)})},TD=new Set(["school","work","sports","medical","social","family","other","holiday","studyday","outing"]),a0=(e,{end:t=!1}={})=>{if(!e)return e;if(e instanceof Date)return e.toISOString();if(typeof e=="string")return/[zZ]|[+\-]\d{2}:\d{2}$/.test(e)?e:/^\d{4}-\d{2}-\d{2}$/.test(e)?t?`${e}T23:59:00`:`${e}T00:00:00`:e;const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toISOString()},i0=e=>{const t={...e};return t.start_time=a0(t.start_time,{end:!1}),t.end_time=a0(t.end_time,{end:!0}),Array.isArray(t.family_member_ids)||(t.family_member_ids=t.family_member_ids?[t.family_member_ids].flat():[]),t.category&&!TD.has(t.category)&&(t.category="other"),t},it={list:()=>Ee("/schedule_events"),filter:(e={},t=null,n=1e3)=>{const s=Ii(e,t,n);return Ee(pl(`/schedule_events${s?`?${s}`:""}`))},get:e=>Ee(`/schedule_events/${e}`),create:e=>{const t=i0(e);return Ee("/schedule_events/",{method:"POST",body:JSON.stringify(t)})},update:(e,t)=>{const n=i0(t);return Ee(`/schedule_events/${e}`,{method:"PUT",body:JSON.stringify(n)})},delete:e=>Ee(`/schedule_events/${e}`,{method:"DELETE"}),bulkCreate:async(e=[])=>{const t=[];for(const n of e)t.push(await it.create(n));return t},upcoming:async()=>{const e=await Ee("/schedule_events/"),t=new Date;return e.filter(n=>new Date(n.start_time)>t).sort((n,s)=>new Date(n.start_time)-new Date(s.start_time)).slice(0,5)},toTask:(e,t={})=>Ee(`/schedule_events/${e}/to-task`,{method:"POST",body:JSON.stringify(t)})},ht={list:()=>Ee("/family_members/"),filter:(e={},t=null,n=null)=>{const s=Ii(e,t,n);return Ee(pl(`/family_members${s?`?${s}`:""}`))},get:e=>Ee(`/family_members/${e}`),me:()=>Ee("/family_members/me"),create:e=>Ee("/family_members/",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Ee(`/family_members/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Ee(`/family_members/${e}`,{method:"DELETE"})},sr={get:e=>Ee(`/families/${e}`),list:()=>Ee("/families/all"),updateName:(e,t)=>Ee(`/families/${e}/name`,{method:"PUT",body:JSON.stringify({name:t})})},As={filter:(e={},t=null,n=null)=>{const s=Ii(e,t,n);return Ee(pl(`/conversations${s?`?${s}`:""}`))},get:e=>Ee(`/conversations/${e}`),create:e=>Ee("/conversations/",{method:"POST",body:JSON.stringify(e)}),openOrCreate:({participant_member_ids:e,title:t,type:n}={})=>Ee("/conversations/open_or_create",{method:"POST",body:JSON.stringify({participant_member_ids:e,title:t,type:n})}),dm:e=>Ee(`/conversations/dm/${e}`,{method:"POST"}),update:(e,t)=>Ee(`/conversations/${e}`,{method:"PUT",body:JSON.stringify(t)}),markAsRead:e=>Ee(`/chat_messages/conversation/${e}/mark_read`,{method:"POST"})},Yr={filter:(e={},t=null,n=null)=>{const s=Ii(e,t,n);return Ee(`/chat_messages${s?`?${s}`:""}`)},get:e=>Ee(`/chat_messages/${e}`),create:e=>Ee("/chat_messages/",{method:"POST",body:JSON.stringify(e)}),delete:e=>Ee(`/chat_messages/${e}`,{method:"DELETE"}),emptyConversation:e=>Ee(`/chat_messages/conversation/${e}`,{method:"DELETE"})},Rs={filter:(e={})=>{const t=Ii(e);return Ee(pl(`/wishlist_items${t?`?${t}`:""}`))},create:e=>Ee("/wishlist_items/",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Ee(`/wishlist_items/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Ee(`/wishlist_items/${e}`,{method:"DELETE"}),bulkCreate:async(e=[])=>{const t=[];for(const n of e)t.push(await Rs.create(n));return t}},Hr={list:()=>Ee("/user_whitelist/"),filter:()=>Ee("/user_whitelist/"),create:e=>{const t={email:(e.email||"").toLowerCase(),added_by:e.added_by||null,notes:e.notes||null,status:e.status||"active"};return Ee("/user_whitelist/",{method:"POST",body:JSON.stringify(t)})},update:(e,t)=>Ee(`/user_whitelist/${encodeURIComponent(e)}?status=${encodeURIComponent(t)}`,{method:"PUT"})},vr={create:e=>{const t={email:(e.email||"").toLowerCase(),family_id:e.family_id};return e.status&&(t.status=e.status),e.invited_by&&(t.invited_by=e.invited_by),Ee("/family_invitations/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},list:()=>Ee("/family_invitations/"),filter:e=>{const t=e?`?${new URLSearchParams(e).toString()}`:"";return Ee(`/family_invitations/${t}`)}},Io={getVapidPublicKey:()=>Ee("/push/vapid-public-key"),subscribe:e=>Ee("/push/subscribe",{method:"POST",body:JSON.stringify(e)})},bh=Object.freeze(Object.defineProperty({__proto__:null,ChatMessage:Yr,Conversation:As,Family:sr,FamilyInvitation:vr,FamilyMember:ht,Push:Io,ScheduleEvent:it,Task:Dt,User:tt,UserWhitelist:Hr,WishlistItem:Rs,fetchWithAuth:Ee},Symbol.toStringTag,{value:"Module"})),o0={en:{dashboard:"Dashboard",schedule:"Schedule",tasks:"Tasks",events:"Events",admin:"Admin",platformAdmin:"Platform Admin",tagline:"Making famly life easier",signOut:"Sign out",loading:"Loading",errorLoadingData:"Error loading data",comingSoon:"Coming soon",featureInDevelopment:"This feature is currently in development.",backToDashboard:"Back to dashboard",cancel:"Cancel",update:"Update",create:"Create",yesSoundsGood:"Yes, sounds good",due:"Due",rateLimitExceeded:"Rate limit exceeded",tooManyRequests:"Too many requests were made. Please wait a moment before trying again.",refreshPage:"Refresh Page",goToHome:"Go to Home",allStatuses:"All Statuses",allMembers:"All Members",status:"Status",assignee:"Assignee",todo:"To Do",in_progress:"In Progress",completed:"Completed",aiAssistant:"AI assistant",aiAssistantTitle:"Your personal assistant",aiAssistantTagline:"How can I simplify my famly life?",aiError:"Sorry, I had a little trouble with that. Could you try rephrasing?",actionCancelled:"Okay, I won't do that.",noFamilyIdError:"I can't do that without a famly context. Please set up or join a famly first.",taskCreatedConfirmation:`Okay, I've created the task: "{title}".`,eventCreatedConfirmation:`Okay, I've scheduled the event: "{title}".`,wishlistAddedConfirmation:`Okay, I've added "{name}" to the wishlist.`,scheduleMyAppointment:"Schedule my appointment for tomorrow",addToMyWishlist:"Add a new game to my wishlist",createMyTasks:"Create a task to clean my room",typeYourMessage:"Type your message...",chats:"Chats",activeNow:"Active now",noConversationSelected:"No conversation selected",selectConversationFromSidebar:"Select a conversation from the sidebar to start chatting.",goToDashboard:"Go to dashboard",weekly:"Weekly",byMember:"By member",today:"Today",todaysEvents:"Events of the day",filterByCategory:"Filter by category",filterByDate:"Filter by date",holiday:"Holiday",studyday:"Study Day",filterByMember:"Filter by member",hideMembersFilter:"Hide Members Filter",showMembersFilter:"Show Members Filter",dashboardFavoriteSet:"Dashboard favorite set",dashboardFavoriteRemoved:"Dashboard favorite removed",dashboardUsesGeneralPreference:"Dashboard will use your general preference",editEvent:"Edit event",addNewEvent:"Add new event",recurring:"Recurring",editRecurringEvent:"Edit recurring event",editRecurringDescription:"You are editing a recurring event. What would you like to do?",editThisEvent:"Edit this event only",editAllEvents:"Edit all events in series",eventTitle:"Event title",enterEventTitle:"Enter event title",description:"Description",addEventDetails:"Add event details...",startDateTime:"Start date & time",selectDate:"Select date",selectTime:"Select time",selectHour:"Select Hour",backToHours:"Back to hours",endDateTime:"End date & time",recurringEvent:"Recurring event",selectRecurrence:"Select recurrence",daily:"Daily",monthly:"Monthly",yearly:"Yearly",assignToMembers:"Assign to members",assignToDefault:"Assign to (default: all)",membersSelected:"{count, plural, one {# member selected} other {# members selected}}",membersSelectedOne:"1 member selected",membersSelectedMany:"{count} members selected",selectMembers:"Select members",assignToAllHint:"Leave empty to assign to all famly members.",category:"Category",selectCategory:"Select category",school:"School",work:"Work",sports:"Sports",medical:"Medical",social:"Social",famly:"Famly",other:"Other",priority:"Priority",selectPriority:"Select priority",low:"Low",medium:"Medium",high:"High",location:"Location",enterLocation:"Enter location",deleteEvent:"Delete event",selectOption:"Select option",processingFailed:"Processing failed",unexpectedErrorOccurred:"An unexpected error occurred. Please try again.",noEventsToday:"No events today",createNewTask:"Create new task",editTask:"Edit task",taskPlaceholder:"What needs to be done?",addDetails:"Add details...",setDueDate:"Set due date",recurringTask:"Recurring task",estimatedDuration:"Estimated duration (minutes)",points:"Points",updateTask:"Update task",createTask:"Create task",allClear:"All clear!",noTasksMatchFilters:"No tasks match your current filters.",task:{createdTitle:"Task Created",updatedTitle:"Task Updated",deletedTitle:"Task Deleted",statusUpdatedTitle:"Status Updated",saveError:"Failed to save task",deleteError:"Failed to delete task",statusUpdateError:"Failed to update status"},confirmClearChat:"Are you sure you want to delete all messages in this chat? This action cannot be undone.",chatCleared:"Chat Cleared",allMessagesDeleted:"All messages have been deleted.",couldNotClearChat:"Could not clear chat messages.",notificationSettings:"Notification Settings",chatSettings:"Chat Settings",clearChat:"Clear Chat",connectors:"Connectors",connectorsDescription:"Connect your favorite apps and services to streamline your famly life.",activeConnectors:"Active connectors",manageConnectors:"Manage connectors",createFamly:"Create famly",joinFamly:"Join famly",noFamlyFound:"No famly found",checkWithAdmin:"Please check with your famly administrator to make sure you have been invited.",inviteFamlyMembers:"Invite famly members",weeklySchedule:"Weekly schedule",upcomingEvents:"Upcoming events",noUpcomingEvents:"No upcoming events",viewFullSchedule:"View full schedule",upcomingTasks:"Upcoming tasks",noUpcomingTasks:"No upcoming tasks",viewAllTasks:"View all tasks",noDueDate:"No due date",aiInsights:"AI insights",funFact:"Fun fact",defaultInsight:"Consider scheduling some famly time together this week!",allFamly:"All famly",tour_weeklySchedule_content:"Get a quick overview of your famly's week at a glance. Click to navigate to the full schedule.",tour_upcomingEvents_content:"Never miss an appointment or activity. Your next 5 events are listed here.",tour_upcomingTasks_content:"Stay on top of your famly's to-do list. See what needs to be done.",tour_aiInsights_content:"Our AI analyzes your schedule to provide helpful suggestions and optimizations.",tour_aiAssistant_content:"Click here anytime to chat with the AI, create tasks, or schedule events using your voice.",tasksTour:{welcomeTitle:"Welcome to Tasks",welcomeContent:"This is where you manage all your famly's tasks and to-dos.",filterTitle:"Filter Tasks",filterContent:"Use these filters to focus on specific tasks by status or famly member.",nextMembersTitle:"Next: Famly Members",nextMembersContent:"Click here to manage your famly members and their profiles."},manageMembers:"Manage Members",familyMembers:"Family Members",addMember:"Add Member",editMember:"Edit Member",editAIAssistant:"Edit AI Assistant",memberName:"Member name",dateOfBirth:"Date of birth",role:"Role",parent:"Parent",teen:"Teen",child:"Child",profileColor:"Profile color",language:"Language",wishlistPassword:"Wishlist password",optionalPassword:"Optional password",wishlistPasswordHelper:"Optional password to protect wishlist viewing",inviteByEmail:"Invite by Email",emailAddress:"Email address",enterEmailAddress:"Enter email address",sendInvitation:"Send Invitation",connected:"Connected",invitationPending:"Invitation Pending",localOnly:"Local Only",chat:"Chat",edit:"Edit",delete:"Delete",resendInvitation:"Resend Invitation",wishlist:"Wishlist",connectEmail:"Connect Email",changeEmail:"Change Email",connectEmailToMember:"Connect Email to Member",connectEmailDescription:"Send an invitation to connect this family member to an email address.",changeEmailAddress:"Change Email Address",changeEmailDescription:"Update the email address for this family member. A new invitation will be sent.",currentPendingEmail:"Current pending email",newEmailAddress:"New Email Address",enterNewEmailAddress:"Enter new email address",updateInvitation:"Update Invitation",changeConnectedEmail:"Change Connected Email",changeConnectedEmailDescription:"This will disconnect the current user and send a new invitation to the new email address. The old account will lose access to the family.",disconnectAndReinvite:"Disconnect and Re-invite",confirmDisconnect:"Are you sure? This will disconnect the current user from this profile and send an invitation to the new email. The old user account will lose access to this family.",invitationUpdated:"Invitation updated",couldNotUpdateInvitation:"Could not update invitation",confirmDeleteMember:"Are you sure you want to delete this member?",memberDeleted:"Member deleted",memberUpdated:"Member updated",memberAdded:"Member added",couldNotDeleteMember:"Could not delete member",couldNotSaveMember:"Could not save member",save:"Save",members:"Members",invitations:"Invitations",subscription:"Subscription",settings:"Settings",makeAdmin:"Make Admin",memberPromoted:"Member Promoted",isNowAdmin:"is now a famly administrator",promotionFailed:"Promotion Failed",couldNotPromoteMember:"Could not promote member to admin",confirmDeleteInvitation:"Are you sure you want to delete this invitation?",invitationDeleted:"Invitation deleted",invitationRemoved:"The invitation has been removed.",deleteFailed:"Delete failed",couldNotDeleteInvitation:"Could not delete invitation.",settingsUpdated:"Settings Updated",updateFailed:"Update Failed",popular:"Popular",active:"Active",currentPlanBtn:"Current Plan",selectPlan:"Select Plan",paymentFailed:"Payment Failed",couldNotInitiatePayment:"Could not initiate payment.",error:"Error",editAI:"Edit AI",aiName:"AI Name",aiNamePlaceholder:"e.g., Alex, Jamie, Assistant",editName:"Edit Name"},nl:{dashboard:"Dashboard",schedule:"Planning",tasks:"Taken",events:"Evenementen",admin:"Beheer",platformAdmin:"Platformbeheer",tagline:"Het famlyleven makkelijker maken",signOut:"Uitloggen",loading:"Laden",errorLoadingData:"Fout bij het laden van gegevens",comingSoon:"Binnenkort beschikbaar",featureInDevelopment:"Deze functie is momenteel in ontwikkeling.",backToDashboard:"Terug naar dashboard",cancel:"Annuleren",update:"Bijwerken",create:"Aanmaken",yesSoundsGood:"Ja, klinkt goed",due:"Verschuldigd",rateLimitExceeded:"Frequentielimiet overschreden",tooManyRequests:"Er zijn te veel verzoeken gedaan. Wacht een moment voordat je het opnieuw probeert.",refreshPage:"Pagina vernieuwen",goToHome:"Ga naar Start",allStatuses:"Alle statussen",allMembers:"Alle leden",status:"Status",assignee:"Toegewezen aan",todo:"Te doen",in_progress:"Bezig",completed:"Voltooid",aiAssistant:"AI-assistent",aiAssistantTitle:"Jouw persoonlijke assistent",aiAssistantTagline:"Hoe kan ik jouw gezinsleven vereenvoudigen?",aiSuggestedTasksTitle:"AI Voorgestelde Taken:",aiError:"Sorry, er ging iets mis. Kun je het anders formuleren?",actionCancelled:"Ok, ik zal het niet doen.",noFamilyIdError:"Ik kan dit niet doen zonder famlycontext. Maak eerst een famly aan of sluit je aan.",taskCreatedConfirmation:'Ok, ik heb de taak aangemaakt: "{title}".',eventCreatedConfirmation:'Ok, ik heb de afspraak ingepland: "{title}".',wishlistAddedConfirmation:'Ok, ik heb "{name}" toegevoegd aan de verlanglijst.',scheduleMyAppointment:"Plan mijn afspraak voor morgen in",addToMyWishlist:"Voeg een nieuw spel toe aan mijn verlanglijst",createMyTasks:"Maak een taak aan om mijn kamer op te ruimen",typeYourMessage:"Typ je bericht...",chats:"Chats",activeNow:"Nu actief",noConversationSelected:"Geen gesprek geselecteerd",selectConversationFromSidebar:"Selecteer een gesprek in de zijbalk om te chatten.",goToDashboard:"Ga naar dashboard",weekly:"Per week",byMember:"Per lid",today:"Vandaag",todaysEvents:"Evenementen van vandaag",filterByCategory:"Filter op categorie",filterByDate:"Filter op datum",holiday:"Vakantie",studyday:"Studiedag",filterByMember:"Filter op gezinslid",hideMembersFilter:"Verberg ledenfilter",showMembersFilter:"Toon ledenfilter",dashboardFavoriteSet:"Dashboard favoriet ingesteld",dashboardFavoriteRemoved:"Dashboard favoriet verwijderd",dashboardUsesGeneralPreference:"Dashboard gebruikt nu je algemene voorkeur",editEvent:"Afspraak bewerken",addNewEvent:"Nieuwe afspraak toevoegen",recurring:"Herhalend",editRecurringEvent:"Herhalende afspraak bewerken",editRecurringDescription:"U bewerkt een herhalende afspraak. Wat wilt u doen?",editThisEvent:"Alleen deze afspraak bewerken",editAllEvents:"Alle afspraken in de reeks bewerken",eventTitle:"Titel van afspraak",enterEventTitle:"Voer de titel in",description:"Beschrijving",addEventDetails:"Voeg details toe...",startDateTime:"Startdatum en -tijd",selectDate:"Selecteer datum",selectTime:"Selecteer tijd",selectHour:"Selecteer uur",backToHours:"Terug naar uren",endDateTime:"Einddatum en -tijd",recurringEvent:"Herhalende afspraak",selectRecurrence:"Selecteer herhaling",daily:"Dagelijks",monthly:"Maandelijks",yearly:"Jaarlijks",assignToMembers:"Toewijzen aan leden",assignToDefault:"Toewijzen aan (standaard: iedereen)",membersSelected:"{count, plural, one {# lid geselecteerd} other {# leden geselecteerd}}",selectMembers:"Selecteer leden",assignToAllHint:"Laat leeg om aan alle famlyleden toe te wijzen.",category:"Categorie",selectCategory:"Selecteer categorie",school:"School",work:"Werk",sports:"Sport",medical:"Medisch",social:"Sociaal",famly:"Famly",other:"Overig",priority:"Prioriteit",selectPriority:"Selecteer prioriteit",low:"Laag",medium:"Gemiddeld",high:"Hoog",location:"Locatie",enterLocation:"Voer locatie in",deleteEvent:"Afspraak verwijderen",selectOption:"Selecteer een optie",processingFailed:"Verwerking mislukt",unexpectedErrorOccurred:"Er is een onverwachte fout opgetreden. Probeer het opnieuw.",noEventsToday:"Vandaag geen evenementen",createNewTask:"Nieuwe taak aanmaken",editTask:"Taak bewerken",taskPlaceholder:"Wat moet er gedaan worden?",addDetails:"Voeg details toe...",setDueDate:"Stel einddatum in",recurringTask:"Herhalende taak",estimatedDuration:"Geschatte duur (minuten)",points:"Punten",updateTask:"Taak bijwerken",createTask:"Taak aanmaken",allClear:"Alles is opgeruimd!",noTasksMatchFilters:"Geen taken gevonden voor de huidige filters.",task:{createdTitle:"Taak aangemaakt",updatedTitle:"Taak bijgewerkt",deletedTitle:"Taak verwijderd",statusUpdatedTitle:"Status bijgewerkt",saveError:"Kan taak niet opslaan",deleteError:"Kan taak niet verwijderen",statusUpdateError:"Kan status niet bijwerken"},confirmClearChat:"Weet je zeker dat je alle berichten in deze chat wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.",chatCleared:"Chat gewist",allMessagesDeleted:"Alle berichten zijn verwijderd.",couldNotClearChat:"Kon chatberichten niet wissen.",notificationSettings:"Notificatie-instellingen",chatSettings:"Chat-instellingen",clearChat:"Chat wissen",connectors:"Connectoren",connectorsDescription:"Verbind je favoriete apps en diensten om je famlyleven te stroomlijnen.",activeConnectors:"Actieve connectoren",manageConnectors:"Beheer connectoren",createFamly:"Famly aanmaken",joinFamly:"Aansluiten bij famly",noFamlyFound:"Geen famly gevonden",checkWithAdmin:"Vraag aan de beheerder van je famly of je bent uitgenodigd.",inviteFamlyMembers:"Famlyleden uitnodigen",weeklySchedule:"Wekelijks schema",upcomingEvents:"Aankomende evenementen",noUpcomingEvents:"Geen aankomende evenementen",viewFullSchedule:"Bekijk volledig schema",upcomingTasks:"Aankomende taken",noUpcomingTasks:"Geen aankomende taken",viewAllTasks:"Bekijk alle taken",noDueDate:"Geen einddatum",aiInsights:"AI-inzichten",funFact:"Leuk weetje",defaultInsight:"Overweeg om deze week wat quality time met de famly in te plannen!",allFamly:"Hele famly",tour_weeklySchedule_content:"Krijg een snel overzicht van de week van je famly. Klik om naar het volledige schema te navigeren.",tour_upcomingEvents_content:"Mis nooit meer een afspraak of activiteit. Je volgende 5 evenementen staan hier vermeld.",tour_upcomingTasks_content:"Blijf op de hoogte van de takenlijst van je famly. Zie wat er gedaan moet worden.",tour_aiInsights_content:"Onze AI analyseert je schema en geeft nuttige suggesties en optimalisaties.",tour_aiAssistant_content:"Klik hier op elk moment om met de AI te chatten, taken te maken of evenementen in te plannen met je stem.",tasksTour:{welcomeTitle:"Welkom bij Taken",welcomeContent:"Hier beheer je alle taken en to-dos van je famly.",filterTitle:"Filter Taken",filterContent:"Gebruik deze filters om te focussen op specifieke taken per status of famlylid.",nextMembersTitle:"Volgende: Famlyleden",nextMembersContent:"Klik hier om je famlyleden en hun profielen te beheren."},manageMembers:"Beheer Leden",familyMembers:"Familieleden",addMember:"Lid toevoegen",editMember:"Lid bewerken",editAIAssistant:"AI-assistent bewerken",memberName:"Naam van lid",dateOfBirth:"Geboortedatum",role:"Rol",parent:"Ouder",teen:"Tiener",child:"Kind",profileColor:"Profielkleur",language:"Taal",wishlistPassword:"Verlanglijst wachtwoord",optionalPassword:"Optioneel wachtwoord",wishlistPasswordHelper:"Optioneel wachtwoord om verlanglijst te beschermen",inviteByEmail:"Uitnodigen via e-mail",emailAddress:"E-mailadres",enterEmailAddress:"Voer e-mailadres in",sendInvitation:"Uitnodiging versturen",connected:"Verbonden",invitationPending:"Uitnodiging in behandeling",localOnly:"Alleen lokaal",chat:"Chat",edit:"Bewerken",delete:"Verwijderen",resendInvitation:"Uitnodiging opnieuw versturen",wishlist:"Verlanglijst",connectEmail:"E-mail koppelen",changeEmail:"E-mail wijzigen",connectEmailToMember:"E-mail koppelen aan lid",connectEmailDescription:"Stuur een uitnodiging om dit familielid te koppelen aan een e-mailadres.",changeEmailAddress:"E-mailadres wijzigen",changeEmailDescription:"Werk het e-mailadres voor dit familielid bij. Er wordt een nieuwe uitnodiging verzonden.",currentPendingEmail:"Huidig e-mailadres in behandeling",newEmailAddress:"Nieuw e-mailadres",enterNewEmailAddress:"Voer nieuw e-mailadres in",updateInvitation:"Uitnodiging bijwerken",changeConnectedEmail:"Verbonden e-mail wijzigen",changeConnectedEmailDescription:"Dit zal de huidige gebruiker loskoppelen en een nieuwe uitnodiging naar het nieuwe e-mailadres sturen. Het oude account verliest de toegang tot de familie.",disconnectAndReinvite:"Loskoppelen en opnieuw uitnodigen",confirmDisconnect:"Weet u het zeker? Dit koppelt de huidige gebruiker los van dit profiel en stuurt een uitnodiging naar de nieuwe e-mail. Het oude gebruikersaccount verliest de toegang tot deze familie.",invitationUpdated:"Uitnodiging bijgewerkt",couldNotUpdateInvitation:"Kon uitnodiging niet bijwerken",confirmDeleteMember:"Weet je zeker dat je dit lid wilt verwijderen?",memberDeleted:"Lid verwijderd",memberUpdated:"Lid bijgewerkt",memberAdded:"Lid toegevoegd",couldNotDeleteMember:"Kon lid niet verwijderen",couldNotSaveMember:"Kon lid niet opslaan",save:"Opslaan",members:"Leden",invitations:"Uitnodigingen",subscription:"Abonnement",settings:"Instellingen",makeAdmin:"Beheerder maken",memberPromoted:"Lid bevorderd",isNowAdmin:"is nu een famly beheerder",promotionFailed:"Bevordering mislukt",couldNotPromoteMember:"Kon lid niet bevorderen tot beheerder",confirmDeleteInvitation:"Weet je zeker dat je deze uitnodiging wilt verwijderen?",invitationDeleted:"Uitnodiging verwijderd",invitationRemoved:"De uitnodiging is verwijderd.",deleteFailed:"Verwijderen mislukt",couldNotDeleteInvitation:"Kon uitnodiging niet verwijderen.",settingsUpdated:"Instellingen bijgewerkt",updateFailed:"Bijwerken mislukt",popular:"Populair",active:"Actief",currentPlanBtn:"Huidig abonnement",selectPlan:"Abonnement kiezen",paymentFailed:"Betaling mislukt",couldNotInitiatePayment:"Kon betaling niet initiren.",error:"Fout",editAI:"AI bewerken",aiName:"AI-naam",aiNamePlaceholder:"bijv. Alex, Jamie, Assistent",editName:"Naam bewerken"},es:{familyAdmin:"Administracin Familiar",manageFamilySettings:"Gestiona la configuracin y miembros de tu familia.",familyMembers:"Miembros de la Familia",inviteNewMember:"Invitar Nuevo Miembro",enterEmailAddress:"Ingresa direccin de correo",sendInvitation:"Enviar Invitacin",sending:"Enviando...",pendingInvitations:"Invitaciones Pendientes",invitedBy:"Invitado por",currentPlan:"Plan Actual",currentPlanBtn:"Plan Actual",selectPlan:"Seleccionar Plan",familySettings:"Configuracin Familiar",familyName:"Nombre de la Familia",enterFamilyName:"Ingresa nombre de familia",defaultLanguage:"Idioma Predeterminado",connected:"Conectado",invitationSent:"Invitacin enviada",invitationFailed:"Invitacin fallida",couldNotSendInvitation:"No se pudo enviar la invitacin. Intntalo de nuevo.",familySettingsSaved:"La configuracin familiar se ha guardado.",couldNotUpdateSettings:"No se pudo actualizar la configuracin.",famlyIdDisplay:"Famly ID",editAI:"Editar IA",aiName:"Nombre de IA",aiNamePlaceholder:"ej. Alex, Jamie, Asistente",editName:"Editar Nombre",todaysEvents:"Eventos de hoy",noEventsToday:"No hay eventos para hoy.",taskTitle:"Ttulo de tarea"},fr:{familyAdmin:"Administration Familiale",manageFamilySettings:"Grez les paramtres et les membres de votre famille.",familyMembers:"Membres de la Famille",inviteNewMember:"Inviter un Nouveau Membre",enterEmailAddress:"Entrez l'adresse email",sendInvitation:"Envoyer l'Invitation",sending:"Envoi en cours...",pendingInvitations:"Invitations en Attente",invitedBy:"Invit par",currentPlan:"Plan Actuel",currentPlanBtn:"Plan Actuel",selectPlan:"Slectionner le Plan",familySettings:"Paramtres Familiaux",familyName:"Nom de Famille",enterFamilyName:"Entrez le nom de famille",defaultLanguage:"Langue par Dfaut",connected:"Connect",invitationSent:"Invitation envoye",invitationFailed:"Invitation choue",couldNotSendInvitation:"Impossible d'envoyer l'invitation. Veuillez ressayer.",familySettingsSaved:"Les paramtres familiaux ont t sauvegards.",couldNotUpdateSettings:"Impossible de mettre   jour les paramtres.",famlyIdDisplay:"Famly ID",editAI:"Modifier l'IA",aiName:"Nom de l'IA",aiNamePlaceholder:"ex. Alex, Jamie, Assistant",editName:"Modifier le Nom",todaysEvents:"vnements d'aujourd'hui",noEventsToday:"Aucun vnement pour aujourd'hui.",taskTitle:"Titre de la tche"},de:{familyAdmin:"Familienverwaltung",manageFamilySettings:"Verwalten Sie Ihre Familieneinstellungen und -mitglieder.",familyMembers:"Familienmitglieder",inviteNewMember:"Neues Mitglied einladen",enterEmailAddress:"E-Mail-Adresse eingeben",sendInvitation:"Einladung senden",sending:"Senden...",pendingInvitations:"Ausstehende Einladungen",invitedBy:"Eingeladen von",currentPlan:"Aktueller Plan",currentPlanBtn:"Aktueller Plan",selectPlan:"Plan auswhlen",familySettings:"Familieneinstellungen",familyName:"Familienname",enterFamilyName:"Familienname eingeben",defaultLanguage:"Standardsprache",connected:"Verbunden",invitationSent:"Einladung gesendet",invitationFailed:"Einladung fehlgeschlagen",couldNotSendInvitation:"Einladung konnte nicht gesendet werden. Bitte versuchen Sie es erneut.",familySettingsSaved:"Familieneinstellungen wurden gespeichert.",couldNotUpdateSettings:"Einstellungen konnten nicht aktualisiert werden.",famlyIdDisplay:"Famly ID",editAI:"KI bearbeiten",aiName:"KI-Name",aiNamePlaceholder:"z.B. Alex, Jamie, Assistent",editName:"Name bearbeiten",todaysEvents:"Heutige Termine",noEventsToday:"Keine Termine fr heute.",taskTitle:"Aufgabentitel"}},DD=(e,t="en",n={})=>{const s=o0[t]||o0.en;let o=s[e];if(typeof o>"u"&&e&&typeof e=="string"&&e.includes(".")){const l=e.split(".");let c=s;for(let u=0;u<l.length;u++)if(c&&typeof c=="object"&&l[u]in c)c=c[l[u]];else{c=void 0;break}o=c}if(o=typeof o=="string"?o:String(e||""),typeof n.count<"u"&&n.count!==null){const c=new Intl.PluralRules(t).select(n.count),u=`${e}_${c}`,f=s[u];typeof f=="string"&&(o=f)}return o&&typeof o=="string"&&n&&typeof n=="object"&&Object.keys(n).forEach(l=>{if(l!=="count"&&n[l]!=null){const c=new RegExp(`{${l}}`,"g");o=o.replace(c,String(n[l]))}}),o},p1=e=>{switch(e){case"en":return{name:"English",flag:""};case"nl":return{name:"Nederlands",flag:""};case"es":return{name:"Espaol",flag:""};case"fr":return{name:"Franais",flag:""};case"de":return{name:"Deutsch",flag:""};case"it":return{name:"Italiano",flag:""};case"pt":return{name:"Portugus",flag:""};default:return{name:"English",flag:""}}},g1=g.createContext(),Je=()=>{const e=g.useContext(g1);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},y1=({children:e})=>{const[t,n]=g.useState("en"),[s,o]=g.useState("en"),[l,c]=g.useState(null),[u,f]=g.useState(!0);g.useEffect(()=>{p()},[]);const p=async()=>{f(!0);try{const v=await tt.me();if(!v||!v.family_id){n("en"),f(!1);return}let w=null;try{w=await sr.get(v.family_id)}catch(C){console.warn("Could not load family data:",C)}const S=(w==null?void 0:w.language)||"en";o(S);let k=[];try{k=await ht.filter({family_id:v.family_id,user_id:v.id})}catch(C){console.warn("Could not load member data:",C)}if(k.length>0){const C=k[0];c(C),n(C.language||S)}else n(S)}catch(v){console.log("Authentication failed, using default language:",v),n("en")}f(!1)},m=async v=>{try{l?(await ht.update(l.id,{language:v}),n(v),c({...l,language:v})):n(v)}catch(w){console.error("Error updating language:",w),n(v)}},y=(v,w)=>DD(v,t,w);return a.jsx(g1.Provider,{value:{currentLanguage:t,familyLanguage:s,userMember:l,updateUserLanguage:m,isLoading:u,t:y},children:e})},v1=g.createContext(null);function AD({children:e}){const[t,n]=g.useState(null),[s,o]=g.useState(null),[l,c]=g.useState([]),[u,f]=g.useState([]),[p,m]=g.useState([]),[y,v]=g.useState(!0),[w,S]=g.useState(null),[k,C]=g.useState(!1);g.useEffect(()=>{localStorage.getItem("famlyai_token")?C(!0):(v(!1),C(!1))},[localStorage.getItem("famlyai_token")]);const b=g.useCallback(async()=>{v(!0),S(null);try{const N=await tt.me();if(console.log("[FamilyDataContext] Loaded user:",N),n(N),!(N!=null&&N.family_id)){o(null),c([]),f([]),m([]),v(!1);return}const _=N.family_id,[E,P,O,A]=await Promise.all([sr.get(_).catch(()=>null),ht.filter({family_id:_},"-created_date").catch(()=>[]),it.filter({family_id:_},"-start_time",1e3).catch(()=>[]),Dt.filter({family_id:_},"due_date",1e3).catch(()=>[])]);console.log("[FamilyDataContext] Loaded family:",E),console.log("[FamilyDataContext] Loaded members:",P),o(E),c(P),f(O),m(A)}catch(N){S(N),console.error("[FamilyDataContext] Error loading data:",N)}finally{v(!1)}},[]);return g.useEffect(()=>{var z,W;const N=localStorage.getItem("famlyai_token");if(!N)return;const _=window.location.protocol==="https:"?"wss:":"ws:",E=window.location.host,P=((W=(z=import.meta)==null?void 0:z.env)==null?void 0:W.VITE_WS_BASE)||`${_}//${E}`,O=new window.WebSocket(`${P}/ws?token=${encodeURIComponent(N)}`);let A=!1;const I=H=>{if(!(typeof H.data!="string"||H.data[0]!=="{"))try{const{type:$,payload:K}=JSON.parse(H.data);["schedule_event_created","schedule_event_updated","schedule_event_deleted"].includes($)&&f(Y=>{if($==="schedule_event_created"){console.log("[WS][DEBUG] schedule_event_created received. Payload:",K),console.log("[WS][DEBUG] Current prevEvents:",Y);const Q=Y.some(R=>R.id===K.id);if(console.log("[WS][DEBUG] schedule_event_created: Already exists?",Q,"Payload ID:",K.id,"All IDs:",Y.map(R=>R.id)),Q)return console.log("[WS][DEBUG] Event already exists, not adding."),Y;const te=[...Y,K];return console.log("[WS][DEBUG] Events after create:",te),te}if($==="schedule_event_updated"){const Q=Y.map(te=>te.id===K.id?{...te,...K}:te);return console.log("[WS] schedule_event_updated:",K,"Events after update:",Q),Q}if($==="schedule_event_deleted"){const Q=Y.filter(te=>te.id!==K.id);return console.log("[WS] schedule_event_deleted:",K,"Events after delete:",Q),Q}return Y}),["task_created","task_updated","task_deleted"].includes($)&&m(Y=>$==="task_created"?Y.some(Q=>Q.id===K.id)?Y:[...Y,K]:$==="task_updated"?Y.map(Q=>Q.id===K.id?{...Q,...K}:Q):$==="task_deleted"?Y.filter(Q=>Q.id!==K.id):Y),["wishlist_item_created","wishlist_item_updated","wishlist_item_deleted"].includes($)&&o(Y=>Y),["family_member_created","family_member_updated","family_member_deleted"].includes($)&&c(Y=>$==="family_member_created"?Y.some(Q=>Q.id===K.id)?Y:[...Y,K]:$==="family_member_updated"?Y.map(Q=>Q.id===K.id?{...Q,...K}:Q):$==="family_member_deleted"?Y.filter(Q=>Q.id!==K.id):Y),["family_member_created","family_member_updated","family_member_deleted","schedule_event_created","schedule_event_updated","schedule_event_deleted","task_created","task_updated","task_deleted","wishlist_item_created","wishlist_item_updated","wishlist_item_deleted"].includes($)&&b()}catch{}};return O.addEventListener("message",I),O.onopen=()=>{console.log("[WS][DEBUG] FamilyDataContext WebSocket connected")},O.onerror=H=>{console.warn("[WS][DEBUG] FamilyDataContext WebSocket error",H)},O.onclose=()=>{A||(console.warn("[WS][DEBUG] FamilyDataContext WebSocket closed, reconnecting..."),setTimeout(()=>{A||window.location.reload()},2e3))},()=>{A=!0,O.removeEventListener("message",I);try{O.close()}catch{}}},[b]),g.useEffect(()=>{k&&b()},[k,b]),a.jsx(v1.Provider,{value:{user:t,family:s,members:l,events:u,tasks:p,isLoading:y,error:w,reload:b},children:e})}function Ma(){const e=g.useContext(v1);if(!e)throw new Error("useFamilyData must be used within a FamilyDataProvider");return e}function l0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fd(...e){return t=>{let n=!1;const s=e.map(o=>{const l=l0(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():l0(e[o],null)}}}}function nt(...e){return g.useCallback(Fd(...e),e)}function Ls(e){const t=RD(e),n=g.forwardRef((s,o)=>{const{children:l,...c}=s,u=g.Children.toArray(l),f=u.find(OD);if(f){const p=f.props.children,m=u.map(y=>y===f?g.Children.count(p)>1?g.Children.only(null):g.isValidElement(p)?p.props.children:null:y);return a.jsx(t,{...c,ref:o,children:g.isValidElement(p)?g.cloneElement(p,void 0,m):null})}return a.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var Oi=Ls("Slot");function RD(e){const t=g.forwardRef((n,s)=>{const{children:o,...l}=n;if(g.isValidElement(o)){const c=FD(o),u=LD(l,o.props);return o.type!==g.Fragment&&(u.ref=s?Fd(s,c):c),g.cloneElement(o,u)}return g.Children.count(o)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var x1=Symbol("radix.slottable");function ID(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=x1,t}function OD(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===x1}function LD(e,t){const n={...t};for(const s in t){const o=e[s],l=t[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...u)=>{const f=l(...u);return o(...u),f}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function FD(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Dm=768;function $D(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Dm-1}px)`),s=()=>{t(window.innerWidth<Dm)};return n.addEventListener("change",s),t(window.innerWidth<Dm),()=>n.removeEventListener("change",s)},[]),!!e}const jh=Ti("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),se=g.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},l)=>{const c=s?Oi:"button";return a.jsx(c,{className:pe(jh({variant:t,size:n,className:e})),ref:l,...o})});se.displayName="Button";const He=g.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:pe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));He.displayName="Input";var zD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=zD.reduce((e,t)=>{const n=Ls(`Primitive.${t}`),s=g.forwardRef((o,l)=>{const{asChild:c,...u}=o,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function w1(e,t){e&&fl.flushSync(()=>e.dispatchEvent(t))}var VD="Separator",c0="horizontal",WD=["horizontal","vertical"],b1=g.forwardRef((e,t)=>{const{decorative:n,orientation:s=c0,...o}=e,l=BD(s)?s:c0,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return a.jsx(Ie.div,{"data-orientation":l,...u,...o,ref:t})});b1.displayName=VD;function BD(e){return WD.includes(e)}var j1=b1;const S1=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},o)=>a.jsx(j1,{ref:o,decorative:n,orientation:t,className:pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));S1.displayName=j1.displayName;function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function UD(e,t){const n=g.createContext(t),s=l=>{const{children:c,...u}=l,f=g.useMemo(()=>u,Object.values(u));return a.jsx(n.Provider,{value:f,children:c})};s.displayName=e+"Provider";function o(l){const c=g.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,o]}function dr(e,t=[]){let n=[];function s(l,c){const u=g.createContext(c),f=n.length;n=[...n,c];const p=y=>{var b;const{scope:v,children:w,...S}=y,k=((b=v==null?void 0:v[e])==null?void 0:b[f])||u,C=g.useMemo(()=>S,Object.values(S));return a.jsx(k.Provider,{value:C,children:w})};p.displayName=l+"Provider";function m(y,v){var k;const w=((k=v==null?void 0:v[e])==null?void 0:k[f])||u,S=g.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[p,m]}const o=()=>{const l=n.map(c=>g.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return g.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return o.scopeName=e,[s,HD(o,...t)]}function HD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=s.reduce((u,{useScope:f,scopeName:p})=>{const y=f(l)[`__scope${p}`];return{...u,...y}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var on=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},YD=bb[" useId ".trim().toString()]||(()=>{}),GD=0;function Bn(e){const[t,n]=g.useState(YD());return on(()=>{n(s=>s??String(GD++))},[e]),e||(t?`radix-${t}`:"")}var KD=bb[" useInsertionEffect ".trim().toString()]||on;function ts({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,l,c]=qD({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:o;{const m=g.useRef(e!==void 0);g.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,s])}const p=g.useCallback(m=>{var y;if(u){const v=XD(m)?m(e):m;v!==e&&((y=c.current)==null||y.call(c,v))}else l(m)},[u,e,l,c]);return[f,p]}function qD({defaultProp:e,onChange:t}){const[n,s]=g.useState(e),o=g.useRef(n),l=g.useRef(t);return KD(()=>{l.current=t},[t]),g.useEffect(()=>{var c;o.current!==n&&((c=l.current)==null||c.call(l,n),o.current=n)},[n,o]),[n,s,l]}function XD(e){return typeof e=="function"}function Mr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function JD(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e);g.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var QD="DismissableLayer",Sh="dismissableLayer.update",ZD="dismissableLayer.pointerDownOutside",eA="dismissableLayer.focusOutside",d0,k1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Li=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=e,p=g.useContext(k1),[m,y]=g.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=g.useState({}),S=nt(t,A=>y(A)),k=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),b=k.indexOf(C),N=m?k.indexOf(m):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,E=N>=b,P=rA(A=>{const I=A.target,z=[...p.branches].some(W=>W.contains(I));!E||z||(o==null||o(A),c==null||c(A),A.defaultPrevented||u==null||u())},v),O=sA(A=>{const I=A.target;[...p.branches].some(W=>W.contains(I))||(l==null||l(A),c==null||c(A),A.defaultPrevented||u==null||u())},v);return JD(A=>{N===p.layers.size-1&&(s==null||s(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},v),g.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(d0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),u0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=d0)}},[m,v,n,p]),g.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),u0())},[m,p]),g.useEffect(()=>{const A=()=>w({});return document.addEventListener(Sh,A),()=>document.removeEventListener(Sh,A)},[]),a.jsx(Ie.div,{...f,ref:S,style:{pointerEvents:_?E?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,O.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,P.onPointerDownCapture)})});Li.displayName=QD;var tA="DismissableLayerBranch",nA=g.forwardRef((e,t)=>{const n=g.useContext(k1),s=g.useRef(null),o=nt(t,s);return g.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),a.jsx(Ie.div,{...e,ref:o})});nA.displayName=tA;function rA(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),s=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=u=>{if(u.target&&!s.current){let f=function(){N1(ZD,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function sA(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),s=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!s.current&&N1(eA,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function u0(){const e=new CustomEvent(Sh);document.dispatchEvent(e)}function N1(e,t,n,{discrete:s}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?w1(o,l):o.dispatchEvent(l)}var Am="focusScope.autoFocusOnMount",Rm="focusScope.autoFocusOnUnmount",f0={bubbles:!1,cancelable:!0},aA="FocusScope",gl=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[u,f]=g.useState(null),p=Mr(o),m=Mr(l),y=g.useRef(null),v=nt(t,k=>f(k)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let k=function(_){if(w.paused||!u)return;const E=_.target;u.contains(E)?y.current=E:Ps(y.current,{select:!0})},C=function(_){if(w.paused||!u)return;const E=_.relatedTarget;E!==null&&(u.contains(E)||Ps(y.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const P of _)P.removedNodes.length>0&&Ps(u)};document.addEventListener("focusin",k),document.addEventListener("focusout",C);const N=new MutationObserver(b);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",C),N.disconnect()}}},[s,u,w.paused]),g.useEffect(()=>{if(u){h0.add(w);const k=document.activeElement;if(!u.contains(k)){const b=new CustomEvent(Am,f0);u.addEventListener(Am,p),u.dispatchEvent(b),b.defaultPrevented||(iA(uA(C1(u)),{select:!0}),document.activeElement===k&&Ps(u))}return()=>{u.removeEventListener(Am,p),setTimeout(()=>{const b=new CustomEvent(Rm,f0);u.addEventListener(Rm,m),u.dispatchEvent(b),b.defaultPrevented||Ps(k??document.body,{select:!0}),u.removeEventListener(Rm,m),h0.remove(w)},0)}}},[u,p,m,w]);const S=g.useCallback(k=>{if(!n&&!s||w.paused)return;const C=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,b=document.activeElement;if(C&&b){const N=k.currentTarget,[_,E]=oA(N);_&&E?!k.shiftKey&&b===E?(k.preventDefault(),n&&Ps(_,{select:!0})):k.shiftKey&&b===_&&(k.preventDefault(),n&&Ps(E,{select:!0})):b===N&&k.preventDefault()}},[n,s,w.paused]);return a.jsx(Ie.div,{tabIndex:-1,...c,ref:v,onKeyDown:S})});gl.displayName=aA;function iA(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ps(s,{select:t}),document.activeElement!==n)return}function oA(e){const t=C1(e),n=m0(t,e),s=m0(t.reverse(),e);return[n,s]}function C1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function m0(e,t){for(const n of e)if(!lA(n,{upTo:t}))return n}function lA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cA(e){return e instanceof HTMLInputElement&&"select"in e}function Ps(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cA(e)&&t&&e.select()}}var h0=dA();function dA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=p0(e,t),e.unshift(t)},remove(t){var n;e=p0(e,t),(n=e[0])==null||n.resume()}}}function p0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function uA(e){return e.filter(t=>t.tagName!=="A")}var fA="Portal",Fi=g.forwardRef((e,t)=>{var u;const{container:n,...s}=e,[o,l]=g.useState(!1);on(()=>l(!0),[]);const c=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?WM.createPortal(a.jsx(Ie.div,{...s,ref:t}),c):null});Fi.displayName=fA;function mA(e,t){return g.useReducer((n,s)=>t[n][s]??n,e)}var Nn=e=>{const{present:t,children:n}=e,s=hA(t),o=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),l=nt(s.ref,pA(o));return typeof n=="function"||s.isPresent?g.cloneElement(o,{ref:l}):null};Nn.displayName="Presence";function hA(e){const[t,n]=g.useState(),s=g.useRef(null),o=g.useRef(e),l=g.useRef("none"),c=e?"mounted":"unmounted",[u,f]=mA(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const p=Xc(s.current);l.current=u==="mounted"?p:"none"},[u]),on(()=>{const p=s.current,m=o.current;if(m!==e){const v=l.current,w=Xc(p);e?f("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&v!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),on(()=>{if(t){let p;const m=t.ownerDocument.defaultView??window,y=w=>{const k=Xc(s.current).includes(w.animationName);if(w.target===t&&k&&(f("ANIMATION_END"),!o.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",p=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},v=w=>{w.target===t&&(l.current=Xc(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{m.clearTimeout(p),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:g.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function Xc(e){return(e==null?void 0:e.animationName)||"none"}function pA(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Im=0;function $d(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??g0()),document.body.insertAdjacentElement("beforeend",e[1]??g0()),Im++,()=>{Im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Im--}},[])}function g0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xr=function(){return xr=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},xr.apply(this,arguments)};function _1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function gA(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,l;s<o;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}var dd="right-scroll-bar-position",ud="width-before-scroll-bar",yA="with-scroll-bars-hidden",vA="--removed-body-scroll-bar-size";function Om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xA(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var wA=typeof window<"u"?g.useLayoutEffect:g.useEffect,y0=new WeakMap;function bA(e,t){var n=xA(null,function(s){return e.forEach(function(o){return Om(o,s)})});return wA(function(){var s=y0.get(n);if(s){var o=new Set(s),l=new Set(e),c=n.current;o.forEach(function(u){l.has(u)||Om(u,null)}),l.forEach(function(u){o.has(u)||Om(u,c)})}y0.set(n,e)},[e]),n}function jA(e){return e}function SA(e,t){t===void 0&&(t=jA);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,s);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(s=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){s=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var f=function(){var m=c;c=[],m.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(m){c.push(m),p()},filter:function(m){return c=c.filter(m),n}}}};return o}function kA(e){e===void 0&&(e={});var t=SA(null);return t.options=xr({async:!0,ssr:!1},e),t}var E1=function(e){var t=e.sideCar,n=_1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,xr({},n))};E1.isSideCarExport=!0;function NA(e,t){return e.useMedium(t),E1}var M1=kA(),Lm=function(){},zd=g.forwardRef(function(e,t){var n=g.useRef(null),s=g.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),o=s[0],l=s[1],c=e.forwardProps,u=e.children,f=e.className,p=e.removeScrollBar,m=e.enabled,y=e.shards,v=e.sideCar,w=e.noRelative,S=e.noIsolation,k=e.inert,C=e.allowPinchZoom,b=e.as,N=b===void 0?"div":b,_=e.gapMode,E=_1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,O=bA([n,t]),A=xr(xr({},E),o);return g.createElement(g.Fragment,null,m&&g.createElement(P,{sideCar:M1,removeScrollBar:p,shards:y,noRelative:w,noIsolation:S,inert:k,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:_}),c?g.cloneElement(g.Children.only(u),xr(xr({},A),{ref:O})):g.createElement(N,xr({},A,{className:f,ref:O}),u))});zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zd.classNames={fullWidth:ud,zeroRight:dd};var CA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _A(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CA();return t&&e.setAttribute("nonce",t),e}function EA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_A())&&(EA(t,n),MA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TA=function(){var e=PA();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},P1=function(){var e=TA(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},DA={left:0,top:0,right:0,gap:0},Fm=function(e){return parseInt(e||"",10)||0},AA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Fm(n),Fm(s),Fm(o)]},RA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DA;var t=AA(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},IA=P1(),gi="data-scroll-locked",OA=function(e,t,n,s){var o=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yA,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(gi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dd,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(dd," .").concat(dd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(gi,`] {
    `).concat(vA,": ").concat(u,`px;
  }
`)},v0=function(){var e=parseInt(document.body.getAttribute(gi)||"0",10);return isFinite(e)?e:0},LA=function(){g.useEffect(function(){return document.body.setAttribute(gi,(v0()+1).toString()),function(){var e=v0()-1;e<=0?document.body.removeAttribute(gi):document.body.setAttribute(gi,e.toString())}},[])},FA=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;LA();var l=g.useMemo(function(){return RA(o)},[o]);return g.createElement(IA,{styles:OA(l,!t,o,n?"":"!important")})},kh=!1;if(typeof window<"u")try{var Jc=Object.defineProperty({},"passive",{get:function(){return kh=!0,!0}});window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{kh=!1}var ii=kh?{passive:!1}:!1,$A=function(e){return e.tagName==="TEXTAREA"},T1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$A(e)&&n[t]==="visible")},zA=function(e){return T1(e,"overflowY")},VA=function(e){return T1(e,"overflowX")},x0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=D1(e,s);if(o){var l=A1(e,s),c=l[1],u=l[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},WA=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},BA=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},D1=function(e,t){return e==="v"?zA(t):VA(t)},A1=function(e,t){return e==="v"?WA(t):BA(t)},UA=function(e,t){return e==="h"&&t==="rtl"?-1:1},HA=function(e,t,n,s,o){var l=UA(e,window.getComputedStyle(t).direction),c=l*s,u=n.target,f=t.contains(u),p=!1,m=c>0,y=0,v=0;do{if(!u)break;var w=A1(e,u),S=w[0],k=w[1],C=w[2],b=k-C-l*S;(S||b)&&D1(e,u)&&(y+=b,v+=S);var N=u.parentNode;u=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(p=!0),p},Qc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},w0=function(e){return[e.deltaX,e.deltaY]},b0=function(e){return e&&"current"in e?e.current:e},YA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KA=0,oi=[];function qA(e){var t=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),o=g.useState(KA++)[0],l=g.useState(P1)[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var k=gA([e.lockRef.current],(e.shards||[]).map(b0),!0).filter(Boolean);return k.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),k.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(k,C){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!c.current.allowPinchZoom;var b=Qc(k),N=n.current,_="deltaX"in k?k.deltaX:N[0]-b[0],E="deltaY"in k?k.deltaY:N[1]-b[1],P,O=k.target,A=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in k&&A==="h"&&O.type==="range")return!1;var I=x0(A,O);if(!I)return!0;if(I?P=A:(P=A==="v"?"h":"v",I=x0(A,O)),!I)return!1;if(!s.current&&"changedTouches"in k&&(_||E)&&(s.current=P),!P)return!0;var z=s.current||P;return HA(z,C,k,z==="h"?_:E)},[]),f=g.useCallback(function(k){var C=k;if(!(!oi.length||oi[oi.length-1]!==l)){var b="deltaY"in C?w0(C):Qc(C),N=t.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&YA(P.delta,b)})[0];if(N&&N.should){C.cancelable&&C.preventDefault();return}if(!N){var _=(c.current.shards||[]).map(b0).filter(Boolean).filter(function(P){return P.contains(C.target)}),E=_.length>0?u(C,_[0]):!c.current.noIsolation;E&&C.cancelable&&C.preventDefault()}}},[]),p=g.useCallback(function(k,C,b,N){var _={name:k,delta:C,target:b,should:N,shadowParent:XA(b)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),m=g.useCallback(function(k){n.current=Qc(k),s.current=void 0},[]),y=g.useCallback(function(k){p(k.type,w0(k),k.target,u(k,e.lockRef.current))},[]),v=g.useCallback(function(k){p(k.type,Qc(k),k.target,u(k,e.lockRef.current))},[]);g.useEffect(function(){return oi.push(l),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ii),document.addEventListener("touchmove",f,ii),document.addEventListener("touchstart",m,ii),function(){oi=oi.filter(function(k){return k!==l}),document.removeEventListener("wheel",f,ii),document.removeEventListener("touchmove",f,ii),document.removeEventListener("touchstart",m,ii)}},[]);var w=e.removeScrollBar,S=e.inert;return g.createElement(g.Fragment,null,S?g.createElement(l,{styles:GA(o)}):null,w?g.createElement(FA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JA=NA(M1,qA);var yl=g.forwardRef(function(e,t){return g.createElement(zd,xr({},e,{ref:t,sideCar:JA}))});yl.classNames=zd.classNames;var QA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},li=new WeakMap,Zc=new WeakMap,ed={},$m=0,R1=function(e){return e&&(e.host||R1(e.parentNode))},ZA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=R1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},eR=function(e,t,n,s){var o=ZA(t,Array.isArray(e)?e:[e]);ed[n]||(ed[n]=new WeakMap);var l=ed[n],c=[],u=new Set,f=new Set(o),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};o.forEach(p);var m=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))m(v);else try{var w=v.getAttribute(s),S=w!==null&&w!=="false",k=(li.get(v)||0)+1,C=(l.get(v)||0)+1;li.set(v,k),l.set(v,C),c.push(v),k===1&&S&&Zc.set(v,!0),C===1&&v.setAttribute(n,"true"),S||v.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",v,b)}})};return m(t),u.clear(),$m++,function(){c.forEach(function(y){var v=li.get(y)-1,w=l.get(y)-1;li.set(y,v),l.set(y,w),v||(Zc.has(y)||y.removeAttribute(s),Zc.delete(y)),w||y.removeAttribute(n)}),$m--,$m||(li=new WeakMap,li=new WeakMap,Zc=new WeakMap,ed={})}},Vd=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=QA(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),eR(s,o,n,"aria-hidden")):function(){return null}},Wd="Dialog",[I1,w9]=dr(Wd),[tR,ur]=I1(Wd),O1=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=g.useRef(null),f=g.useRef(null),[p,m]=ts({prop:s,defaultProp:o??!1,onChange:l,caller:Wd});return a.jsx(tR,{scope:t,triggerRef:u,contentRef:f,contentId:Bn(),titleId:Bn(),descriptionId:Bn(),open:p,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(y=>!y),[m]),modal:c,children:n})};O1.displayName=Wd;var L1="DialogTrigger",nR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=ur(L1,n),l=nt(t,o.triggerRef);return a.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":bp(o.open),...s,ref:l,onClick:ye(e.onClick,o.onOpenToggle)})});nR.displayName=L1;var xp="DialogPortal",[rR,F1]=I1(xp,{forceMount:void 0}),$1=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,l=ur(xp,t);return a.jsx(rR,{scope:t,forceMount:n,children:g.Children.map(s,c=>a.jsx(Nn,{present:n||l.open,children:a.jsx(Fi,{asChild:!0,container:o,children:c})}))})};$1.displayName=xp;var wd="DialogOverlay",z1=g.forwardRef((e,t)=>{const n=F1(wd,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,l=ur(wd,e.__scopeDialog);return l.modal?a.jsx(Nn,{present:s||l.open,children:a.jsx(aR,{...o,ref:t})}):null});z1.displayName=wd;var sR=Ls("DialogOverlay.RemoveScroll"),aR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=ur(wd,n);return a.jsx(yl,{as:sR,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Ie.div,{"data-state":bp(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Sa="DialogContent",V1=g.forwardRef((e,t)=>{const n=F1(Sa,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,l=ur(Sa,e.__scopeDialog);return a.jsx(Nn,{present:s||l.open,children:l.modal?a.jsx(iR,{...o,ref:t}):a.jsx(oR,{...o,ref:t})})});V1.displayName=Sa;var iR=g.forwardRef((e,t)=>{const n=ur(Sa,e.__scopeDialog),s=g.useRef(null),o=nt(t,n.contentRef,s);return g.useEffect(()=>{const l=s.current;if(l)return Vd(l)},[]),a.jsx(W1,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,l=>l.preventDefault())})}),oR=g.forwardRef((e,t)=>{const n=ur(Sa,e.__scopeDialog),s=g.useRef(!1),o=g.useRef(!1);return a.jsx(W1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),W1=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,u=ur(Sa,n),f=g.useRef(null),p=nt(t,f);return $d(),a.jsxs(a.Fragment,{children:[a.jsx(gl,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(Li,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":bp(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(lR,{titleId:u.titleId}),a.jsx(dR,{contentRef:f,descriptionId:u.descriptionId})]})]})}),wp="DialogTitle",B1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=ur(wp,n);return a.jsx(Ie.h2,{id:o.titleId,...s,ref:t})});B1.displayName=wp;var U1="DialogDescription",H1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=ur(U1,n);return a.jsx(Ie.p,{id:o.descriptionId,...s,ref:t})});H1.displayName=U1;var Y1="DialogClose",G1=g.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=ur(Y1,n);return a.jsx(Ie.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,()=>o.onOpenChange(!1))})});G1.displayName=Y1;function bp(e){return e?"open":"closed"}var K1="DialogTitleWarning",[b9,q1]=UD(K1,{contentName:Sa,titleName:wp,docsSlug:"dialog"}),lR=({titleId:e})=>{const t=q1(K1),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cR="DialogDescriptionWarning",dR=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q1(cR).contentName}}.`;return g.useEffect(()=>{var l;const o=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},X1=O1,J1=$1,Bd=z1,Ud=V1,Hd=B1,Yd=H1,Q1=G1;const uR=X1,fR=J1,Z1=g.forwardRef(({className:e,...t},n)=>a.jsx(Bd,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Z1.displayName=Bd.displayName;const mR=Ti("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ej=g.forwardRef(({side:e="right",className:t,children:n,...s},o)=>a.jsxs(fR,{children:[a.jsx(Z1,{}),a.jsxs(Ud,{ref:o,className:pe(mR({side:e}),t),...s,children:[a.jsxs(Q1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Os,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));ej.displayName=Ud.displayName;const hR=g.forwardRef(({className:e,...t},n)=>a.jsx(Hd,{ref:n,className:pe("text-lg font-semibold text-foreground",e),...t}));hR.displayName=Hd.displayName;const pR=g.forwardRef(({className:e,...t},n)=>a.jsx(Yd,{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));pR.displayName=Yd.displayName;function j0({className:e,...t}){return a.jsx("div",{className:pe("animate-pulse rounded-md bg-primary/10",e),...t})}const gR=["top","right","bottom","left"],Fs=Math.min,Pn=Math.max,bd=Math.round,td=Math.floor,kr=e=>({x:e,y:e}),yR={left:"right",right:"left",bottom:"top",top:"bottom"},vR={start:"end",end:"start"};function Nh(e,t,n){return Pn(e,Fs(t,n))}function ns(e,t){return typeof e=="function"?e(t):e}function rs(e){return e.split("-")[0]}function $i(e){return e.split("-")[1]}function jp(e){return e==="x"?"y":"x"}function Sp(e){return e==="y"?"height":"width"}const xR=new Set(["top","bottom"]);function jr(e){return xR.has(rs(e))?"y":"x"}function kp(e){return jp(jr(e))}function wR(e,t,n){n===void 0&&(n=!1);const s=$i(e),o=kp(e),l=Sp(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=jd(c)),[c,jd(c)]}function bR(e){const t=jd(e);return[Ch(e),t,Ch(t)]}function Ch(e){return e.replace(/start|end/g,t=>vR[t])}const S0=["left","right"],k0=["right","left"],jR=["top","bottom"],SR=["bottom","top"];function kR(e,t,n){switch(e){case"top":case"bottom":return n?t?k0:S0:t?S0:k0;case"left":case"right":return t?jR:SR;default:return[]}}function NR(e,t,n,s){const o=$i(e);let l=kR(rs(e),n==="start",s);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Ch)))),l}function jd(e){return e.replace(/left|right|bottom|top/g,t=>yR[t])}function CR(e){return{top:0,right:0,bottom:0,left:0,...e}}function tj(e){return typeof e!="number"?CR(e):{top:e,right:e,bottom:e,left:e}}function Sd(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function N0(e,t,n){let{reference:s,floating:o}=e;const l=jr(t),c=kp(t),u=Sp(c),f=rs(t),p=l==="y",m=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,v=s[u]/2-o[u]/2;let w;switch(f){case"top":w={x:m,y:s.y-o.height};break;case"bottom":w={x:m,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y};break;case"left":w={x:s.x-o.width,y};break;default:w={x:s.x,y:s.y}}switch($i(t)){case"start":w[c]-=v*(n&&p?-1:1);break;case"end":w[c]+=v*(n&&p?-1:1);break}return w}const _R=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y}=N0(p,s,f),v=s,w={},S=0;for(let k=0;k<u.length;k++){const{name:C,fn:b}=u[k],{x:N,y:_,data:E,reset:P}=await b({x:m,y,initialPlacement:s,placement:v,strategy:o,middlewareData:w,rects:p,platform:c,elements:{reference:e,floating:t}});m=N??m,y=_??y,w={...w,[C]:{...w[C],...E}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(p=P.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:m,y}=N0(p,v,f)),k=-1)}return{x:m,y,placement:v,strategy:o,middlewareData:w}};async function qo(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:w=0}=ns(t,e),S=tj(w),C=u[v?y==="floating"?"reference":"floating":y],b=Sd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:f})),N=y==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),E=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},P=Sd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:_,strategy:f}):N);return{top:(b.top-P.top+S.top)/E.y,bottom:(P.bottom-b.bottom+S.bottom)/E.y,left:(b.left-P.left+S.left)/E.x,right:(P.right-b.right+S.right)/E.x}}const ER=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:p,padding:m=0}=ns(e,t)||{};if(p==null)return{};const y=tj(m),v={x:n,y:s},w=kp(o),S=Sp(w),k=await c.getDimensions(p),C=w==="y",b=C?"top":"left",N=C?"bottom":"right",_=C?"clientHeight":"clientWidth",E=l.reference[S]+l.reference[w]-v[w]-l.floating[S],P=v[w]-l.reference[w],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let A=O?O[_]:0;(!A||!await(c.isElement==null?void 0:c.isElement(O)))&&(A=u.floating[_]||l.floating[S]);const I=E/2-P/2,z=A/2-k[S]/2-1,W=Fs(y[b],z),H=Fs(y[N],z),$=W,K=A-k[S]-H,Y=A/2-k[S]/2+I,Q=Nh($,Y,K),te=!f.arrow&&$i(o)!=null&&Y!==Q&&l.reference[S]/2-(Y<$?W:H)-k[S]/2<0,R=te?Y<$?Y-$:Y-K:0;return{[w]:v[w]+R,data:{[w]:Q,centerOffset:Y-Q-R,...te&&{alignmentOffset:R}},reset:te}}}),MR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:p}=t,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:k=!0,...C}=ns(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const b=rs(o),N=jr(u),_=rs(u)===u,E=await(f.isRTL==null?void 0:f.isRTL(p.floating)),P=v||(_||!k?[jd(u)]:bR(u)),O=S!=="none";!v&&O&&P.push(...NR(u,k,S,E));const A=[u,...P],I=await qo(t,C),z=[];let W=((s=l.flip)==null?void 0:s.overflows)||[];if(m&&z.push(I[b]),y){const Y=wR(o,c,E);z.push(I[Y[0]],I[Y[1]])}if(W=[...W,{placement:o,overflows:z}],!z.every(Y=>Y<=0)){var H,$;const Y=(((H=l.flip)==null?void 0:H.index)||0)+1,Q=A[Y];if(Q&&(!(y==="alignment"?N!==jr(Q):!1)||W.every(D=>D.overflows[0]>0&&jr(D.placement)===N)))return{data:{index:Y,overflows:W},reset:{placement:Q}};let te=($=W.filter(R=>R.overflows[0]<=0).sort((R,D)=>R.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!te)switch(w){case"bestFit":{var K;const R=(K=W.filter(D=>{if(O){const L=jr(D.placement);return L===N||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:K[0];R&&(te=R);break}case"initialPlacement":te=u;break}if(o!==te)return{reset:{placement:te}}}return{}}}};function C0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _0(e){return gR.some(t=>e[t]>=0)}const PR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=ns(e,t);switch(s){case"referenceHidden":{const l=await qo(t,{...o,elementContext:"reference"}),c=C0(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:_0(c)}}}case"escaped":{const l=await qo(t,{...o,altBoundary:!0}),c=C0(l,n.floating);return{data:{escapedOffsets:c,escaped:_0(c)}}}default:return{}}}}},nj=new Set(["left","top"]);async function TR(e,t){const{placement:n,platform:s,elements:o}=e,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=rs(n),u=$i(n),f=jr(n)==="y",p=nj.has(c)?-1:1,m=l&&f?-1:1,y=ns(t,e);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof S=="number"&&(w=u==="end"?S*-1:S),f?{x:w*m,y:v*p}:{x:v*p,y:w*m}}const DR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:l,placement:c,middlewareData:u}=t,f=await TR(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},AR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:b,y:N}=C;return{x:b,y:N}}},...f}=ns(e,t),p={x:n,y:s},m=await qo(t,f),y=jr(rs(o)),v=jp(y);let w=p[v],S=p[y];if(l){const C=v==="y"?"top":"left",b=v==="y"?"bottom":"right",N=w+m[C],_=w-m[b];w=Nh(N,w,_)}if(c){const C=y==="y"?"top":"left",b=y==="y"?"bottom":"right",N=S+m[C],_=S-m[b];S=Nh(N,S,_)}const k=u.fn({...t,[v]:w,[y]:S});return{...k,data:{x:k.x-n,y:k.y-s,enabled:{[v]:l,[y]:c}}}}}},RR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:p=!0}=ns(e,t),m={x:n,y:s},y=jr(o),v=jp(y);let w=m[v],S=m[y];const k=ns(u,t),C=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(f){const _=v==="y"?"height":"width",E=l.reference[v]-l.floating[_]+C.mainAxis,P=l.reference[v]+l.reference[_]-C.mainAxis;w<E?w=E:w>P&&(w=P)}if(p){var b,N;const _=v==="y"?"width":"height",E=nj.has(rs(o)),P=l.reference[y]-l.floating[_]+(E&&((b=c.offset)==null?void 0:b[y])||0)+(E?0:C.crossAxis),O=l.reference[y]+l.reference[_]+(E?0:((N=c.offset)==null?void 0:N[y])||0)-(E?C.crossAxis:0);S<P?S=P:S>O&&(S=O)}return{[v]:w,[y]:S}}}},IR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:l,platform:c,elements:u}=t,{apply:f=()=>{},...p}=ns(e,t),m=await qo(t,p),y=rs(o),v=$i(o),w=jr(o)==="y",{width:S,height:k}=l.floating;let C,b;y==="top"||y==="bottom"?(C=y,b=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(b=y,C=v==="end"?"top":"bottom");const N=k-m.top-m.bottom,_=S-m.left-m.right,E=Fs(k-m[C],N),P=Fs(S-m[b],_),O=!t.middlewareData.shift;let A=E,I=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=N),O&&!v){const W=Pn(m.left,0),H=Pn(m.right,0),$=Pn(m.top,0),K=Pn(m.bottom,0);w?I=S-2*(W!==0||H!==0?W+H:Pn(m.left,m.right)):A=k-2*($!==0||K!==0?$+K:Pn(m.top,m.bottom))}await f({...t,availableWidth:I,availableHeight:A});const z=await c.getDimensions(u.floating);return S!==z.width||k!==z.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function zi(e){return rj(e)?(e.nodeName||"").toLowerCase():"#document"}function Dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(rj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rj(e){return Gd()?e instanceof Node||e instanceof Dn(e).Node:!1}function ar(e){return Gd()?e instanceof Element||e instanceof Dn(e).Element:!1}function Pr(e){return Gd()?e instanceof HTMLElement||e instanceof Dn(e).HTMLElement:!1}function E0(e){return!Gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dn(e).ShadowRoot}const OR=new Set(["inline","contents"]);function vl(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!OR.has(o)}const LR=new Set(["table","td","th"]);function FR(e){return LR.has(zi(e))}const $R=[":popover-open",":modal"];function Kd(e){return $R.some(t=>{try{return e.matches(t)}catch{return!1}})}const zR=["transform","translate","scale","rotate","perspective"],VR=["transform","translate","scale","rotate","perspective","filter"],WR=["paint","layout","strict","content"];function Np(e){const t=Cp(),n=ar(e)?ir(e):e;return zR.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||VR.some(s=>(n.willChange||"").includes(s))||WR.some(s=>(n.contain||"").includes(s))}function BR(e){let t=$s(e);for(;Pr(t)&&!wi(t);){if(Np(t))return t;if(Kd(t))return null;t=$s(t)}return null}function Cp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UR=new Set(["html","body","#document"]);function wi(e){return UR.has(zi(e))}function ir(e){return Dn(e).getComputedStyle(e)}function qd(e){return ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $s(e){if(zi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||E0(e)&&e.host||Dr(e);return E0(t)?t.host:t}function sj(e){const t=$s(e);return wi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&vl(t)?t:sj(t)}function Xo(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=sj(e),l=o===((s=e.ownerDocument)==null?void 0:s.body),c=Dn(o);if(l){const u=_h(c);return t.concat(c,c.visualViewport||[],vl(o)?o:[],u&&n?Xo(u):[])}return t.concat(o,Xo(o,[],n))}function _h(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aj(e){const t=ir(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=Pr(e),l=o?e.offsetWidth:n,c=o?e.offsetHeight:s,u=bd(n)!==l||bd(s)!==c;return u&&(n=l,s=c),{width:n,height:s,$:u}}function _p(e){return ar(e)?e:e.contextElement}function yi(e){const t=_p(e);if(!Pr(t))return kr(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:l}=aj(t);let c=(l?bd(n.width):n.width)/s,u=(l?bd(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const HR=kr(0);function ij(e){const t=Dn(e);return!Cp()||!t.visualViewport?HR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Dn(e)?!1:t}function ka(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=_p(e);let c=kr(1);t&&(s?ar(s)&&(c=yi(s)):c=yi(e));const u=YR(l,n,s)?ij(l):kr(0);let f=(o.left+u.x)/c.x,p=(o.top+u.y)/c.y,m=o.width/c.x,y=o.height/c.y;if(l){const v=Dn(l),w=s&&ar(s)?Dn(s):s;let S=v,k=_h(S);for(;k&&s&&w!==S;){const C=yi(k),b=k.getBoundingClientRect(),N=ir(k),_=b.left+(k.clientLeft+parseFloat(N.paddingLeft))*C.x,E=b.top+(k.clientTop+parseFloat(N.paddingTop))*C.y;f*=C.x,p*=C.y,m*=C.x,y*=C.y,f+=_,p+=E,S=Dn(k),k=_h(S)}}return Sd({width:m,height:y,x:f,y:p})}function Ep(e,t){const n=qd(e).scrollLeft;return t?t.left+n:ka(Dr(e)).left+n}function oj(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=s.left+t.scrollLeft-(n?0:Ep(e,s)),l=s.top+t.scrollTop;return{x:o,y:l}}function GR(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const l=o==="fixed",c=Dr(s),u=t?Kd(t.floating):!1;if(s===c||u&&l)return n;let f={scrollLeft:0,scrollTop:0},p=kr(1);const m=kr(0),y=Pr(s);if((y||!y&&!l)&&((zi(s)!=="body"||vl(c))&&(f=qd(s)),Pr(s))){const w=ka(s);p=yi(s),m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}const v=c&&!y&&!l?oj(c,f,!0):kr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+m.x+v.x,y:n.y*p.y-f.scrollTop*p.y+m.y+v.y}}function KR(e){return Array.from(e.getClientRects())}function qR(e){const t=Dr(e),n=qd(e),s=e.ownerDocument.body,o=Pn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),l=Pn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+Ep(e);const u=-n.scrollTop;return ir(s).direction==="rtl"&&(c+=Pn(t.clientWidth,s.clientWidth)-o),{width:o,height:l,x:c,y:u}}function XR(e,t){const n=Dn(e),s=Dr(e),o=n.visualViewport;let l=s.clientWidth,c=s.clientHeight,u=0,f=0;if(o){l=o.width,c=o.height;const p=Cp();(!p||p&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:c,x:u,y:f}}const JR=new Set(["absolute","fixed"]);function QR(e,t){const n=ka(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,l=Pr(e)?yi(e):kr(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=o*l.x,p=s*l.y;return{width:c,height:u,x:f,y:p}}function M0(e,t,n){let s;if(t==="viewport")s=XR(e,n);else if(t==="document")s=qR(Dr(e));else if(ar(t))s=QR(t,n);else{const o=ij(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Sd(s)}function lj(e,t){const n=$s(e);return n===t||!ar(n)||wi(n)?!1:ir(n).position==="fixed"||lj(n,t)}function ZR(e,t){const n=t.get(e);if(n)return n;let s=Xo(e,[],!1).filter(u=>ar(u)&&zi(u)!=="body"),o=null;const l=ir(e).position==="fixed";let c=l?$s(e):e;for(;ar(c)&&!wi(c);){const u=ir(c),f=Np(c);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&JR.has(o.position)||vl(c)&&!f&&lj(e,c))?s=s.filter(m=>m!==c):o=u,c=$s(c)}return t.set(e,s),s}function e4(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const c=[...n==="clippingAncestors"?Kd(t)?[]:ZR(t,this._c):[].concat(n),s],u=c[0],f=c.reduce((p,m)=>{const y=M0(t,m,o);return p.top=Pn(y.top,p.top),p.right=Fs(y.right,p.right),p.bottom=Fs(y.bottom,p.bottom),p.left=Pn(y.left,p.left),p},M0(t,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function t4(e){const{width:t,height:n}=aj(e);return{width:t,height:n}}function n4(e,t,n){const s=Pr(t),o=Dr(t),l=n==="fixed",c=ka(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=kr(0);function p(){f.x=Ep(o)}if(s||!s&&!l)if((zi(t)!=="body"||vl(o))&&(u=qd(t)),s){const w=ka(t,!0,l,t);f.x=w.x+t.clientLeft,f.y=w.y+t.clientTop}else o&&p();l&&!s&&o&&p();const m=o&&!s&&!l?oj(o,u):kr(0),y=c.left+u.scrollLeft-f.x-m.x,v=c.top+u.scrollTop-f.y-m.y;return{x:y,y:v,width:c.width,height:c.height}}function zm(e){return ir(e).position==="static"}function P0(e,t){if(!Pr(e)||ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function cj(e,t){const n=Dn(e);if(Kd(e))return n;if(!Pr(e)){let o=$s(e);for(;o&&!wi(o);){if(ar(o)&&!zm(o))return o;o=$s(o)}return n}let s=P0(e,t);for(;s&&FR(s)&&zm(s);)s=P0(s,t);return s&&wi(s)&&zm(s)&&!Np(s)?n:s||BR(e)||n}const r4=async function(e){const t=this.getOffsetParent||cj,n=this.getDimensions,s=await n(e.floating);return{reference:n4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function s4(e){return ir(e).direction==="rtl"}const a4={convertOffsetParentRelativeRectToViewportRelativeRect:GR,getDocumentElement:Dr,getClippingRect:e4,getOffsetParent:cj,getElementRects:r4,getClientRects:KR,getDimensions:t4,getScale:yi,isElement:ar,isRTL:s4};function dj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function i4(e,t){let n=null,s;const o=Dr(e);function l(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:m,top:y,width:v,height:w}=p;if(u||t(),!v||!w)return;const S=td(y),k=td(o.clientWidth-(m+v)),C=td(o.clientHeight-(y+w)),b=td(m),_={rootMargin:-S+"px "+-k+"px "+-C+"px "+-b+"px",threshold:Pn(0,Fs(1,f))||1};let E=!0;function P(O){const A=O[0].intersectionRatio;if(A!==f){if(!E)return c();A?c(!1,A):s=setTimeout(()=>{c(!1,1e-7)},1e3)}A===1&&!dj(p,e.getBoundingClientRect())&&c(),E=!1}try{n=new IntersectionObserver(P,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,_)}n.observe(e)}return c(!0),l}function o4(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,p=_p(e),m=o||l?[...p?Xo(p):[],...Xo(t)]:[];m.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),l&&b.addEventListener("resize",n)});const y=p&&u?i4(p,n):null;let v=-1,w=null;c&&(w=new ResizeObserver(b=>{let[N]=b;N&&N.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(t)})),n()}),p&&!f&&w.observe(p),w.observe(t));let S,k=f?ka(e):null;f&&C();function C(){const b=ka(e);k&&!dj(k,b)&&n(),k=b,S=requestAnimationFrame(C)}return n(),()=>{var b;m.forEach(N=>{o&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),y==null||y(),(b=w)==null||b.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const l4=DR,c4=AR,d4=MR,u4=IR,f4=PR,T0=ER,m4=RR,h4=(e,t,n)=>{const s=new Map,o={platform:a4,...n},l={...o.platform,_c:s};return _R(e,t,{...o,platform:l})};var p4=typeof document<"u",g4=function(){},fd=p4?g.useLayoutEffect:g4;function kd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!kd(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!kd(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function uj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function D0(e,t){const n=uj(e);return Math.round(t*n)/n}function Vm(e){const t=g.useRef(e);return fd(()=>{t.current=e}),t}function y4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:p}=e,[m,y]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=g.useState(s);kd(v,s)||w(s);const[S,k]=g.useState(null),[C,b]=g.useState(null),N=g.useCallback(D=>{D!==O.current&&(O.current=D,k(D))},[]),_=g.useCallback(D=>{D!==A.current&&(A.current=D,b(D))},[]),E=l||S,P=c||C,O=g.useRef(null),A=g.useRef(null),I=g.useRef(m),z=f!=null,W=Vm(f),H=Vm(o),$=Vm(p),K=g.useCallback(()=>{if(!O.current||!A.current)return;const D={placement:t,strategy:n,middleware:v};H.current&&(D.platform=H.current),h4(O.current,A.current,D).then(L=>{const G={...L,isPositioned:$.current!==!1};Y.current&&!kd(I.current,G)&&(I.current=G,fl.flushSync(()=>{y(G)}))})},[v,t,n,H,$]);fd(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,y(D=>({...D,isPositioned:!1})))},[p]);const Y=g.useRef(!1);fd(()=>(Y.current=!0,()=>{Y.current=!1}),[]),fd(()=>{if(E&&(O.current=E),P&&(A.current=P),E&&P){if(W.current)return W.current(E,P,K);K()}},[E,P,K,W,z]);const Q=g.useMemo(()=>({reference:O,floating:A,setReference:N,setFloating:_}),[N,_]),te=g.useMemo(()=>({reference:E,floating:P}),[E,P]),R=g.useMemo(()=>{const D={position:n,left:0,top:0};if(!te.floating)return D;const L=D0(te.floating,m.x),G=D0(te.floating,m.y);return u?{...D,transform:"translate("+L+"px, "+G+"px)",...uj(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:G}},[n,u,te.floating,m.x,m.y]);return g.useMemo(()=>({...m,update:K,refs:Q,elements:te,floatingStyles:R}),[m,K,Q,te,R])}const v4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?T0({element:s.current,padding:o}).fn(n):{}:s?T0({element:s,padding:o}).fn(n):{}}}},x4=(e,t)=>({...l4(e),options:[e,t]}),w4=(e,t)=>({...c4(e),options:[e,t]}),b4=(e,t)=>({...m4(e),options:[e,t]}),j4=(e,t)=>({...d4(e),options:[e,t]}),S4=(e,t)=>({...u4(e),options:[e,t]}),k4=(e,t)=>({...f4(e),options:[e,t]}),N4=(e,t)=>({...v4(e),options:[e,t]});var C4="Arrow",fj=g.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...l}=e;return a.jsx(Ie.svg,{...l,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});fj.displayName=C4;var _4=fj;function mj(e){const[t,n]=g.useState(void 0);return on(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,u=p.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Mp="Popper",[hj,Us]=dr(Mp),[E4,pj]=hj(Mp),gj=e=>{const{__scopePopper:t,children:n}=e,[s,o]=g.useState(null);return a.jsx(E4,{scope:t,anchor:s,onAnchorChange:o,children:n})};gj.displayName=Mp;var yj="PopperAnchor",vj=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,l=pj(yj,n),c=g.useRef(null),u=nt(t,c);return g.useEffect(()=>{l.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:a.jsx(Ie.div,{...o,ref:u})});vj.displayName=yj;var Pp="PopperContent",[M4,P4]=hj(Pp),xj=g.forwardRef((e,t)=>{var Z,fe,J,de,he,be;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:S,...k}=e,C=pj(Pp,n),[b,N]=g.useState(null),_=nt(t,Le=>N(Le)),[E,P]=g.useState(null),O=mj(E),A=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,z=s+(l!=="center"?"-"+l:""),W=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(p)?p:[p],$=H.length>0,K={padding:W,boundary:H.filter(D4),altBoundary:$},{refs:Y,floatingStyles:Q,placement:te,isPositioned:R,middlewareData:D}=y4({strategy:"fixed",placement:z,whileElementsMounted:(...Le)=>o4(...Le,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[x4({mainAxis:o+I,alignmentAxis:c}),f&&w4({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?b4():void 0,...K}),f&&j4({...K}),S4({...K,apply:({elements:Le,rects:rt,availableWidth:xt,availableHeight:St})=>{const{width:qe,height:ue}=rt.reference,Ae=Le.floating.style;Ae.setProperty("--radix-popper-available-width",`${xt}px`),Ae.setProperty("--radix-popper-available-height",`${St}px`),Ae.setProperty("--radix-popper-anchor-width",`${qe}px`),Ae.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),E&&N4({element:E,padding:u}),A4({arrowWidth:A,arrowHeight:I}),v&&k4({strategy:"referenceHidden",...K})]}),[L,G]=jj(te),T=Mr(S);on(()=>{R&&(T==null||T())},[R,T]);const B=(Z=D.arrow)==null?void 0:Z.x,ne=(fe=D.arrow)==null?void 0:fe.y,ae=((J=D.arrow)==null?void 0:J.centerOffset)!==0,[ie,re]=g.useState();return on(()=>{b&&re(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:R?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(de=D.transformOrigin)==null?void 0:de.x,(he=D.transformOrigin)==null?void 0:he.y].join(" "),...((be=D.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(M4,{scope:n,placedSide:L,onArrowChange:P,arrowX:B,arrowY:ne,shouldHideArrow:ae,children:a.jsx(Ie.div,{"data-side":L,"data-align":G,...k,ref:_,style:{...k.style,animation:R?void 0:"none"}})})})});xj.displayName=Pp;var wj="PopperArrow",T4={top:"bottom",right:"left",bottom:"top",left:"right"},bj=g.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,l=P4(wj,s),c=T4[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(_4,{...o,ref:n,style:{...o.style,display:"block"}})})});bj.displayName=wj;function D4(e){return e!==null}var A4=e=>({name:"transformOrigin",options:e,fn(t){var C,b,N;const{placement:n,rects:s,middlewareData:o}=t,c=((C=o.arrow)==null?void 0:C.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[p,m]=jj(n),y={start:"0%",center:"50%",end:"100%"}[m],v=(((b=o.arrow)==null?void 0:b.x)??0)+u/2,w=(((N=o.arrow)==null?void 0:N.y)??0)+f/2;let S="",k="";return p==="bottom"?(S=c?y:`${v}px`,k=`${-f}px`):p==="top"?(S=c?y:`${v}px`,k=`${s.floating.height+f}px`):p==="right"?(S=`${-f}px`,k=c?y:`${w}px`):p==="left"&&(S=`${s.floating.width+f}px`,k=c?y:`${w}px`),{data:{x:S,y:k}}}});function jj(e){const[t,n="center"]=e.split("-");return[t,n]}var Xd=gj,xl=vj,Jd=xj,Qd=bj,Sj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),R4="VisuallyHidden",kj=g.forwardRef((e,t)=>a.jsx(Ie.span,{...e,ref:t,style:{...Sj,...e.style}}));kj.displayName=R4;var I4=kj,[Zd,j9]=dr("Tooltip",[Us]),eu=Us(),Nj="TooltipProvider",O4=700,Eh="tooltip.open",[L4,Tp]=Zd(Nj),Cj=e=>{const{__scopeTooltip:t,delayDuration:n=O4,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:l}=e,c=g.useRef(!0),u=g.useRef(!1),f=g.useRef(0);return g.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),a.jsx(L4,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:g.useCallback(p=>{u.current=p},[]),disableHoverableContent:o,children:l})};Cj.displayName=Nj;var Jo="Tooltip",[F4,wl]=Zd(Jo),_j=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:o,onOpenChange:l,disableHoverableContent:c,delayDuration:u}=e,f=Tp(Jo,e.__scopeTooltip),p=eu(t),[m,y]=g.useState(null),v=Bn(),w=g.useRef(0),S=c??f.disableHoverableContent,k=u??f.delayDuration,C=g.useRef(!1),[b,N]=ts({prop:s,defaultProp:o??!1,onChange:A=>{A?(f.onOpen(),document.dispatchEvent(new CustomEvent(Eh))):f.onClose(),l==null||l(A)},caller:Jo}),_=g.useMemo(()=>b?C.current?"delayed-open":"instant-open":"closed",[b]),E=g.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C.current=!1,N(!0)},[N]),P=g.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N(!1)},[N]),O=g.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,N(!0),w.current=0},k)},[k,N]);return g.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),a.jsx(Xd,{...p,children:a.jsx(F4,{scope:t,contentId:v,open:b,stateAttribute:_,trigger:m,onTriggerChange:y,onTriggerEnter:g.useCallback(()=>{f.isOpenDelayedRef.current?O():E()},[f.isOpenDelayedRef,O,E]),onTriggerLeave:g.useCallback(()=>{S?P():(window.clearTimeout(w.current),w.current=0)},[P,S]),onOpen:E,onClose:P,disableHoverableContent:S,children:n})})};_j.displayName=Jo;var Mh="TooltipTrigger",Ej=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=wl(Mh,n),l=Tp(Mh,n),c=eu(n),u=g.useRef(null),f=nt(t,u,o.onTriggerChange),p=g.useRef(!1),m=g.useRef(!1),y=g.useCallback(()=>p.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),a.jsx(xl,{asChild:!0,...c,children:a.jsx(Ie.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:f,onPointerMove:ye(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ye(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:ye(e.onBlur,o.onClose),onClick:ye(e.onClick,o.onClose)})})});Ej.displayName=Mh;var Dp="TooltipPortal",[$4,z4]=Zd(Dp,{forceMount:void 0}),Mj=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:o}=e,l=wl(Dp,t);return a.jsx($4,{scope:t,forceMount:n,children:a.jsx(Nn,{present:n||l.open,children:a.jsx(Fi,{asChild:!0,container:o,children:s})})})};Mj.displayName=Dp;var bi="TooltipContent",Pj=g.forwardRef((e,t)=>{const n=z4(bi,e.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...l}=e,c=wl(bi,e.__scopeTooltip);return a.jsx(Nn,{present:s||c.open,children:c.disableHoverableContent?a.jsx(Tj,{side:o,...l,ref:t}):a.jsx(V4,{side:o,...l,ref:t})})}),V4=g.forwardRef((e,t)=>{const n=wl(bi,e.__scopeTooltip),s=Tp(bi,e.__scopeTooltip),o=g.useRef(null),l=nt(t,o),[c,u]=g.useState(null),{trigger:f,onClose:p}=n,m=o.current,{onPointerInTransitChange:y}=s,v=g.useCallback(()=>{u(null),y(!1)},[y]),w=g.useCallback((S,k)=>{const C=S.currentTarget,b={x:S.clientX,y:S.clientY},N=Y4(b,C.getBoundingClientRect()),_=G4(b,N),E=K4(k.getBoundingClientRect()),P=X4([..._,...E]);u(P),y(!0)},[y]);return g.useEffect(()=>()=>v(),[v]),g.useEffect(()=>{if(f&&m){const S=C=>w(C,m),k=C=>w(C,f);return f.addEventListener("pointerleave",S),m.addEventListener("pointerleave",k),()=>{f.removeEventListener("pointerleave",S),m.removeEventListener("pointerleave",k)}}},[f,m,w,v]),g.useEffect(()=>{if(c){const S=k=>{const C=k.target,b={x:k.clientX,y:k.clientY},N=(f==null?void 0:f.contains(C))||(m==null?void 0:m.contains(C)),_=!q4(b,c);N?v():_&&(v(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,m,c,p,v]),a.jsx(Tj,{...e,ref:l})}),[W4,B4]=Zd(Jo,{isInside:!1}),U4=ID("TooltipContent"),Tj=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:c,...u}=e,f=wl(bi,n),p=eu(n),{onClose:m}=f;return g.useEffect(()=>(document.addEventListener(Eh,m),()=>document.removeEventListener(Eh,m)),[m]),g.useEffect(()=>{if(f.trigger){const y=v=>{const w=v.target;w!=null&&w.contains(f.trigger)&&m()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[f.trigger,m]),a.jsx(Li,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:y=>y.preventDefault(),onDismiss:m,children:a.jsxs(Jd,{"data-state":f.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(U4,{children:s}),a.jsx(W4,{scope:n,isInside:!0,children:a.jsx(I4,{id:f.contentId,role:"tooltip",children:o||s})})]})})});Pj.displayName=bi;var Dj="TooltipArrow",H4=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=eu(n);return B4(Dj,n).isInside?null:a.jsx(Qd,{...o,...s,ref:t})});H4.displayName=Dj;function Y4(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,s,o,l)){case l:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function G4(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function K4(e){const{top:t,right:n,bottom:s,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function q4(e,t){const{x:n,y:s}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],f=t[c],p=u.x,m=u.y,y=f.x,v=f.y;m>s!=v>s&&n<(y-p)*(s-m)/(v-m)+p&&(o=!o)}return o}function X4(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),J4(t)}function J4(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const o=e[s];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const o=e[s];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Q4=Cj,Z4=_j,eI=Ej,tI=Mj,Aj=Pj;const nI=Q4,rI=Z4,sI=eI,Rj=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(tI,{children:a.jsx(Aj,{ref:s,sideOffset:t,className:pe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Rj.displayName=Aj.displayName;const aI="sidebar_state",iI=60*60*24*7,oI="16rem",lI="18rem",cI="3rem",dI="b",Ij=g.createContext(null);function tu(){const e=g.useContext(Ij);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Oj=g.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:s,style:o,children:l,...c},u)=>{const f=$D(),[p,m]=g.useState(!1),[y,v]=g.useState(e),w=t??y,S=g.useCallback(N=>{const _=typeof N=="function"?N(w):N;n?n(_):v(_),document.cookie=`${aI}=${_}; path=/; max-age=${iI}`},[n,w]),k=g.useCallback(()=>f?m(N=>!N):S(N=>!N),[f,S,m]);g.useEffect(()=>{const N=_=>{_.key===dI&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),k())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[k]);const C=w?"expanded":"collapsed",b=g.useMemo(()=>({state:C,open:w,setOpen:S,isMobile:f,openMobile:p,setOpenMobile:m,toggleSidebar:k}),[C,w,S,f,p,m,k]);return a.jsx(Ij.Provider,{value:b,children:a.jsx(nI,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":oI,"--sidebar-width-icon":cI,...o},className:pe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:u,...c,children:l})})})});Oj.displayName="SidebarProvider";const Lj=g.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:s,children:o,...l},c)=>{const{isMobile:u,state:f,openMobile:p,setOpenMobile:m}=tu();return n==="none"?a.jsx("div",{className:pe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:c,...l,children:o}):u?a.jsx(uR,{open:p,onOpenChange:m,...l,children:a.jsx(ej,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":lI},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:o})})}):a.jsxs("div",{ref:c,className:"group peer hidden text-sidebar-foreground md:block","data-state":f,"data-collapsible":f==="collapsed"?n:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:pe("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:pe("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...l,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:o})})]})});Lj.displayName="Sidebar";const Fj=g.forwardRef(({className:e,onClick:t,...n},s)=>{const{toggleSidebar:o}=tu();return a.jsxs(se,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:pe("h-7 w-7",e),onClick:l=>{t==null||t(l),o()},...n,children:[a.jsx(mT,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Fj.displayName="SidebarTrigger";const uI=g.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:s}=tu();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:pe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});uI.displayName="SidebarRail";const fI=g.forwardRef(({className:e,...t},n)=>a.jsx("main",{ref:n,className:pe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));fI.displayName="SidebarInset";const mI=g.forwardRef(({className:e,...t},n)=>a.jsx(He,{ref:n,"data-sidebar":"input",className:pe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));mI.displayName="SidebarInput";const $j=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:pe("flex flex-col gap-2 p-2",e),...t}));$j.displayName="SidebarHeader";const zj=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:pe("flex flex-col gap-2 p-2",e),...t}));zj.displayName="SidebarFooter";const hI=g.forwardRef(({className:e,...t},n)=>a.jsx(S1,{ref:n,"data-sidebar":"separator",className:pe("mx-2 w-auto bg-sidebar-border",e),...t}));hI.displayName="SidebarSeparator";const Vj=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:pe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Vj.displayName="SidebarContent";const pI=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:pe("relative flex w-full min-w-0 flex-col p-2",e),...t}));pI.displayName="SidebarGroup";const gI=g.forwardRef(({className:e,asChild:t=!1,...n},s)=>{const o=t?Oi:"div";return a.jsx(o,{ref:s,"data-sidebar":"group-label",className:pe("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});gI.displayName="SidebarGroupLabel";const yI=g.forwardRef(({className:e,asChild:t=!1,...n},s)=>{const o=t?Oi:"button";return a.jsx(o,{ref:s,"data-sidebar":"group-action",className:pe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});yI.displayName="SidebarGroupAction";const vI=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:pe("w-full text-sm",e),...t}));vI.displayName="SidebarGroupContent";const Wj=g.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:pe("flex w-full min-w-0 flex-col gap-1",e),...t}));Wj.displayName="SidebarMenu";const Ts=g.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:pe("group/menu-item relative",e),...t}));Ts.displayName="SidebarMenuItem";const xI=Ti("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ha=g.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:s="default",tooltip:o,className:l,...c},u)=>{const f=e?Oi:"button",{isMobile:p,state:m}=tu(),y=a.jsx(f,{ref:u,"data-sidebar":"menu-button","data-size":s,"data-active":t,className:pe(xI({variant:n,size:s}),l),...c});return o?(typeof o=="string"&&(o={children:o}),a.jsxs(rI,{children:[a.jsx(sI,{asChild:!0,children:y}),a.jsx(Rj,{side:"right",align:"center",hidden:m!=="collapsed"||p,...o})]})):y});ha.displayName="SidebarMenuButton";const wI=g.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...s},o)=>{const l=t?Oi:"button";return a.jsx(l,{ref:o,"data-sidebar":"menu-action",className:pe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});wI.displayName="SidebarMenuAction";const bI=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:pe("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));bI.displayName="SidebarMenuBadge";const jI=g.forwardRef(({className:e,showIcon:t=!1,...n},s)=>{const o=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:pe("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&a.jsx(j0,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(j0,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]})});jI.displayName="SidebarMenuSkeleton";const SI=g.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:pe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));SI.displayName="SidebarMenuSub";const kI=g.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));kI.displayName="SidebarMenuSubItem";const NI=g.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:s,...o},l)=>{const c=e?Oi:"a";return a.jsx(c,{ref:l,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:pe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...o})});NI.displayName="SidebarMenuSubButton";function Oe(e){return"/"+e.toLowerCase().replace(/ /g,"-")}function A0(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ap(e){const t=e+"CollectionProvider",[n,s]=dr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=k=>{const{scope:C,children:b}=k,N=Ur.useRef(null),_=Ur.useRef(new Map).current;return a.jsx(o,{scope:C,itemMap:_,collectionRef:N,children:b})};c.displayName=t;const u=e+"CollectionSlot",f=Ls(u),p=Ur.forwardRef((k,C)=>{const{scope:b,children:N}=k,_=l(u,b),E=nt(C,_.collectionRef);return a.jsx(f,{ref:E,children:N})});p.displayName=u;const m=e+"CollectionItemSlot",y="data-radix-collection-item",v=Ls(m),w=Ur.forwardRef((k,C)=>{const{scope:b,children:N,..._}=k,E=Ur.useRef(null),P=nt(C,E),O=l(m,b);return Ur.useEffect(()=>(O.itemMap.set(E,{ref:E,..._}),()=>void O.itemMap.delete(E))),a.jsx(v,{[y]:"",ref:P,children:N})});w.displayName=m;function S(k){const C=l(e+"CollectionConsumer",k);return Ur.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const _=Array.from(N.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((O,A)=>_.indexOf(O.ref.current)-_.indexOf(A.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:p,ItemSlot:w},S,s]}var CI=g.createContext(void 0);function nu(e){const t=g.useContext(CI);return e||t||"ltr"}function Bj(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _I=[" ","Enter","ArrowUp","ArrowDown"],EI=[" ","Enter"],Na="Select",[ru,su,MI]=Ap(Na),[Vi,S9]=dr(Na,[MI,Us]),au=Us(),[PI,Hs]=Vi(Na),[TI,DI]=Vi(Na),Uj=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:l,value:c,defaultValue:u,onValueChange:f,dir:p,name:m,autoComplete:y,disabled:v,required:w,form:S}=e,k=au(t),[C,b]=g.useState(null),[N,_]=g.useState(null),[E,P]=g.useState(!1),O=nu(p),[A,I]=ts({prop:s,defaultProp:o??!1,onChange:l,caller:Na}),[z,W]=ts({prop:c,defaultProp:u,onChange:f,caller:Na}),H=g.useRef(null),$=C?S||!!C.closest("form"):!0,[K,Y]=g.useState(new Set),Q=Array.from(K).map(te=>te.props.value).join(";");return a.jsx(Xd,{...k,children:a.jsxs(PI,{required:w,scope:t,trigger:C,onTriggerChange:b,valueNode:N,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:Bn(),value:z,onValueChange:W,open:A,onOpenChange:I,dir:O,triggerPointerDownPosRef:H,disabled:v,children:[a.jsx(ru.Provider,{scope:t,children:a.jsx(TI,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(te=>{Y(R=>new Set(R).add(te))},[]),onNativeOptionRemove:g.useCallback(te=>{Y(R=>{const D=new Set(R);return D.delete(te),D})},[]),children:n})}),$?a.jsxs(hS,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:y,value:z,onChange:te=>W(te.target.value),disabled:v,form:S,children:[z===void 0?a.jsx("option",{value:""}):null,Array.from(K)]},Q):null]})})};Uj.displayName=Na;var Hj="SelectTrigger",Yj=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,l=au(n),c=Hs(Hj,n),u=c.disabled||s,f=nt(t,c.onTriggerChange),p=su(n),m=g.useRef("touch"),[y,v,w]=gS(k=>{const C=p().filter(_=>!_.disabled),b=C.find(_=>_.value===c.value),N=yS(C,k,b);N!==void 0&&c.onValueChange(N.value)}),S=k=>{u||(c.onOpenChange(!0),w()),k&&(c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return a.jsx(xl,{asChild:!0,...l,children:a.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":pS(c.value)?"":void 0,...o,ref:f,onClick:ye(o.onClick,k=>{k.currentTarget.focus(),m.current!=="mouse"&&S(k)}),onPointerDown:ye(o.onPointerDown,k=>{m.current=k.pointerType;const C=k.target;C.hasPointerCapture(k.pointerId)&&C.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(S(k),k.preventDefault())}),onKeyDown:ye(o.onKeyDown,k=>{const C=y.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&v(k.key),!(C&&k.key===" ")&&_I.includes(k.key)&&(S(),k.preventDefault())})})})});Yj.displayName=Hj;var Gj="SelectValue",Kj=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:l,placeholder:c="",...u}=e,f=Hs(Gj,n),{onValueNodeHasChildrenChange:p}=f,m=l!==void 0,y=nt(t,f.onValueNodeChange);return on(()=>{p(m)},[p,m]),a.jsx(Ie.span,{...u,ref:y,style:{pointerEvents:"none"},children:pS(f.value)?a.jsx(a.Fragment,{children:c}):l})});Kj.displayName=Gj;var AI="SelectIcon",qj=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return a.jsx(Ie.span,{"aria-hidden":!0,...o,ref:t,children:s||""})});qj.displayName=AI;var RI="SelectPortal",Xj=e=>a.jsx(Fi,{asChild:!0,...e});Xj.displayName=RI;var Ca="SelectContent",Jj=g.forwardRef((e,t)=>{const n=Hs(Ca,e.__scopeSelect),[s,o]=g.useState();if(on(()=>{o(new DocumentFragment)},[]),!n.open){const l=s;return l?fl.createPortal(a.jsx(Qj,{scope:e.__scopeSelect,children:a.jsx(ru.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),l):null}return a.jsx(Zj,{...e,ref:t})});Jj.displayName=Ca;var tr=10,[Qj,Ys]=Vi(Ca),II="SelectContentImpl",OI=Ls("SelectContent.RemoveScroll"),Zj=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:f,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:k,avoidCollisions:C,...b}=e,N=Hs(Ca,n),[_,E]=g.useState(null),[P,O]=g.useState(null),A=nt(t,Z=>E(Z)),[I,z]=g.useState(null),[W,H]=g.useState(null),$=su(n),[K,Y]=g.useState(!1),Q=g.useRef(!1);g.useEffect(()=>{if(_)return Vd(_)},[_]),$d();const te=g.useCallback(Z=>{const[fe,...J]=$().map(be=>be.ref.current),[de]=J.slice(-1),he=document.activeElement;for(const be of Z)if(be===he||(be==null||be.scrollIntoView({block:"nearest"}),be===fe&&P&&(P.scrollTop=0),be===de&&P&&(P.scrollTop=P.scrollHeight),be==null||be.focus(),document.activeElement!==he))return},[$,P]),R=g.useCallback(()=>te([I,_]),[te,I,_]);g.useEffect(()=>{K&&R()},[K,R]);const{onOpenChange:D,triggerPointerDownPosRef:L}=N;g.useEffect(()=>{if(_){let Z={x:0,y:0};const fe=de=>{var he,be;Z={x:Math.abs(Math.round(de.pageX)-(((he=L.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(de.pageY)-(((be=L.current)==null?void 0:be.y)??0))}},J=de=>{Z.x<=10&&Z.y<=10?de.preventDefault():_.contains(de.target)||D(!1),document.removeEventListener("pointermove",fe),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",J,{capture:!0})}}},[_,D,L]),g.useEffect(()=>{const Z=()=>D(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[D]);const[G,T]=gS(Z=>{const fe=$().filter(he=>!he.disabled),J=fe.find(he=>he.ref.current===document.activeElement),de=yS(fe,Z,J);de&&setTimeout(()=>de.ref.current.focus())}),B=g.useCallback((Z,fe,J)=>{const de=!Q.current&&!J;(N.value!==void 0&&N.value===fe||de)&&(z(Z),de&&(Q.current=!0))},[N.value]),ne=g.useCallback(()=>_==null?void 0:_.focus(),[_]),ae=g.useCallback((Z,fe,J)=>{const de=!Q.current&&!J;(N.value!==void 0&&N.value===fe||de)&&H(Z)},[N.value]),ie=s==="popper"?Ph:eS,re=ie===Ph?{side:u,sideOffset:f,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:k,avoidCollisions:C}:{};return a.jsx(Qj,{scope:n,content:_,viewport:P,onViewportChange:O,itemRefCallback:B,selectedItem:I,onItemLeave:ne,itemTextRefCallback:ae,focusSelectedItem:R,selectedItemText:W,position:s,isPositioned:K,searchRef:G,children:a.jsx(yl,{as:OI,allowPinchZoom:!0,children:a.jsx(gl,{asChild:!0,trapped:N.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ye(o,Z=>{var fe;(fe=N.trigger)==null||fe.focus({preventScroll:!0}),Z.preventDefault()}),children:a.jsx(Li,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(ie,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Z=>Z.preventDefault(),...b,...re,onPlaced:()=>Y(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ye(b.onKeyDown,Z=>{const fe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!fe&&Z.key.length===1&&T(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let de=$().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const he=Z.target,be=de.indexOf(he);de=de.slice(be+1)}setTimeout(()=>te(de)),Z.preventDefault()}})})})})})})});Zj.displayName=II;var LI="SelectItemAlignedPosition",eS=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,l=Hs(Ca,n),c=Ys(Ca,n),[u,f]=g.useState(null),[p,m]=g.useState(null),y=nt(t,A=>m(A)),v=su(n),w=g.useRef(!1),S=g.useRef(!0),{viewport:k,selectedItem:C,selectedItemText:b,focusSelectedItem:N}=c,_=g.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&p&&k&&C&&b){const A=l.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),z=l.valueNode.getBoundingClientRect(),W=b.getBoundingClientRect();if(l.dir!=="rtl"){const he=W.left-I.left,be=z.left-he,Le=A.left-be,rt=A.width+Le,xt=Math.max(rt,I.width),St=window.innerWidth-tr,qe=A0(be,[tr,Math.max(tr,St-xt)]);u.style.minWidth=rt+"px",u.style.left=qe+"px"}else{const he=I.right-W.right,be=window.innerWidth-z.right-he,Le=window.innerWidth-A.right-be,rt=A.width+Le,xt=Math.max(rt,I.width),St=window.innerWidth-tr,qe=A0(be,[tr,Math.max(tr,St-xt)]);u.style.minWidth=rt+"px",u.style.right=qe+"px"}const H=v(),$=window.innerHeight-tr*2,K=k.scrollHeight,Y=window.getComputedStyle(p),Q=parseInt(Y.borderTopWidth,10),te=parseInt(Y.paddingTop,10),R=parseInt(Y.borderBottomWidth,10),D=parseInt(Y.paddingBottom,10),L=Q+te+K+D+R,G=Math.min(C.offsetHeight*5,L),T=window.getComputedStyle(k),B=parseInt(T.paddingTop,10),ne=parseInt(T.paddingBottom,10),ae=A.top+A.height/2-tr,ie=$-ae,re=C.offsetHeight/2,Z=C.offsetTop+re,fe=Q+te+Z,J=L-fe;if(fe<=ae){const he=H.length>0&&C===H[H.length-1].ref.current;u.style.bottom="0px";const be=p.clientHeight-k.offsetTop-k.offsetHeight,Le=Math.max(ie,re+(he?ne:0)+be+R),rt=fe+Le;u.style.height=rt+"px"}else{const he=H.length>0&&C===H[0].ref.current;u.style.top="0px";const Le=Math.max(ae,Q+k.offsetTop+(he?B:0)+re)+J;u.style.height=Le+"px",k.scrollTop=fe-ae+k.offsetTop}u.style.margin=`${tr}px 0`,u.style.minHeight=G+"px",u.style.maxHeight=$+"px",s==null||s(),requestAnimationFrame(()=>w.current=!0)}},[v,l.trigger,l.valueNode,u,p,k,C,b,l.dir,s]);on(()=>_(),[_]);const[E,P]=g.useState();on(()=>{p&&P(window.getComputedStyle(p).zIndex)},[p]);const O=g.useCallback(A=>{A&&S.current===!0&&(_(),N==null||N(),S.current=!1)},[_,N]);return a.jsx($I,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:a.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(Ie.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});eS.displayName=LI;var FI="SelectPopperPosition",Ph=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=tr,...l}=e,c=au(n);return a.jsx(Jd,{...c,...l,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ph.displayName=FI;var[$I,Rp]=Vi(Ca,{}),Th="SelectViewport",tS=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,l=Ys(Th,n),c=Rp(Th,n),u=nt(t,l.onViewportChange),f=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(ru.Slot,{scope:n,children:a.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ye(o.onScroll,p=>{const m=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&y){const w=Math.abs(f.current-m.scrollTop);if(w>0){const S=window.innerHeight-tr*2,k=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),b=Math.max(k,C);if(b<S){const N=b+w,_=Math.min(S,N),E=N-_;y.style.height=_+"px",y.style.bottom==="0px"&&(m.scrollTop=E>0?E:0,y.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});tS.displayName=Th;var nS="SelectGroup",[zI,VI]=Vi(nS),WI=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Bn();return a.jsx(zI,{scope:n,id:o,children:a.jsx(Ie.div,{role:"group","aria-labelledby":o,...s,ref:t})})});WI.displayName=nS;var rS="SelectLabel",sS=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=VI(rS,n);return a.jsx(Ie.div,{id:o.id,...s,ref:t})});sS.displayName=rS;var Nd="SelectItem",[BI,aS]=Vi(Nd),iS=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:l,...c}=e,u=Hs(Nd,n),f=Ys(Nd,n),p=u.value===s,[m,y]=g.useState(l??""),[v,w]=g.useState(!1),S=nt(t,N=>{var _;return(_=f.itemRefCallback)==null?void 0:_.call(f,N,s,o)}),k=Bn(),C=g.useRef("touch"),b=()=>{o||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(BI,{scope:n,value:s,disabled:o,textId:k,isSelected:p,onItemTextChange:g.useCallback(N=>{y(_=>_||((N==null?void 0:N.textContent)??"").trim())},[]),children:a.jsx(ru.ItemSlot,{scope:n,value:s,disabled:o,textValue:m,children:a.jsx(Ie.div,{role:"option","aria-labelledby":k,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:S,onFocus:ye(c.onFocus,()=>w(!0)),onBlur:ye(c.onBlur,()=>w(!1)),onClick:ye(c.onClick,()=>{C.current!=="mouse"&&b()}),onPointerUp:ye(c.onPointerUp,()=>{C.current==="mouse"&&b()}),onPointerDown:ye(c.onPointerDown,N=>{C.current=N.pointerType}),onPointerMove:ye(c.onPointerMove,N=>{var _;C.current=N.pointerType,o?(_=f.onItemLeave)==null||_.call(f):C.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(c.onPointerLeave,N=>{var _;N.currentTarget===document.activeElement&&((_=f.onItemLeave)==null||_.call(f))}),onKeyDown:ye(c.onKeyDown,N=>{var E;((E=f.searchRef)==null?void 0:E.current)!==""&&N.key===" "||(EI.includes(N.key)&&b(),N.key===" "&&N.preventDefault())})})})})});iS.displayName=Nd;var Oo="SelectItemText",oS=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...l}=e,c=Hs(Oo,n),u=Ys(Oo,n),f=aS(Oo,n),p=DI(Oo,n),[m,y]=g.useState(null),v=nt(t,b=>y(b),f.onItemTextChange,b=>{var N;return(N=u.itemTextRefCallback)==null?void 0:N.call(u,b,f.value,f.disabled)}),w=m==null?void 0:m.textContent,S=g.useMemo(()=>a.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:k,onNativeOptionRemove:C}=p;return on(()=>(k(S),()=>C(S)),[k,C,S]),a.jsxs(a.Fragment,{children:[a.jsx(Ie.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?fl.createPortal(l.children,c.valueNode):null]})});oS.displayName=Oo;var lS="SelectItemIndicator",cS=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return aS(lS,n).isSelected?a.jsx(Ie.span,{"aria-hidden":!0,...s,ref:t}):null});cS.displayName=lS;var Dh="SelectScrollUpButton",dS=g.forwardRef((e,t)=>{const n=Ys(Dh,e.__scopeSelect),s=Rp(Dh,e.__scopeSelect),[o,l]=g.useState(!1),c=nt(t,s.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?a.jsx(fS,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=n;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});dS.displayName=Dh;var Ah="SelectScrollDownButton",uS=g.forwardRef((e,t)=>{const n=Ys(Ah,e.__scopeSelect),s=Rp(Ah,e.__scopeSelect),[o,l]=g.useState(!1),c=nt(t,s.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;l(m)};const f=n.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?a.jsx(fS,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=n;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});uS.displayName=Ah;var fS=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,l=Ys("SelectScrollButton",n),c=g.useRef(null),u=su(n),f=g.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return g.useEffect(()=>()=>f(),[f]),on(()=>{var m;const p=u().find(y=>y.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),a.jsx(Ie.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ye(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:ye(o.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:ye(o.onPointerLeave,()=>{f()})})}),UI="SelectSeparator",mS=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return a.jsx(Ie.div,{"aria-hidden":!0,...s,ref:t})});mS.displayName=UI;var Rh="SelectArrow",HI=g.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=au(n),l=Hs(Rh,n),c=Ys(Rh,n);return l.open&&c.position==="popper"?a.jsx(Qd,{...o,...s,ref:t}):null});HI.displayName=Rh;var YI="SelectBubbleInput",hS=g.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const o=g.useRef(null),l=nt(s,o),c=Bj(t);return g.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const y=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(y)}},[c,t]),a.jsx(Ie.select,{...n,style:{...Sj,...n.style},ref:l,defaultValue:t})});hS.displayName=YI;function pS(e){return e===""||e===void 0}function gS(e){const t=Mr(e),n=g.useRef(""),s=g.useRef(0),o=g.useCallback(c=>{const u=n.current+c;t(u),function f(p){n.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>f(""),1e3))}(u)},[t]),l=g.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,l]}function yS(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=GI(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function GI(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var KI=Uj,vS=Yj,qI=Kj,XI=qj,JI=Xj,xS=Jj,QI=tS,wS=sS,bS=iS,ZI=oS,e5=cS,jS=dS,SS=uS,kS=mS;const sn=KI,an=qI,Xt=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(vS,{ref:s,className:pe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(XI,{asChild:!0,children:a.jsx(Ld,{className:"h-4 w-4 opacity-50"})})]}));Xt.displayName=vS.displayName;const NS=g.forwardRef(({className:e,...t},n)=>a.jsx(jS,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Bb,{className:"h-4 w-4"})}));NS.displayName=jS.displayName;const CS=g.forwardRef(({className:e,...t},n)=>a.jsx(SS,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ld,{className:"h-4 w-4"})}));CS.displayName=SS.displayName;const Jt=g.forwardRef(({className:e,children:t,position:n="popper",...s},o)=>a.jsx(JI,{children:a.jsxs(xS,{ref:o,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[a.jsx(NS,{}),a.jsx(QI,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(CS,{})]})}));Jt.displayName=xS.displayName;const t5=g.forwardRef(({className:e,...t},n)=>a.jsx(wS,{ref:n,className:pe("px-2 py-1.5 text-sm font-semibold",e),...t}));t5.displayName=wS.displayName;const _e=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(bS,{ref:s,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(e5,{children:a.jsx(Di,{className:"h-4 w-4"})})}),a.jsx(ZI,{children:t})]}));_e.displayName=bS.displayName;const n5=g.forwardRef(({className:e,...t},n)=>a.jsx(kS,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));n5.displayName=kS.displayName;var Wm="rovingFocusGroup.onEntryFocus",r5={bubbles:!1,cancelable:!0},bl="RovingFocusGroup",[Ih,_S,s5]=Ap(bl),[a5,iu]=dr(bl,[s5]),[i5,o5]=a5(bl),ES=g.forwardRef((e,t)=>a.jsx(Ih.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ih.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(l5,{...e,ref:t})})}));ES.displayName=bl;var l5=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=e,v=g.useRef(null),w=nt(t,v),S=nu(l),[k,C]=ts({prop:c,defaultProp:u??null,onChange:f,caller:bl}),[b,N]=g.useState(!1),_=Mr(p),E=_S(n),P=g.useRef(!1),[O,A]=g.useState(0);return g.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(Wm,_),()=>I.removeEventListener(Wm,_)},[_]),a.jsx(i5,{scope:n,orientation:s,dir:S,loop:o,currentTabStopId:k,onItemFocus:g.useCallback(I=>C(I),[C]),onItemShiftTab:g.useCallback(()=>N(!0),[]),onFocusableItemAdd:g.useCallback(()=>A(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>A(I=>I-1),[]),children:a.jsx(Ie.div,{tabIndex:b||O===0?-1:0,"data-orientation":s,...y,ref:w,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{P.current=!0}),onFocus:ye(e.onFocus,I=>{const z=!P.current;if(I.target===I.currentTarget&&z&&!b){const W=new CustomEvent(Wm,r5);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const H=E().filter(te=>te.focusable),$=H.find(te=>te.active),K=H.find(te=>te.id===k),Q=[$,K,...H].filter(Boolean).map(te=>te.ref.current);TS(Q,m)}}P.current=!1}),onBlur:ye(e.onBlur,()=>N(!1))})})}),MS="RovingFocusGroupItem",PS=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:l,children:c,...u}=e,f=Bn(),p=l||f,m=o5(MS,n),y=m.currentTabStopId===p,v=_S(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:k}=m;return g.useEffect(()=>{if(s)return w(),()=>S()},[s,w,S]),a.jsx(Ih.ItemSlot,{scope:n,id:p,focusable:s,active:o,children:a.jsx(Ie.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:ye(e.onMouseDown,C=>{s?m.onItemFocus(p):C.preventDefault()}),onFocus:ye(e.onFocus,()=>m.onItemFocus(p)),onKeyDown:ye(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const b=u5(C,m.orientation,m.dir);if(b!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let _=v().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const E=_.indexOf(C.currentTarget);_=m.loop?f5(_,E+1):_.slice(E+1)}setTimeout(()=>TS(_))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:k!=null}):c})})});PS.displayName=MS;var c5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function u5(e,t,n){const s=d5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return c5[s]}function TS(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function f5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var DS=ES,AS=PS,Oh=["Enter"," "],m5=["ArrowDown","PageUp","Home"],RS=["ArrowUp","PageDown","End"],h5=[...m5,...RS],p5={ltr:[...Oh,"ArrowRight"],rtl:[...Oh,"ArrowLeft"]},g5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jl="Menu",[Qo,y5,v5]=Ap(jl),[Pa,IS]=dr(jl,[v5,Us,iu]),ou=Us(),OS=iu(),[x5,Ta]=Pa(jl),[w5,Sl]=Pa(jl),LS=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:l,modal:c=!0}=e,u=ou(t),[f,p]=g.useState(null),m=g.useRef(!1),y=Mr(l),v=nu(o);return g.useEffect(()=>{const w=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),a.jsx(Xd,{...u,children:a.jsx(x5,{scope:t,open:n,onOpenChange:y,content:f,onContentChange:p,children:a.jsx(w5,{scope:t,onClose:g.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:v,modal:c,children:s})})})};LS.displayName=jl;var b5="MenuAnchor",Ip=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=ou(n);return a.jsx(xl,{...o,...s,ref:t})});Ip.displayName=b5;var Op="MenuPortal",[j5,FS]=Pa(Op,{forceMount:void 0}),$S=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,l=Ta(Op,t);return a.jsx(j5,{scope:t,forceMount:n,children:a.jsx(Nn,{present:n||l.open,children:a.jsx(Fi,{asChild:!0,container:o,children:s})})})};$S.displayName=Op;var Un="MenuContent",[S5,Lp]=Pa(Un),zS=g.forwardRef((e,t)=>{const n=FS(Un,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,l=Ta(Un,e.__scopeMenu),c=Sl(Un,e.__scopeMenu);return a.jsx(Qo.Provider,{scope:e.__scopeMenu,children:a.jsx(Nn,{present:s||l.open,children:a.jsx(Qo.Slot,{scope:e.__scopeMenu,children:c.modal?a.jsx(k5,{...o,ref:t}):a.jsx(N5,{...o,ref:t})})})})}),k5=g.forwardRef((e,t)=>{const n=Ta(Un,e.__scopeMenu),s=g.useRef(null),o=nt(t,s);return g.useEffect(()=>{const l=s.current;if(l)return Vd(l)},[]),a.jsx(Fp,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),N5=g.forwardRef((e,t)=>{const n=Ta(Un,e.__scopeMenu);return a.jsx(Fp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),C5=Ls("MenuContent.ScrollLock"),Fp=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:v,onDismiss:w,disableOutsideScroll:S,...k}=e,C=Ta(Un,n),b=Sl(Un,n),N=ou(n),_=OS(n),E=y5(n),[P,O]=g.useState(null),A=g.useRef(null),I=nt(t,A,C.onContentChange),z=g.useRef(0),W=g.useRef(""),H=g.useRef(0),$=g.useRef(null),K=g.useRef("right"),Y=g.useRef(0),Q=S?yl:g.Fragment,te=S?{as:C5,allowPinchZoom:!0}:void 0,R=L=>{var Z,fe;const G=W.current+L,T=E().filter(J=>!J.disabled),B=document.activeElement,ne=(Z=T.find(J=>J.ref.current===B))==null?void 0:Z.textValue,ae=T.map(J=>J.textValue),ie=F5(ae,G,ne),re=(fe=T.find(J=>J.textValue===ie))==null?void 0:fe.ref.current;(function J(de){W.current=de,window.clearTimeout(z.current),de!==""&&(z.current=window.setTimeout(()=>J(""),1e3))})(G),re&&setTimeout(()=>re.focus())};g.useEffect(()=>()=>window.clearTimeout(z.current),[]),$d();const D=g.useCallback(L=>{var T,B;return K.current===((T=$.current)==null?void 0:T.side)&&z5(L,(B=$.current)==null?void 0:B.area)},[]);return a.jsx(S5,{scope:n,searchRef:W,onItemEnter:g.useCallback(L=>{D(L)&&L.preventDefault()},[D]),onItemLeave:g.useCallback(L=>{var G;D(L)||((G=A.current)==null||G.focus(),O(null))},[D]),onTriggerLeave:g.useCallback(L=>{D(L)&&L.preventDefault()},[D]),pointerGraceTimerRef:H,onPointerGraceIntentChange:g.useCallback(L=>{$.current=L},[]),children:a.jsx(Q,{...te,children:a.jsx(gl,{asChild:!0,trapped:o,onMountAutoFocus:ye(l,L=>{var G;L.preventDefault(),(G=A.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:a.jsx(Li,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:v,onDismiss:w,children:a.jsx(DS,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:ye(f,L=>{b.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Jd,{role:"menu","aria-orientation":"vertical","data-state":nk(C.open),"data-radix-menu-content":"",dir:b.dir,...N,...k,ref:I,style:{outline:"none",...k.style},onKeyDown:ye(k.onKeyDown,L=>{const T=L.target.closest("[data-radix-menu-content]")===L.currentTarget,B=L.ctrlKey||L.altKey||L.metaKey,ne=L.key.length===1;T&&(L.key==="Tab"&&L.preventDefault(),!B&&ne&&R(L.key));const ae=A.current;if(L.target!==ae||!h5.includes(L.key))return;L.preventDefault();const re=E().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);RS.includes(L.key)&&re.reverse(),O5(re)}),onBlur:ye(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(z.current),W.current="")}),onPointerMove:ye(e.onPointerMove,Zo(L=>{const G=L.target,T=Y.current!==L.clientX;if(L.currentTarget.contains(G)&&T){const B=L.clientX>Y.current?"right":"left";K.current=B,Y.current=L.clientX}}))})})})})})})});zS.displayName=Un;var _5="MenuGroup",$p=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Ie.div,{role:"group",...s,ref:t})});$p.displayName=_5;var E5="MenuLabel",VS=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Ie.div,{...s,ref:t})});VS.displayName=E5;var Cd="MenuItem",R0="menu.itemSelect",lu=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,l=g.useRef(null),c=Sl(Cd,e.__scopeMenu),u=Lp(Cd,e.__scopeMenu),f=nt(t,l),p=g.useRef(!1),m=()=>{const y=l.current;if(!n&&y){const v=new CustomEvent(R0,{bubbles:!0,cancelable:!0});y.addEventListener(R0,w=>s==null?void 0:s(w),{once:!0}),w1(y,v),v.defaultPrevented?p.current=!1:c.onClose()}};return a.jsx(WS,{...o,ref:f,disabled:n,onClick:ye(e.onClick,m),onPointerDown:y=>{var v;(v=e.onPointerDown)==null||v.call(e,y),p.current=!0},onPointerUp:ye(e.onPointerUp,y=>{var v;p.current||(v=y.currentTarget)==null||v.click()}),onKeyDown:ye(e.onKeyDown,y=>{const v=u.searchRef.current!=="";n||v&&y.key===" "||Oh.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});lu.displayName=Cd;var WS=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...l}=e,c=Lp(Cd,n),u=OS(n),f=g.useRef(null),p=nt(t,f),[m,y]=g.useState(!1),[v,w]=g.useState("");return g.useEffect(()=>{const S=f.current;S&&w((S.textContent??"").trim())},[l.children]),a.jsx(Qo.ItemSlot,{scope:n,disabled:s,textValue:o??v,children:a.jsx(AS,{asChild:!0,...u,focusable:!s,children:a.jsx(Ie.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:p,onPointerMove:ye(e.onPointerMove,Zo(S=>{s?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,Zo(S=>c.onItemLeave(S))),onFocus:ye(e.onFocus,()=>y(!0)),onBlur:ye(e.onBlur,()=>y(!1))})})})}),M5="MenuCheckboxItem",BS=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return a.jsx(KS,{scope:e.__scopeMenu,checked:n,children:a.jsx(lu,{role:"menuitemcheckbox","aria-checked":_d(n)?"mixed":n,...o,ref:t,"data-state":Vp(n),onSelect:ye(o.onSelect,()=>s==null?void 0:s(_d(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BS.displayName=M5;var US="MenuRadioGroup",[P5,T5]=Pa(US,{value:void 0,onValueChange:()=>{}}),HS=g.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,l=Mr(s);return a.jsx(P5,{scope:e.__scopeMenu,value:n,onValueChange:l,children:a.jsx($p,{...o,ref:t})})});HS.displayName=US;var YS="MenuRadioItem",GS=g.forwardRef((e,t)=>{const{value:n,...s}=e,o=T5(YS,e.__scopeMenu),l=n===o.value;return a.jsx(KS,{scope:e.__scopeMenu,checked:l,children:a.jsx(lu,{role:"menuitemradio","aria-checked":l,...s,ref:t,"data-state":Vp(l),onSelect:ye(s.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,n)},{checkForDefaultPrevented:!1})})})});GS.displayName=YS;var zp="MenuItemIndicator",[KS,D5]=Pa(zp,{checked:!1}),qS=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,l=D5(zp,n);return a.jsx(Nn,{present:s||_d(l.checked)||l.checked===!0,children:a.jsx(Ie.span,{...o,ref:t,"data-state":Vp(l.checked)})})});qS.displayName=zp;var A5="MenuSeparator",XS=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return a.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});XS.displayName=A5;var R5="MenuArrow",JS=g.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=ou(n);return a.jsx(Qd,{...o,...s,ref:t})});JS.displayName=R5;var I5="MenuSub",[k9,QS]=Pa(I5),Lo="MenuSubTrigger",ZS=g.forwardRef((e,t)=>{const n=Ta(Lo,e.__scopeMenu),s=Sl(Lo,e.__scopeMenu),o=QS(Lo,e.__scopeMenu),l=Lp(Lo,e.__scopeMenu),c=g.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=l,p={__scopeMenu:e.__scopeMenu},m=g.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return g.useEffect(()=>m,[m]),g.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),f(null)}},[u,f]),a.jsx(Ip,{asChild:!0,...p,children:a.jsx(WS,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":nk(n.open),...e,ref:Fd(t,o.onTriggerChange),onClick:y=>{var v;(v=e.onClick)==null||v.call(e,y),!(e.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,Zo(y=>{l.onItemEnter(y),!y.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:ye(e.onPointerLeave,Zo(y=>{var w,S;m();const v=(w=n.content)==null?void 0:w.getBoundingClientRect();if(v){const k=(S=n.content)==null?void 0:S.dataset.side,C=k==="right",b=C?-5:5,N=v[C?"left":"right"],_=v[C?"right":"left"];l.onPointerGraceIntentChange({area:[{x:y.clientX+b,y:y.clientY},{x:N,y:v.top},{x:_,y:v.top},{x:_,y:v.bottom},{x:N,y:v.bottom}],side:k}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(y),y.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,y=>{var w;const v=l.searchRef.current!=="";e.disabled||v&&y.key===" "||p5[s.dir].includes(y.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),y.preventDefault())})})})});ZS.displayName=Lo;var ek="MenuSubContent",tk=g.forwardRef((e,t)=>{const n=FS(Un,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,l=Ta(Un,e.__scopeMenu),c=Sl(Un,e.__scopeMenu),u=QS(ek,e.__scopeMenu),f=g.useRef(null),p=nt(t,f);return a.jsx(Qo.Provider,{scope:e.__scopeMenu,children:a.jsx(Nn,{present:s||l.open,children:a.jsx(Qo.Slot,{scope:e.__scopeMenu,children:a.jsx(Fp,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var y;c.isUsingKeyboardRef.current&&((y=f.current)==null||y.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:ye(e.onFocusOutside,m=>{m.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:ye(e.onKeyDown,m=>{var w;const y=m.currentTarget.contains(m.target),v=g5[c.dir].includes(m.key);y&&v&&(l.onOpenChange(!1),(w=u.trigger)==null||w.focus(),m.preventDefault())})})})})})});tk.displayName=ek;function nk(e){return e?"open":"closed"}function _d(e){return e==="indeterminate"}function Vp(e){return _d(e)?"indeterminate":e?"checked":"unchecked"}function O5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function L5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function F5(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=L5(e,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function $5(e,t){const{x:n,y:s}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],f=t[c],p=u.x,m=u.y,y=f.x,v=f.y;m>s!=v>s&&n<(y-p)*(s-m)/(v-m)+p&&(o=!o)}return o}function z5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $5(n,t)}function Zo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var V5=LS,W5=Ip,B5=$S,U5=zS,H5=$p,Y5=VS,G5=lu,K5=BS,q5=HS,X5=GS,J5=qS,Q5=XS,Z5=JS,e3=ZS,t3=tk,cu="DropdownMenu",[n3,N9]=dr(cu,[IS]),pn=IS(),[r3,rk]=n3(cu),sk=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=pn(t),p=g.useRef(null),[m,y]=ts({prop:o,defaultProp:l??!1,onChange:c,caller:cu});return a.jsx(r3,{scope:t,triggerId:Bn(),triggerRef:p,contentId:Bn(),open:m,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(v=>!v),[y]),modal:u,children:a.jsx(V5,{...f,open:m,onOpenChange:y,dir:s,modal:u,children:n})})};sk.displayName=cu;var ak="DropdownMenuTrigger",ik=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,l=rk(ak,n),c=pn(n);return a.jsx(W5,{asChild:!0,...c,children:a.jsx(Ie.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:Fd(t,l.triggerRef),onPointerDown:ye(e.onPointerDown,u=>{!s&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:ye(e.onKeyDown,u=>{s||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});ik.displayName=ak;var s3="DropdownMenuPortal",ok=e=>{const{__scopeDropdownMenu:t,...n}=e,s=pn(t);return a.jsx(B5,{...s,...n})};ok.displayName=s3;var lk="DropdownMenuContent",ck=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rk(lk,n),l=pn(n),c=g.useRef(!1);return a.jsx(U5,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...s,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,u=>{var f;c.current||(f=o.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;(!o.modal||m)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ck.displayName=lk;var a3="DropdownMenuGroup",i3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(H5,{...o,...s,ref:t})});i3.displayName=a3;var o3="DropdownMenuLabel",dk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(Y5,{...o,...s,ref:t})});dk.displayName=o3;var l3="DropdownMenuItem",uk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(G5,{...o,...s,ref:t})});uk.displayName=l3;var c3="DropdownMenuCheckboxItem",fk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(K5,{...o,...s,ref:t})});fk.displayName=c3;var d3="DropdownMenuRadioGroup",u3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(q5,{...o,...s,ref:t})});u3.displayName=d3;var f3="DropdownMenuRadioItem",mk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(X5,{...o,...s,ref:t})});mk.displayName=f3;var m3="DropdownMenuItemIndicator",hk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(J5,{...o,...s,ref:t})});hk.displayName=m3;var h3="DropdownMenuSeparator",pk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(Q5,{...o,...s,ref:t})});pk.displayName=h3;var p3="DropdownMenuArrow",g3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(Z5,{...o,...s,ref:t})});g3.displayName=p3;var y3="DropdownMenuSubTrigger",gk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(e3,{...o,...s,ref:t})});gk.displayName=y3;var v3="DropdownMenuSubContent",yk=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=pn(n);return a.jsx(t3,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yk.displayName=v3;var x3=sk,w3=ik,b3=ok,vk=ck,xk=dk,wk=uk,bk=fk,jk=mk,Sk=hk,kk=pk,Nk=gk,Ck=yk;const Wp=x3,Bp=w3,j3=g.forwardRef(({className:e,inset:t,children:n,...s},o)=>a.jsxs(Nk,{ref:o,className:pe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,a.jsx(ja,{className:"ml-auto"})]}));j3.displayName=Nk.displayName;const S3=g.forwardRef(({className:e,...t},n)=>a.jsx(Ck,{ref:n,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));S3.displayName=Ck.displayName;const du=g.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(b3,{children:a.jsx(vk,{ref:s,sideOffset:t,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));du.displayName=vk.displayName;const Kr=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(wk,{ref:s,className:pe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));Kr.displayName=wk.displayName;const k3=g.forwardRef(({className:e,children:t,checked:n,...s},o)=>a.jsxs(bk,{ref:o,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Sk,{children:a.jsx(Di,{className:"h-4 w-4"})})}),t]}));k3.displayName=bk.displayName;const N3=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(jk,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Sk,{children:a.jsx(Hb,{className:"h-2 w-2 fill-current"})})}),t]}));N3.displayName=jk.displayName;const C3=g.forwardRef(({className:e,inset:t,...n},s)=>a.jsx(xk,{ref:s,className:pe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));C3.displayName=xk.displayName;const Up=g.forwardRef(({className:e,...t},n)=>a.jsx(kk,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));Up.displayName=kk.displayName;const _3=Ti("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jn({className:e,variant:t,...n}){return a.jsx("div",{className:pe(_3({variant:t}),e),...n})}const ss="/assets/famly_kama_icon-Dd3K7p2W.svg";function E3(){const{currentLanguage:e,updateUserLanguage:t}=Je(),n=["en","es","fr","de","nl","it","pt"];return a.jsxs(sn,{value:e,onValueChange:t,children:[a.jsx(Xt,{id:"language-selector",className:"w-24 h-7 text-xs border-none bg-transparent",children:a.jsx(an,{})}),a.jsx(Jt,{children:n.map(s=>{const o=p1(s);return a.jsx(_e,{value:s,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{children:o.flag}),a.jsx("span",{children:o.name})]})},s)})})]})}function M3({user:e,family:t}){const{t:n}=Je(),s=_t(),o=async()=>{try{await tt.logout(),s(Oe("Index"))}catch(c){console.error("Sign out error:",c)}},l=()=>e!=null&&e.full_name?e.full_name.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):"U";return a.jsxs(Wp,{children:[a.jsx(Bp,{asChild:!0,children:a.jsx(se,{variant:"ghost",className:"w-8 h-8 rounded-full p-0 bg-gradient-to-r from-slate-400 to-slate-500 text-white hover:from-slate-500 hover:to-slate-600",children:a.jsx("span",{className:"font-medium text-xs",children:l()})})}),a.jsxs(du,{align:"end",className:"w-56",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-slate-400 to-slate-500 flex items-center justify-center text-white font-medium text-xs",children:l()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:(e==null?void 0:e.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email}),t&&a.jsx("p",{className:"text-xs text-gray-400 truncate",children:t.name})]})]}),a.jsx(Up,{}),a.jsxs(Kr,{onClick:o,className:"text-gray-600 focus:text-gray-800",children:[a.jsx(QP,{className:"w-4 h-4 mr-2"}),n("signOut")||"Sign Out"]})]})]})}function P3({children:e,currentPageName:t}){const n=cr(),s=_t(),{t:o}=Je(),{toast:l}=Yt(),[c,u]=g.useState(null),[f,p]=g.useState(null),[m,y]=g.useState(null),[v,w]=g.useState([]),[S,k]=g.useState(!0),[C,b]=g.useState(!0),[N,_]=g.useState(!0),[E,P]=g.useState({}),O=g.useRef({}),A=g.useRef(null),I=g.useRef(null),z=g.useRef(0),W=g.useRef([]),H=g.useRef(null),$=g.useRef(null),K=g.useCallback(async J=>{if(!("serviceWorker"in navigator)||!("PushManager"in window))return;const de=await navigator.serviceWorker.ready;let he=await de.pushManager.getSubscription();const{publicKey:be}=await Io.getVapidPublicKey();he||(he=await de.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y(be)})),await Io.subscribe({user_id:J,subscription:he.toJSON()}),console.log(" Push subscription synced")},[]);function Y(J){const de="=".repeat((4-J.length%4)%4),he=(J+de).replace(/-/g,"+").replace(/_/g,"/"),be=atob(he);return Uint8Array.from([...be].map(Le=>Le.charCodeAt(0)))}const[Q,te]=g.useState(!1),[R,D]=g.useState(typeof Notification<"u"?Notification.permission:"default");g.useEffect(()=>{const J="serviceWorker"in navigator&&"PushManager"in window;te(J)},[]);const L=g.useCallback(async J=>{try{if(!Q){alert("Push not supported on this browser.");return}const de=await Notification.requestPermission();if(de!=="granted"){D(de),alert("Notifications are blocked.");return}const{publicKey:he}=await Io.getVapidPublicKey(),Le=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y(he)});await Io.subscribe({user_id:J,subscription:Le.toJSON()}),D("granted"),l({title:"Notifications enabled",description:"You will receive alerts for new messages.",duration:5e3})}catch(de){console.error("Enable push failed:",de),l({title:"Could not enable notifications",description:String((de==null?void 0:de.message)||de),variant:"destructive",duration:5e3})}},[Q,l]),G=g.useCallback((J,de,he,be)=>{const rt=new URLSearchParams(window.location.search).get("id");if(window.location.pathname.split("/").pop()==="Chat"&&rt===J){console.log(` Notification for ${de} suppressed: user is viewing this chat.`);return}console.log(` Displaying notification for a message in ${de}.`),P(St=>({...St,[J]:(St[J]||0)+1})),(async()=>{var St;try{if("Notification"in window&&Notification.permission==="granted"){const qe=await((St=navigator.serviceWorker)==null?void 0:St.ready);if(qe!=null&&qe.showNotification)await qe.showNotification(`${he} in ${de}`,{body:be.substring(0,100),icon:"/icons/icon-192.png",badge:"/icons/badge-72.png",tag:J,data:{url:Oe("Chat")+`?id=${J}`}});else{const ue=new Notification(`${he} in ${de}`,{body:be.substring(0,100),icon:"/icons/icon-192.png",tag:J});setTimeout(()=>{var Ae;try{(Ae=ue==null?void 0:ue.close)==null||Ae.call(ue)}catch{}},5e3)}}}catch(qe){console.warn("Notification display error",qe)}})(),setTimeout(()=>{const qe=new URLSearchParams(window.location.search).get("id");window.location.pathname.split("/").pop()==="Chat"&&qe===J||P(Ae=>({...Ae,[J]:0}))},5e3)},[s,l]);g.useEffect(()=>{c!=null&&c.id&&(typeof Notification>"u"||Notification.permission==="granted"&&K(c.id))},[c==null?void 0:c.id]),g.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(console.error)},[]),g.useEffect(()=>{W.current=v},[v]),g.useEffect(()=>{H.current=m},[m]),g.useEffect(()=>{$.current=G},[G]),g.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(J=>D(J))},[]),g.useEffect(()=>{const de=new URLSearchParams(n.search).get("id");n.pathname.split("/").pop()==="Chat"&&de&&P(be=>({...be,[de]:0}))},[n.pathname,n.search]);const T=g.useCallback(async()=>{k(!0);try{const J=await tt.me();if(u(J),J!=null&&J.family_id){const[de,he]=await Promise.all([sr.get(J.family_id).catch(()=>null),As.filter({family_id:J.family_id},"-last_message_timestamp").catch(()=>[])]);console.log(" Loaded conversations:",he),p(de),w(he);const be=await ht.me();if(y(be||null),he.length>0){const Le=await Promise.all(he.map(xt=>Yr.filter({conversation_id:xt.id},"-created_date",1))),rt={};Le.forEach((xt,St)=>{xt&&xt.length>0&&(rt[he[St].id]=xt[0].id)}),O.current=rt,console.log(" Initial last message IDs set:",O.current)}}}catch(J){console.error("Layout data loading error:",J)}finally{k(!1)}},[]);g.useEffect(()=>{var xt,St;if(!c||!f||!m)return;const J=localStorage.getItem("famlyai_token");if(!J)return;const de=window.location.protocol==="https:"?"wss:":"ws:",he=window.location.host,be=((St=(xt=import.meta)==null?void 0:xt.env)==null?void 0:St.VITE_WS_BASE)||`${de}//${he}`;let Le=!1;const rt=()=>{if(Le)return;const qe=new WebSocket(`${be}/ws?token=${encodeURIComponent(J)}`);A.current=qe,window.famlyWS=qe,qe.onopen=()=>{console.log(" Layout WebSocket connected"),z.current=0,I.current&&clearInterval(I.current),I.current=window.setInterval(()=>{qe.readyState===WebSocket.OPEN&&qe.send("ping")},3e4)},qe.onmessage=async ue=>{var Ae;if(!(typeof ue.data!="string"||ue.data[0]!=="{"))try{const{type:Qe,payload:We}=JSON.parse(ue.data);if(Qe==="chat_message_created"){const Ue=We;if(Ue.sender_id===((Ae=H.current)==null?void 0:Ae.id))return;const Et=W.current.find(ut=>ut.id===Ue.conversation_id);if(!Et)return;let Ot="Unknown";try{const ut=await ht.get(Ue.sender_id);Ot=(ut==null?void 0:ut.name)||Ot}catch{}$.current(Ue.conversation_id,Et.name,Ot,Ue.content)}}catch(Qe){console.error("WebSocket message error in Layout:",Qe)}},qe.onerror=ue=>{console.warn("Layout WebSocket error; readyState=",qe.readyState,ue)},qe.onclose=ue=>{if(I.current&&(clearInterval(I.current),I.current=null),Le)return;console.warn("Layout WebSocket closed:",ue.code,ue.reason||"(no reason)");const Ae=Math.min(3e4,1e3*Math.pow(2,z.current++));setTimeout(rt,Ae)}};return rt(),()=>{var qe;Le=!0,I.current&&(clearInterval(I.current),I.current=null);try{(qe=A.current)==null||qe.close()}catch{}A.current=null,window.famlyWS===A.current&&(window.famlyWS=null)}},[c,f,m]),g.useEffect(()=>{const J=setTimeout(()=>{T()},100);return()=>clearTimeout(J)},[T]),g.useEffect(()=>{const J=de=>{const{conversationId:he}=de.detail;P(be=>({...be,[he]:0}))};return window.addEventListener("famly-chat-read",J),()=>window.removeEventListener("famly-chat-read",J)},[]);const B=g.useMemo(()=>[{title:o("dashboard")||"Dashboard",url:Oe("Dashboard"),icon:vi,id:"sidebar-dashboard"},{title:o("schedule")||"Schedule",url:Oe("Schedule"),icon:mn,id:"sidebar-schedule"},{title:o("events")||"Events",url:Oe("Events"),icon:GP,id:"sidebar-events"},{title:o("tasks")||"Tasks",url:Oe("Tasks"),icon:Jb,id:"sidebar-tasks"}],[o]),ne=g.useMemo(()=>{const J=[];return c!=null&&c.is_family_admin&&J.push({title:o("admin")||"Admin",url:Oe("Admin"),icon:hl}),c!=null&&c.is_platform_admin&&J.push({title:"Platform Admin",url:Oe("PlatformAdmin"),icon:FP}),J},[c,o]),ae=J=>{window.dispatchEvent(new CustomEvent("actionTriggered",{detail:{action:J}}))},ie=()=>{s(Oe("FamilyMembers"))},re=g.useMemo(()=>["Dashboard","Schedule","Tasks","FamilyMembers","Admin","PlatformAdmin","Connectors","Events","Chat"].includes(t),[t]),Z=g.useMemo(()=>["Schedule","Tasks","Events","FamilyMembers"].includes(t),[t]),fe=new URLSearchParams(n.search).get("id");return S?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse text-gray-500",children:"Loading..."})}):t==="Debug"?a.jsx("div",{className:"bg-gray-100",children:e}):(console.log(" Header visibility check",{currentUser:c,showHeaderActions:re,currentPageName:t}),a.jsxs(Oj,{children:[a.jsx("style",{children:`
          :root {
            --famly-primary: #3b82f6;
            --famly-secondary: #10b981;
            --famly-accent: #e5e7eb;
            --famly-bg: #f9fafb;
            --famly-text-primary: #111827;
            --famly-text-secondary: #6b7280;
          }
        `}),a.jsxs("div",{className:"min-h-screen flex w-full",style:{backgroundColor:"var(--famly-bg)"},children:[N&&c&&a.jsxs(Lj,{className:"border-r bg-white",style:{borderColor:"var(--famly-accent)"},children:[a.jsx($j,{className:"p-4 border-b",style:{borderColor:"var(--famly-accent)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-2xl flex items-center justify-center shadow-lg transform rotate-3 p-2",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:o("tagline")})]})]})}),a.jsx(Vj,{className:"px-2 py-3",children:a.jsxs(Wj,{children:[a.jsx(Ts,{children:a.jsx(ha,{asChild:!0,className:"transition-all duration-200 rounded-lg p-2 mb-1 bg-gradient-to-r from-blue-500 to-green-500 text-white hover:opacity-90 shadow",children:a.jsxs(Wn,{to:Oe("AIAssistant"),className:"flex items-center gap-3",id:"sidebar-ai-assistant",children:[a.jsx(Xr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-semibold",children:o("aiAssistant")||"AI assistant"})]})})}),a.jsx("hr",{className:"my-3"}),B.map(J=>a.jsx(Ts,{children:a.jsx(ha,{asChild:!0,className:`transition-all duration-200 rounded-lg p-2 mb-1 ${n.pathname.startsWith(J.url)&&!n.pathname.startsWith(Oe("Chat"))?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:a.jsxs(Wn,{to:J.url,className:"flex items-center gap-3",id:J.id,children:[a.jsx(J.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:J.title})]})})},J.title)),v.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{className:"my-3"}),a.jsx(Ts,{className:"px-2 py-1",children:a.jsxs("div",{className:"flex items-center justify-between w-full p-2 text-sm font-medium",children:[a.jsxs("button",{onClick:()=>b(!C),className:"flex items-center gap-3 text-gray-600 hover:text-gray-900",children:[a.jsx(Kb,{className:"w-4 h-4"}),a.jsx("span",{children:o("chats")||"Chats"}),C?a.jsx(Ld,{className:"w-4 h-4 ml-1"}):a.jsx(ja,{className:"w-4 h-4 ml-1"})]}),a.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:ie,children:a.jsx(xi,{className:"w-4 h-4 text-gray-500"})})]})}),C&&a.jsx("div",{className:"ml-2 pr-2",children:v.map(J=>a.jsx(Ts,{children:a.jsx(ha,{asChild:!0,className:`w-full transition-all duration-200 rounded-lg p-2 mb-1 justify-between ${fe===J.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:a.jsxs(Wn,{to:Oe("Chat")+`?id=${J.id}`,className:"flex items-center gap-3 w-full",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),a.jsx("span",{className:"text-sm truncate flex-1",children:J.name}),E[J.id]>0&&a.jsx(jn,{className:"h-5 px-2 bg-blue-500 text-white flex items-center justify-center",children:E[J.id]})]})})},J.id))})]}),a.jsx("hr",{className:"my-3"}),a.jsx(Ts,{children:a.jsx(ha,{asChild:!0,className:`transition-all duration-200 rounded-lg p-2 mb-1 ${n.pathname===Oe("FamilyMembers")?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:a.jsxs(Wn,{to:Oe("FamilyMembers"),className:"flex items-center gap-3",id:"sidebar-members",children:[a.jsx(rr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:o("manageMembers")||"Manage members"})]})})}),a.jsx(Ts,{children:a.jsx(ha,{asChild:!0,className:`transition-all duration-200 rounded-lg p-2 mb-1 ${n.pathname===Oe("Connectors")?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:a.jsxs(Wn,{to:Oe("Connectors"),className:"flex items-center gap-3",id:"sidebar-connectors",children:[a.jsx(Qb,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:o("connectors")||"Connectors"})]})})}),ne.length>0&&a.jsx("hr",{className:"my-3"}),ne.map(J=>a.jsx(Ts,{children:a.jsx(ha,{asChild:!0,className:`transition-all duration-200 rounded-lg p-2 mb-1 ${n.pathname===J.url?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:a.jsxs(Wn,{to:J.url,className:"flex items-center gap-3",children:[a.jsx(J.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:J.title})]})})},J.title))]})}),a.jsx(zj,{className:"p-3 border-t",style:{borderColor:"var(--famly-accent)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(M3,{user:c,family:f}),a.jsx(E3,{})]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col h-screen",children:[c&&re&&a.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between p-4 bg-white border-b",style:{borderColor:"var(--famly-accent)"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Fj,{className:"lg:hidden"}),a.jsx(se,{variant:"ghost",size:"icon",onClick:()=>_(J=>!J),className:"text-gray-500 hover:text-gray-700",title:N?"Hide sidebar":"Show sidebar",children:N?a.jsx(ml,{className:"w-4 h-4"}):a.jsx(ja,{className:"w-4 h-4"})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 capitalize",children:o((t==null?void 0:t.charAt(0).toLowerCase())+(t==null?void 0:t.slice(1)))||t})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[c&&Q&&R!=="granted"&&a.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>L(c.id),className:"text-gray-600 hover:text-gray-900 flex items-center gap-2",title:"Enable notifications",children:[a.jsx(Vb,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Enable notifications"})]}),a.jsx(se,{variant:"ghost",size:"icon",onClick:()=>ae("tour"),className:"text-gray-500 hover:text-gray-700",title:o("tour"),children:a.jsx(xT,{className:"w-4 h-4"})}),Z&&a.jsx(se,{variant:"ghost",size:"icon",onClick:()=>ae("new"),className:"text-gray-500 hover:text-gray-700",title:o("add"),children:a.jsx(xi,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:e})]})]})]}))}function T3({children:e,currentPageName:t}){return a.jsx(y1,{children:a.jsx(P3,{children:e,currentPageName:t})})}function D3(e){const t=e.split("/").filter(Boolean)[0]||"Index";return t.charAt(0).toUpperCase()+t.slice(1)}function nn({children:e}){const t=cr(),n=D3(t.pathname);return a.jsx(T3,{currentPageName:n,children:e})}function A3(){const e=_t(),[t,n]=g.useState(!1);return g.useEffect(()=>{const s=setTimeout(()=>{n(!0),Tn.isLoggedIn()?e("/dashboard",{replace:!0}):e("/signin",{replace:!0})},1200);return()=>clearTimeout(s)},[e]),a.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4 relative",children:[a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your intelligent family hub for scheduling, tasks, and staying connected"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-left",children:[a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8 7V3M16 7V3M4 11h16M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Smart Scheduling"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"AI-powered family calendar that prevents conflicts and suggests optimal times"})]}),a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-4",children:a.jsxs("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M9 12l2 2l4 -4"}),a.jsx("path",{d:"M12 20a8 8 0 1 0 0-16a8 8 0 0 0 0 16z"})]})}),a.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Task Management"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Assign chores, track homework, and reward completion with our smart task system"})]}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg",children:a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-4",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364l-1.414 1.414M6.05 17.95l-1.414 1.414m12.728 0l-1.414-1.414M6.05 6.05L4.636 7.464"})})})})]})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Powered by"}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 bg-white rounded-lg flex items-center justify-center p-1",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"})]})]})]}),t&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 z-50",children:[a.jsx(At,{className:"w-12 h-12 animate-spin text-blue-500 mb-4"}),a.jsx("p",{className:"text-lg text-gray-700 font-semibold",children:"Loading..."})]})]})}function dn({children:e}){const t=_t(),[n,s]=g.useState(!0);return g.useEffect(()=>{(async()=>{if(!Tn.isLoggedIn()){t("/signin",{replace:!0});return}s(!1)})()},[t]),n?null:e}var R3="Label",_k=g.forwardRef((e,t)=>a.jsx(Ie.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_k.displayName=R3;var Ek=_k;const I3=Ti("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=g.forwardRef(({className:e,...t},n)=>a.jsx(Ek,{ref:n,className:pe(I3(),e),...t}));et.displayName=Ek.displayName;function O3(){const e=_t(),[t,n]=g.useState(""),[s,o]=g.useState(""),[l,c]=g.useState(!1),u=async f=>{if(f.preventDefault(),!t||!s){xa({title:"Missing details",description:"Please enter both email and password.",variant:"destructive",duration:5e3});return}c(!0);try{await Tn.login(t,s),window.location.href="/dashboard"}catch(p){xa({title:"Login failed",description:(p==null?void 0:p.message)||"Invalid credentials.",variant:"destructive",duration:5e3})}finally{c(!1)}};return a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4",children:a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 w-full max-w-md mx-auto",children:a.jsxs("form",{onSubmit:u,className:"w-full bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",children:"Email"}),a.jsx(He,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:f=>n(f.target.value),required:!0,autoComplete:"email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",children:"Password"}),a.jsx(He,{id:"password",type:"password",placeholder:"",value:s,onChange:f=>o(f.target.value),required:!0,autoComplete:"current-password"}),a.jsx("div",{className:"text-right mt-1",children:a.jsx(se,{variant:"link",type:"button",className:"text-xs p-0",onClick:()=>e("/reset-password-request"),children:"Forgot password?"})})]}),a.jsxs(se,{size:"lg",type:"submit",disabled:l||!t||!s,className:"w-full bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white shadow-lg px-12 py-6 text-lg rounded-xl",children:[l?a.jsx(At,{className:"w-6 h-6 mr-3 animate-spin"}):a.jsx(Gb,{className:"w-6 h-6 mr-3"}),l?"Signing in":"Log In"]}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("span",{children:"Don't have an account? "}),a.jsx(se,{variant:"link",type:"button",onClick:()=>e("/signup"),children:"Sign Up"})]})]})})]})})}function L3(){const e=_t(),[t,n]=g.useState(""),[s,o]=g.useState(""),[l,c]=g.useState(!1),u=async f=>{if(f.preventDefault(),!t||!s){xa({title:"Missing details",description:"Please enter both email and password.",variant:"destructive",duration:5e3});return}c(!0);try{await Tn.signup({email:t,password:s}),xa({title:"Account created",description:"You can now sign in.",variant:"success",duration:4e3}),e("/signin")}catch(p){xa({title:"Sign up failed",description:(p==null?void 0:p.message)||"Could not create account.",variant:"destructive",duration:5e3})}finally{c(!1)}};return a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4",children:a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 w-full max-w-md mx-auto",children:a.jsxs("form",{onSubmit:u,className:"w-full bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",children:"Email"}),a.jsx(He,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:f=>n(f.target.value),required:!0,autoComplete:"email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",children:"Password"}),a.jsx(He,{id:"password",type:"password",placeholder:"",value:s,onChange:f=>o(f.target.value),required:!0,autoComplete:"new-password"})]}),a.jsxs(se,{size:"lg",type:"submit",disabled:l||!t||!s,className:"w-full bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white shadow-lg px-12 py-6 text-lg rounded-xl",children:[l?a.jsx(At,{className:"w-6 h-6 mr-3 animate-spin"}):a.jsx(Gb,{className:"w-6 h-6 mr-3"}),l?"Signing up":"Sign Up"]}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("span",{children:"Already have an account? "}),a.jsx(se,{variant:"link",type:"button",onClick:()=>e("/signin"),children:"Sign In"})]})]})})]})})}const Hp=g.createContext({});function Yp(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Gp=typeof window<"u",Mk=Gp?g.useLayoutEffect:g.useEffect,uu=g.createContext(null);function Kp(e,t){e.indexOf(t)===-1&&e.push(t)}function qp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const as=(e,t,n)=>n>t?t:n<e?e:n;let Xp=()=>{};const is={},Pk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Tk(e){return typeof e=="object"&&e!==null}const Dk=e=>/^0[^.\s]+$/u.test(e);function Jp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hn=e=>e,F3=(e,t)=>n=>t(e(n)),kl=(...e)=>e.reduce(F3),el=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Qp{constructor(){this.subscriptions=[]}add(t){return Kp(this.subscriptions,t),()=>qp(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nr=e=>e*1e3,Cr=e=>e/1e3;function Ak(e,t){return t?e*(1e3/t):0}const Rk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$3=1e-7,z3=12;function V3(e,t,n,s,o){let l,c,u=0;do c=t+(n-t)/2,l=Rk(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>$3&&++u<z3);return c}function Nl(e,t,n,s){if(e===t&&n===s)return Hn;const o=l=>V3(l,0,1,e,n);return l=>l===0||l===1?l:Rk(o(l),t,s)}const Ik=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ok=e=>t=>1-e(1-t),Lk=Nl(.33,1.53,.69,.99),Zp=Ok(Lk),Fk=Ik(Zp),$k=e=>(e*=2)<1?.5*Zp(e):.5*(2-Math.pow(2,-10*(e-1))),eg=e=>1-Math.sin(Math.acos(e)),zk=Ok(eg),Vk=Ik(eg),W3=Nl(.42,0,1,1),B3=Nl(0,0,.58,1),Wk=Nl(.42,0,.58,1),U3=e=>Array.isArray(e)&&typeof e[0]!="number",Bk=e=>Array.isArray(e)&&typeof e[0]=="number",H3={linear:Hn,easeIn:W3,easeInOut:Wk,easeOut:B3,circIn:eg,circInOut:Vk,circOut:zk,backIn:Zp,backInOut:Fk,backOut:Lk,anticipate:$k},Y3=e=>typeof e=="string",I0=e=>{if(Bk(e)){Xp(e.length===4);const[t,n,s,o]=e;return Nl(t,n,s,o)}else if(Y3(e))return H3[e];return e},nd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],O0={value:null};function G3(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function p(y){c.has(y)&&(m.schedule(y),e()),f++,y(u)}const m={schedule:(y,v=!1,w=!1)=>{const k=w&&o?n:s;return v&&c.add(y),k.has(y)||k.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(u=y,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),t&&O0.value&&O0.value.frameloop[t].push(f),f=0,n.clear(),o=!1,l&&(l=!1,m.process(y))}};return m}const K3=40;function Uk(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=nd.reduce((_,E)=>(_[E]=G3(l,t?E:void 0),_),{}),{setup:u,read:f,resolveKeyframes:p,preUpdate:m,update:y,preRender:v,render:w,postRender:S}=c,k=()=>{const _=is.useManualTiming?o.timestamp:performance.now();n=!1,is.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(_-o.timestamp,K3),1)),o.timestamp=_,o.isProcessing=!0,u.process(o),f.process(o),p.process(o),m.process(o),y.process(o),v.process(o),w.process(o),S.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(k))},C=()=>{n=!0,s=!0,o.isProcessing||e(k)};return{schedule:nd.reduce((_,E)=>{const P=c[E];return _[E]=(O,A=!1,I=!1)=>(n||C(),P.schedule(O,A,I)),_},{}),cancel:_=>{for(let E=0;E<nd.length;E++)c[nd[E]].cancel(_)},state:o,steps:c}}const{schedule:gt,cancel:zs,state:qt,steps:Bm}=Uk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let md;function q3(){md=void 0}const Sn={now:()=>(md===void 0&&Sn.set(qt.isProcessing||is.useManualTiming?qt.timestamp:performance.now()),md),set:e=>{md=e,queueMicrotask(q3)}},Hk=e=>t=>typeof t=="string"&&t.startsWith(e),tg=Hk("--"),X3=Hk("var(--"),ng=e=>X3(e)?J3.test(e.split("/*")[0].trim()):!1,J3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tl={...Wi,transform:e=>as(0,1,e)},rd={...Wi,default:1},Bo=e=>Math.round(e*1e5)/1e5,rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q3(e){return e==null}const Z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sg=(e,t)=>n=>!!(typeof n=="string"&&Z3.test(n)&&n.startsWith(e)||t&&!Q3(n)&&Object.prototype.hasOwnProperty.call(n,t)),Yk=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,u]=s.match(rg);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},eO=e=>as(0,255,e),Um={...Wi,transform:e=>Math.round(eO(e))},ya={test:sg("rgb","red"),parse:Yk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Um.transform(e)+", "+Um.transform(t)+", "+Um.transform(n)+", "+Bo(tl.transform(s))+")"};function tO(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Lh={test:sg("#"),parse:tO,transform:ya.transform},Cl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ds=Cl("deg"),_r=Cl("%"),Te=Cl("px"),nO=Cl("vh"),rO=Cl("vw"),L0={..._r,parse:e=>_r.parse(e)/100,transform:e=>_r.transform(e*100)},di={test:sg("hsl","hue"),parse:Yk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+_r.transform(Bo(t))+", "+_r.transform(Bo(n))+", "+Bo(tl.transform(s))+")"},Ft={test:e=>ya.test(e)||Lh.test(e)||di.test(e),parse:e=>ya.test(e)?ya.parse(e):di.test(e)?di.parse(e):Lh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):di.transform(e),getAnimatableNone:e=>{const t=Ft.parse(e);return t.alpha=0,Ft.transform(t)}},sO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rg))==null?void 0:t.length)||0)+(((n=e.match(sO))==null?void 0:n.length)||0)>0}const Gk="number",Kk="color",iO="var",oO="var(",F0="${}",lO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nl(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const u=t.replace(lO,f=>(Ft.test(f)?(s.color.push(l),o.push(Kk),n.push(Ft.parse(f))):f.startsWith(oO)?(s.var.push(l),o.push(iO),n.push(f)):(s.number.push(l),o.push(Gk),n.push(parseFloat(f))),++l,F0)).split(F0);return{values:n,split:u,indexes:s,types:o}}function qk(e){return nl(e).values}function Xk(e){const{split:t,types:n}=nl(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const u=n[c];u===Gk?l+=Bo(o[c]):u===Kk?l+=Ft.transform(o[c]):l+=o[c]}return l}}const cO=e=>typeof e=="number"?0:Ft.test(e)?Ft.getAnimatableNone(e):e;function dO(e){const t=qk(e);return Xk(e)(t.map(cO))}const Vs={test:aO,parse:qk,createTransformer:Xk,getAnimatableNone:dO};function Hm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uO({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;o=Hm(f,u,e+1/3),l=Hm(f,u,e),c=Hm(f,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Ed(e,t){return n=>n>0?t:e}const jt=(e,t,n)=>e+(t-e)*n,Ym=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},fO=[Lh,ya,di],mO=e=>fO.find(t=>t.test(e));function $0(e){const t=mO(e);if(!t)return!1;let n=t.parse(e);return t===di&&(n=uO(n)),n}const z0=(e,t)=>{const n=$0(e),s=$0(t);if(!n||!s)return Ed(e,t);const o={...n};return l=>(o.red=Ym(n.red,s.red,l),o.green=Ym(n.green,s.green,l),o.blue=Ym(n.blue,s.blue,l),o.alpha=jt(n.alpha,s.alpha,l),ya.transform(o))},Fh=new Set(["none","hidden"]);function hO(e,t){return Fh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pO(e,t){return n=>jt(e,t,n)}function ag(e){return typeof e=="number"?pO:typeof e=="string"?ng(e)?Ed:Ft.test(e)?z0:vO:Array.isArray(e)?Jk:typeof e=="object"?Ft.test(e)?z0:gO:Ed}function Jk(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>ag(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function gO(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=ag(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function yO(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],u=e.values[c]??0;n[o]=u,s[l]++}return n}const vO=(e,t)=>{const n=Vs.createTransformer(t),s=nl(e),o=nl(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Fh.has(e)&&!o.values.length||Fh.has(t)&&!s.values.length?hO(e,t):kl(Jk(yO(s,o),o.values),n):Ed(e,t)};function Qk(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jt(e,t,n):ag(e)(e,t)}const xO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>gt.update(t,n),stop:()=>zs(t),now:()=>qt.isProcessing?qt.timestamp:Sn.now()}},Zk=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Md=2e4;function ig(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Md;)t+=n,s=e.next(t);return t>=Md?1/0:t}function wO(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(ig(s),Md);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:Cr(o)}}const bO=5;function eN(e,t,n){const s=Math.max(t-bO,0);return Ak(n-e(s),t-s)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gm=.001;function jO({duration:e=Ct.duration,bounce:t=Ct.bounce,velocity:n=Ct.velocity,mass:s=Ct.mass}){let o,l,c=1-t;c=as(Ct.minDamping,Ct.maxDamping,c),e=as(Ct.minDuration,Ct.maxDuration,Cr(e)),c<1?(o=p=>{const m=p*c,y=m*e,v=m-n,w=$h(p,c),S=Math.exp(-y);return Gm-v/w*S},l=p=>{const y=p*c*e,v=y*n+n,w=Math.pow(c,2)*Math.pow(p,2)*e,S=Math.exp(-y),k=$h(Math.pow(p,2),c);return(-o(p)+Gm>0?-1:1)*((v-w)*S)/k}):(o=p=>{const m=Math.exp(-p*e),y=(p-n)*e+1;return-Gm+m*y},l=p=>{const m=Math.exp(-p*e),y=(n-p)*(e*e);return m*y});const u=5/e,f=kO(o,l,u);if(e=Nr(e),isNaN(f))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:e};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const SO=12;function kO(e,t,n){let s=n;for(let o=1;o<SO;o++)s=s-e(s)/t(s);return s}function $h(e,t){return e*Math.sqrt(1-t*t)}const NO=["duration","bounce"],CO=["stiffness","damping","mass"];function V0(e,t){return t.some(n=>e[n]!==void 0)}function _O(e){let t={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...e};if(!V0(e,CO)&&V0(e,NO))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*as(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ct.mass,stiffness:o,damping:l}}else{const n=jO(e);t={...t,...n,mass:Ct.mass},t.isResolvedFromDuration=!0}return t}function Pd(e=Ct.visualDuration,t=Ct.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:f,damping:p,mass:m,duration:y,velocity:v,isResolvedFromDuration:w}=_O({...n,velocity:-Cr(n.velocity||0)}),S=v||0,k=p/(2*Math.sqrt(f*m)),C=c-l,b=Cr(Math.sqrt(f/m)),N=Math.abs(C)<5;s||(s=N?Ct.restSpeed.granular:Ct.restSpeed.default),o||(o=N?Ct.restDelta.granular:Ct.restDelta.default);let _;if(k<1){const P=$h(b,k);_=O=>{const A=Math.exp(-k*b*O);return c-A*((S+k*b*C)/P*Math.sin(P*O)+C*Math.cos(P*O))}}else if(k===1)_=P=>c-Math.exp(-b*P)*(C+(S+b*C)*P);else{const P=b*Math.sqrt(k*k-1);_=O=>{const A=Math.exp(-k*b*O),I=Math.min(P*O,300);return c-A*((S+k*b*C)*Math.sinh(I)+P*C*Math.cosh(I))/P}}const E={calculatedDuration:w&&y||null,next:P=>{const O=_(P);if(w)u.done=P>=y;else{let A=P===0?S:0;k<1&&(A=P===0?Nr(S):eN(_,P,O));const I=Math.abs(A)<=s,z=Math.abs(c-O)<=o;u.done=I&&z}return u.value=u.done?c:O,u},toString:()=>{const P=Math.min(ig(E),Md),O=Zk(A=>E.next(P*A).value,P,30);return P+"ms "+O},toTransition:()=>{}};return E}Pd.applyToOptions=e=>{const t=wO(e,100,Pd);return e.ease=t.ease,e.duration=Nr(t.duration),e.type="keyframes",e};function zh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:f,restDelta:p=.5,restSpeed:m}){const y=e[0],v={done:!1,value:y},w=I=>u!==void 0&&I<u||f!==void 0&&I>f,S=I=>u===void 0?f:f===void 0||Math.abs(u-I)<Math.abs(f-I)?u:f;let k=n*t;const C=y+k,b=c===void 0?C:c(C);b!==C&&(k=b-y);const N=I=>-k*Math.exp(-I/s),_=I=>b+N(I),E=I=>{const z=N(I),W=_(I);v.done=Math.abs(z)<=p,v.value=v.done?b:W};let P,O;const A=I=>{w(v.value)&&(P=I,O=Pd({keyframes:[v.value,S(v.value)],velocity:eN(_,I,v.value),damping:o,stiffness:l,restDelta:p,restSpeed:m}))};return A(0),{calculatedDuration:null,next:I=>{let z=!1;return!O&&P===void 0&&(z=!0,E(I),A(I)),P!==void 0&&I>=P?O.next(I-P):(!z&&E(I),v)}}}function EO(e,t,n){const s=[],o=n||is.mix||Qk,l=e.length-1;for(let c=0;c<l;c++){let u=o(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||Hn:t;u=kl(f,u)}s.push(u)}return s}function MO(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(Xp(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=EO(t,s,o),f=u.length,p=m=>{if(c&&m<e[0])return t[0];let y=0;if(f>1)for(;y<e.length-2&&!(m<e[y+1]);y++);const v=el(e[y],e[y+1],m);return u[y](v)};return n?m=>p(as(e[0],e[l-1],m)):p}function PO(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=el(0,t,s);e.push(jt(n,1,o))}}function TO(e){const t=[0];return PO(t,e.length-1),t}function DO(e,t){return e.map(n=>n*t)}function AO(e,t){return e.map(()=>t||Wk).splice(0,e.length-1)}function Uo({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=U3(s)?s.map(I0):I0(s),l={done:!1,value:t[0]},c=DO(n&&n.length===t.length?n:TO(t),e),u=MO(c,t,{ease:Array.isArray(o)?o:AO(t,o)});return{calculatedDuration:e,next:f=>(l.value=u(f),l.done=f>=e,l)}}const RO=e=>e!==null;function og(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(RO),u=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!u||s===void 0?l[u]:s}const IO={decay:zh,inertia:zh,tween:Uo,keyframes:Uo,spring:Pd};function tN(e){typeof e.type=="string"&&(e.type=IO[e.type])}class lg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const OO=e=>e/100;class cg extends lg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tN(t);const{type:n=Uo,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const f=n||Uo;f!==Uo&&typeof u[0]!="number"&&(this.mixKeyframes=kl(OO,Qk(u[0],u[1])),u=[0,100]);const p=f({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=ig(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:w,type:S,onUpdate:k,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?b<0:b>o;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let _=this.currentTime,E=s;if(y){const I=Math.min(this.currentTime,o)/u;let z=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&z--,z=Math.min(z,y+1),!!(z%2)&&(v==="reverse"?(W=1-W,w&&(W-=w/u)):v==="mirror"&&(E=c)),_=as(0,1,W)*u}const P=N?{done:!1,value:m[0]}:E.next(_);l&&(P.value=l(P.value));let{done:O}=P;!N&&f!==null&&(O=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return A&&S!==zh&&(P.value=og(m,this.options,C,this.speed)),k&&k(P.value),A&&this.finish(),P}then(t,n){return this.finished.then(t,n)}get duration(){return Cr(this.calculatedDuration)}get time(){return Cr(this.currentTime)}set time(t){var n;t=Nr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Cr(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=xO,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function LO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const va=e=>e*180/Math.PI,Vh=e=>{const t=va(Math.atan2(e[1],e[0]));return Wh(t)},FO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Vh,rotateZ:Vh,skewX:e=>va(Math.atan(e[1])),skewY:e=>va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wh=e=>(e=e%360,e<0&&(e+=360),e),W0=Vh,B0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),U0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$O={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B0,scaleY:U0,scale:e=>(B0(e)+U0(e))/2,rotateX:e=>Wh(va(Math.atan2(e[6],e[5]))),rotateY:e=>Wh(va(Math.atan2(-e[2],e[0]))),rotateZ:W0,rotate:W0,skewX:e=>va(Math.atan(e[4])),skewY:e=>va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bh(e){return e.includes("scale")?1:0}function Uh(e,t){if(!e||e==="none")return Bh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=$O,o=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=FO,o=u}if(!o)return Bh(t);const l=s[t],c=o[1].split(",").map(VO);return typeof l=="function"?l(c):c[l]}const zO=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Uh(n,t)};function VO(e){return parseFloat(e.trim())}const Bi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(Bi),H0=e=>e===Wi||e===Te,WO=new Set(["x","y","z"]),BO=Bi.filter(e=>!WO.has(e));function UO(e){const t=[];return BO.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const wa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Uh(t,"x"),y:(e,{transform:t})=>Uh(t,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const ba=new Set;let Hh=!1,Yh=!1,Gh=!1;function nN(){if(Yh){const e=Array.from(ba).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=UO(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var u;(u=s.getValue(l))==null||u.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Yh=!1,Hh=!1,ba.forEach(e=>e.complete(Gh)),ba.clear()}function rN(){ba.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yh=!0)})}function HO(){Gh=!0,rN(),nN(),Gh=!1}class dg{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ba.add(this),Hh||(Hh=!0,gt.read(rN),gt.resolveKeyframes(nN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const u=s.readValue(n,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}LO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ba.delete(this)}cancel(){this.state==="scheduled"&&(ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YO=e=>e.startsWith("--");function GO(e,t,n){YO(t)?e.style.setProperty(t,n):e.style[t]=n}const KO=Jp(()=>window.ScrollTimeline!==void 0),qO={};function XO(e,t){const n=Jp(e);return()=>qO[t]??n()}const sN=XO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fo=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Y0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fo([0,.65,.55,1]),circOut:Fo([.55,0,1,.45]),backIn:Fo([.31,.01,.66,-.59]),backOut:Fo([.33,1.53,.69,.99])};function aN(e,t){if(e)return typeof e=="function"?sN()?Zk(e,t):"ease-out":Bk(e)?Fo(e):Array.isArray(e)?e.map(n=>aN(n,t)||Y0.easeOut):Y0[e]}function JO(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:f}={},p=void 0){const m={[t]:n};f&&(m.offset=f);const y=aN(u,o);Array.isArray(y)&&(m.easing=y);const v={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),e.animate(m,v)}function iN(e){return typeof e=="function"&&"applyToOptions"in e}function QO({type:e,...t}){return iN(e)&&sN()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZO extends lg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Xp(typeof t.type!="string");const p=QO(t);this.animation=JO(n,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=og(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):GO(n,s,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Cr(Number(t))}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Nr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KO()?(this.animation.timeline=t,Hn):n(this)}}const oN={anticipate:$k,backInOut:Fk,circInOut:Vk};function eL(e){return e in oN}function tL(e){typeof e.ease=="string"&&eL(e.ease)&&(e.ease=oN[e.ease])}const G0=10;class nL extends ZO{constructor(t){tL(t),tN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new cg({...c,autoplay:!1}),f=Nr(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-G0).value,u.sample(f).value,G0),u.stop()}}const K0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vs.test(e)||e==="0")&&!e.startsWith("url("));function rL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sL(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=K0(o,t),u=K0(l,t);return!c||!u?!1:rL(e)||(n==="spring"||iN(n))&&s}function ug(e){return Tk(e)&&"offsetHeight"in e}const aL=new Set(["opacity","clipPath","filter","transform"]),iL=Jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oL(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!ug((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return iL()&&n&&aL.has(n)&&(n!=="transform"||!f)&&!u&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const lL=40;class cL extends lg{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:f,motionValue:p,element:m,...y}){var S;super(),this.stop=()=>{var k,C;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Sn.now();const v={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:m,...y},w=(m==null?void 0:m.KeyframeResolver)||dg;this.keyframeResolver=new w(u,(k,C,b)=>this.onKeyframesResolved(k,C,v,!b),f,p,m),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:f,isHandoff:p,onUpdate:m}=s;this.resolvedAt=Sn.now(),sL(t,l,c,u)||((is.instantAnimations||!f)&&(m==null||m(og(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>lL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},w=!p&&oL(v)?new nL({...v,element:v.motionValue.owner.current}):new cg(v);w.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),HO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const dL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uL(e){const t=dL.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function lN(e,t,n=1){const[s,o]=uL(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Pk(c)?parseFloat(c):c}return ng(o)?lN(o,t,n+1):o}function fg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const cN=new Set(["width","height","top","left","right","bottom",...Bi]),fL={test:e=>e==="auto",parse:e=>e},dN=e=>t=>t.test(e),uN=[Wi,Te,_r,Ds,rO,nO,fL],q0=e=>uN.find(dN(e));function mL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Dk(e):!0}const hL=new Set(["brightness","contrast","saturate","opacity"]);function pL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(rg)||[];if(!s)return e;const o=n.replace(s,"");let l=hL.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const gL=/\b([a-z-]*)\(.*?\)/gu,Kh={...Vs,getAnimatableNone:e=>{const t=e.match(gL);return t?t.map(pL).join(" "):e}},X0={...Wi,transform:Math.round},yL={rotate:Ds,rotateX:Ds,rotateY:Ds,rotateZ:Ds,scale:rd,scaleX:rd,scaleY:rd,scaleZ:rd,skew:Ds,skewX:Ds,skewY:Ds,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:tl,originX:L0,originY:L0,originZ:Te},mg={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...yL,zIndex:X0,fillOpacity:tl,strokeOpacity:tl,numOctaves:X0},vL={...mg,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:Kh,WebkitFilter:Kh},fN=e=>vL[e];function mN(e,t){let n=fN(e);return n!==Kh&&(n=Vs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xL=new Set(["auto","none","0"]);function wL(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!xL.has(l)&&nl(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=mN(n,o)}class bL extends dg{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),ng(p))){const m=lN(p,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!cN.has(s)||t.length!==2)return;const[o,l]=t,c=q0(o),u=q0(l);if(c!==u)if(H0(c)&&H0(u))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else wa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||mL(t[o]))&&s.push(o);s.length&&wL(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=wa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function jL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const hN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,J0=30,SL=e=>!isNaN(parseFloat(e));class kL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{var c,u;const l=Sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qp);const s=this.events[t].add(n);return t==="change"?()=>{s(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>J0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,J0);return Ak(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ji(e,t){return new kL(e,t)}const{schedule:hg}=Uk(queueMicrotask,!1),nr={x:!1,y:!1};function pN(){return nr.x||nr.y}function NL(e){return e==="x"||e==="y"?nr[e]?null:(nr[e]=!0,()=>{nr[e]=!1}):nr.x||nr.y?null:(nr.x=nr.y=!0,()=>{nr.x=nr.y=!1})}function gN(e,t){const n=jL(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Q0(e){return!(e.pointerType==="touch"||pN())}function CL(e,t,n={}){const[s,o,l]=gN(e,n),c=u=>{if(!Q0(u))return;const{target:f}=u,p=t(f,u);if(typeof p!="function"||!f)return;const m=y=>{Q0(y)&&(p(y),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return s.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const yN=(e,t)=>t?e===t?!0:yN(e,t.parentElement):!1,pg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_L=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EL(e){return _L.has(e.tagName)||e.tabIndex!==-1}const hd=new WeakSet;function Z0(e){return t=>{t.key==="Enter"&&e(t)}}function Km(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ML=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Z0(()=>{if(hd.has(n))return;Km(n,"down");const o=Z0(()=>{Km(n,"up")}),l=()=>Km(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function ew(e){return pg(e)&&!pN()}function PL(e,t,n={}){const[s,o,l]=gN(e,n),c=u=>{const f=u.currentTarget;if(!ew(u))return;hd.add(f);const p=t(f,u),m=(w,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),hd.has(f)&&hd.delete(f),ew(w)&&typeof p=="function"&&p(w,{success:S})},y=w=>{m(w,f===window||f===document||n.useGlobalTarget||yN(f,w.target))},v=w=>{m(w,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),ug(u)&&(u.addEventListener("focus",p=>ML(p,o)),!EL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function vN(e){return Tk(e)&&"ownerSVGElement"in e}function TL(e){return vN(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),DL=[...uN,Ft,Vs],AL=e=>DL.find(dN(e)),gg=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class RL extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=ug(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IL({children:e,isPresent:t,anchorX:n,root:s}){const o=g.useId(),l=g.useRef(null),c=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=g.useContext(gg);return g.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:y,right:v}=c.current;if(t||!l.current||!f||!p)return;const w=n==="left"?`left: ${y}`:`right: ${v}`;l.current.dataset.motionPopId=o;const S=document.createElement("style");u&&(S.nonce=u);const k=s??document.head;return k.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{k.removeChild(S),k.contains(S)&&k.removeChild(S)}},[t]),a.jsx(RL,{isPresent:t,childRef:l,sizeRef:c,children:g.cloneElement(e,{ref:l})})}const OL=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:u,root:f})=>{const p=Yp(LL),m=g.useId();let y=!0,v=g.useMemo(()=>(y=!1,{id:m,initial:t,isPresent:n,custom:o,onExitComplete:w=>{p.set(w,!0);for(const S of p.values())if(!S)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,s]);return l&&y&&(v={...v}),g.useMemo(()=>{p.forEach((w,S)=>p.set(S,!1))},[n]),g.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(e=a.jsx(IL,{isPresent:n,anchorX:u,root:f,children:e})),a.jsx(uu.Provider,{value:v,children:e})};function LL(){return new Map}function xN(e=!0){const t=g.useContext(uu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=g.useId();g.useEffect(()=>{if(e)return o(l)},[e]);const c=g.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const sd=e=>e.key||"";function tw(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const Si=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:f})=>{const[p,m]=xN(c),y=g.useMemo(()=>tw(e),[e]),v=c&&!p?[]:y.map(sd),w=g.useRef(!0),S=g.useRef(y),k=Yp(()=>new Map),[C,b]=g.useState(y),[N,_]=g.useState(y);Mk(()=>{w.current=!1,S.current=y;for(let O=0;O<N.length;O++){const A=sd(N[O]);v.includes(A)?k.delete(A):k.get(A)!==!0&&k.set(A,!1)}},[N,v.length,v.join("-")]);const E=[];if(y!==C){let O=[...y];for(let A=0;A<N.length;A++){const I=N[A],z=sd(I);v.includes(z)||(O.splice(A,0,I),E.push(I))}return l==="wait"&&E.length&&(O=E),_(tw(O)),b(y),null}const{forceRender:P}=g.useContext(Hp);return a.jsx(a.Fragment,{children:N.map(O=>{const A=sd(O),I=c&&!p?!1:y===N||v.includes(A),z=()=>{if(k.has(A))k.set(A,!0);else return;let W=!0;k.forEach(H=>{H||(W=!1)}),W&&(P==null||P(),_(S.current),c&&(m==null||m()),s&&s())};return a.jsx(OL,{isPresent:I,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:I?void 0:z,anchorX:u,children:O},A)})})},wN=g.createContext({strict:!1}),nw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ki={};for(const e in nw)ki[e]={isEnabled:t=>nw[e].some(n=>!!t[n])};function FL(e){for(const t in e)ki[t]={...ki[t],...e[t]}}const $L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$L.has(e)}let bN=e=>!Td(e);function zL(e){typeof e=="function"&&(bN=t=>t.startsWith("on")?!Td(t):e(t))}try{zL(require("@emotion/is-prop-valid").default)}catch{}function VL(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(bN(o)||n===!0&&Td(o)||!t&&!Td(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function WL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const fu=g.createContext({});function mu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function rl(e){return typeof e=="string"||Array.isArray(e)}const yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vg=["initial",...yg];function hu(e){return mu(e.animate)||vg.some(t=>rl(e[t]))}function jN(e){return!!(hu(e)||e.variants)}function BL(e,t){if(hu(e)){const{initial:n,animate:s}=e;return{initial:n===!1||rl(n)?n:void 0,animate:rl(s)?s:void 0}}return e.inherit!==!1?t:{}}function UL(e){const{initial:t,animate:n}=BL(e,g.useContext(fu));return g.useMemo(()=>({initial:t,animate:n}),[rw(t),rw(n)])}function rw(e){return Array.isArray(e)?e.join(" "):e}const HL=Symbol.for("motionComponentSymbol");function ui(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YL(e,t,n){return g.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ui(n)&&(n.current=s))},[t])}const xg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GL="framerAppearId",SN="data-"+xg(GL),kN=g.createContext({});function KL(e,t,n,s,o){var k,C;const{visualElement:l}=g.useContext(fu),c=g.useContext(wN),u=g.useContext(uu),f=g.useContext(gg).reducedMotion,p=g.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,y=g.useContext(kN);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&qL(p.current,n,o,y);const v=g.useRef(!1);g.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const w=n[SN],S=g.useRef(!!w&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,w))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,w)));return Mk(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),hg.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,w)}),S.current=!1))}),m}function qL(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:NN(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&ui(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:f,layoutRoot:p})}function NN(e){if(e)return e.options.allowProjection!==!1?e.projection:NN(e.parent)}function XL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:o}){e&&FL(e);function l(u,f){let p;const m={...g.useContext(gg),...u,layoutId:JL(u)},{isStatic:y}=m,v=UL(u),w=s(u,y);if(!y&&Gp){QL();const S=ZL(m);p=S.MeasureLayout,v.visualElement=KL(o,w,m,t,S.ProjectionNode)}return a.jsxs(fu.Provider,{value:v,children:[p&&v.visualElement?a.jsx(p,{visualElement:v.visualElement,...m}):null,n(o,u,YL(w,v.visualElement,f),w,y,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=g.forwardRef(l);return c[HL]=o,c}function JL({layoutId:e}){const t=g.useContext(Hp).id;return t&&e!==void 0?t+"-"+e:e}function QL(e,t){g.useContext(wN).strict}function ZL(e){const{drag:t,layout:n}=ki;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const sl={};function eF(e){for(const t in e)sl[t]=e[t],tg(t)&&(sl[t].isCSSVariable=!0)}function CN(e,{layout:t,layoutId:n}){return Ui.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!sl[e]||e==="opacity")}const tF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nF=Bi.length;function rF(e,t,n){let s="",o=!0;for(let l=0;l<nF;l++){const c=Bi[l],u=e[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const p=hN(u,mg[c]);if(!f){o=!1;const m=tF[c]||c;s+=`${m}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function wg(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,u=!1;for(const f in t){const p=t[f];if(Ui.has(f)){c=!0;continue}else if(tg(f)){o[f]=p;continue}else{const m=hN(p,mg[f]);f.startsWith("origin")?(u=!0,l[f]=m):s[f]=m}}if(t.transform||(c||n?s.transform=rF(t,e.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _N(e,t,n){for(const s in t)!rn(t[s])&&!CN(s,n)&&(e[s]=t[s])}function sF({transformTemplate:e},t){return g.useMemo(()=>{const n=bg();return wg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aF(e,t){const n=e.style||{},s={};return _N(s,n,e),Object.assign(s,sF(e,t)),s}function iF(e,t){const n={},s=aF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const oF={offset:"stroke-dashoffset",array:"stroke-dasharray"},lF={offset:"strokeDashoffset",array:"strokeDasharray"};function cF(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?oF:lF;e[l.offset]=Te.transform(-s);const c=Te.transform(t),u=Te.transform(n);e[l.array]=`${c} ${u}`}function EN(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,p,m){if(wg(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:v}=e;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&cF(y,o,l,c,!1)}const MN=()=>({...bg(),attrs:{}}),PN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dF(e,t,n,s){const o=g.useMemo(()=>{const l=MN();return EN(l,t,PN(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};_N(l,e.style,e),o.style={...l,...o.style}}return o}const uF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jg(e){return typeof e!="string"||e.includes("-")?!1:!!(uF.indexOf(e)>-1||/[A-Z]/u.test(e))}function fF(e=!1){return(n,s,o,{latestValues:l},c)=>{const f=(jg(n)?dF:iF)(s,l,c,n),p=VL(s,typeof n=="string",e),m=n!==g.Fragment?{...p,...f,ref:o}:{},{children:y}=s,v=g.useMemo(()=>rn(y)?y.get():y,[y]);return g.createElement(n,{...m,children:v})}}function sw(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Sg(e,t,n,s){if(typeof t=="function"){const[o,l]=sw(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=sw(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function pd(e){return rn(e)?e.get():e}function mF({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:hF(n,s,o,e),renderState:t()}}const TN=e=>(t,n)=>{const s=g.useContext(fu),o=g.useContext(uu),l=()=>mF(e,t,s,o);return n?l():Yp(l)};function hF(e,t,n,s){const o={},l=s(e,{});for(const v in l)o[v]=pd(l[v]);let{initial:c,animate:u}=e;const f=hu(e),p=jN(e);t&&p&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const y=m?u:c;if(y&&typeof y!="boolean"&&!mu(y)){const v=Array.isArray(y)?y:[y];for(let w=0;w<v.length;w++){const S=Sg(e,v[w]);if(S){const{transitionEnd:k,transition:C,...b}=S;for(const N in b){let _=b[N];if(Array.isArray(_)){const E=m?_.length-1:0;_=_[E]}_!==null&&(o[N]=_)}for(const N in k)o[N]=k[N]}}}return o}function kg(e,t,n){var l;const{style:s}=e,o={};for(const c in s)(rn(s[c])||t.style&&rn(t.style[c])||CN(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const pF={useVisualState:TN({scrapeMotionValuesFromProps:kg,createRenderState:bg})};function DN(e,t,n){const s=kg(e,t,n);for(const o in e)if(rn(e[o])||rn(t[o])){const l=Bi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const gF={useVisualState:TN({scrapeMotionValuesFromProps:DN,createRenderState:MN})};function yF(e,t){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...jg(s)?gF:pF,preloadedFeatures:e,useRender:fF(o),createVisualElement:t,Component:s};return XL(c)}}function al(e,t,n){const s=e.getProps();return Sg(s,t,n!==void 0?n:s.custom,e)}const qh=e=>Array.isArray(e);function vF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ji(n))}function xF(e){return qh(e)?e[e.length-1]||0:e}function wF(e,t){const n=al(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const u=xF(l[c]);vF(e,c,u)}}function bF(e){return!!(rn(e)&&e.add)}function Xh(e,t){const n=e.getValue("willChange");if(bF(n))return n.add(t);if(!n&&is.WillChange){const s=new is.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function AN(e){return e.props[SN]}const jF=e=>e!==null;function SF(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(jF),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const kF={type:"spring",stiffness:500,damping:25,restSpeed:10},NF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CF={type:"keyframes",duration:.8},_F={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EF=(e,{keyframes:t})=>t.length>2?CF:Ui.has(e)?e.startsWith("scale")?NF(t[1]):kF:_F;function MF({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const Ng=(e,t,n,s={},o,l)=>c=>{const u=fg(s,e)||{},f=u.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Nr(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-p,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:l?void 0:o};MF(u)||Object.assign(m,EF(e,m)),m.duration&&(m.duration=Nr(m.duration)),m.repeatDelay&&(m.repeatDelay=Nr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(is.instantAnimations||is.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!l&&t.get()!==void 0){const v=SF(m.keyframes,u);if(v!==void 0){gt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new cg(m):new cL(m)};function PF({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function RN(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=t;s&&(l=s);const f=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const m in u){const y=e.getValue(m,e.latestValues[m]??null),v=u[m];if(v===void 0||p&&PF(p,m))continue;const w={delay:n,...fg(l||{},m)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===S&&!w.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const b=AN(e);if(b){const N=window.MotionHandoffAnimation(b,m,gt);N!==null&&(w.startTime=N,k=!0)}}Xh(e,m),y.start(Ng(m,y,v,e.shouldReduceMotion&&cN.has(m)?{type:!1}:w,e,k));const C=y.animation;C&&f.push(C)}return c&&Promise.all(f).then(()=>{gt.update(()=>{c&&wF(e,c)})}),f}function Jh(e,t,n={}){var f;const s=al(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(RN(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=o;return TF(e,t,p,m,y,v,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[p,m]=u==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function TF(e,t,n=0,s=0,o=0,l=1,c){const u=[],f=e.variantChildren.size,p=(f-1)*o,m=typeof s=="function",y=m?v=>s(v,f):l===1?(v=0)=>v*o:(v=0)=>p-v*o;return Array.from(e.variantChildren).sort(DF).forEach((v,w)=>{v.notify("AnimationStart",t),u.push(Jh(v,t,{...c,delay:n+(m?0:s)+y(w)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(u)}function DF(e,t){return e.sortNodePosition(t)}function AF(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Jh(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Jh(e,t,n);else{const o=typeof t=="function"?al(e,t,n.custom):t;s=Promise.all(RN(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function IN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const RF=vg.length;function ON(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ON(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<RF;n++){const s=vg[n],o=e.props[s];(rl(o)||o===!1)&&(t[s]=o)}return t}const IF=[...yg].reverse(),OF=yg.length;function LF(e){return t=>Promise.all(t.map(({animation:n,options:s})=>AF(e,n,s)))}function FF(e){let t=LF(e),n=aw(),s=!0;const o=f=>(p,m)=>{var v;const y=al(e,m,f==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:w,transitionEnd:S,...k}=y;p={...p,...k,...S}}return p};function l(f){t=f(e)}function c(f){const{props:p}=e,m=ON(e.parent)||{},y=[],v=new Set;let w={},S=1/0;for(let C=0;C<OF;C++){const b=IF[C],N=n[b],_=p[b]!==void 0?p[b]:m[b],E=rl(_),P=b===f?N.isActive:null;P===!1&&(S=C);let O=_===m[b]&&_!==p[b]&&E;if(O&&s&&e.manuallyAnimateOnMount&&(O=!1),N.protectedKeys={...w},!N.isActive&&P===null||!_&&!N.prevProp||mu(_)||typeof _=="boolean")continue;const A=$F(N.prevProp,_);let I=A||b===f&&N.isActive&&!O&&E||C>S&&E,z=!1;const W=Array.isArray(_)?_:[_];let H=W.reduce(o(b),{});P===!1&&(H={});const{prevResolvedValues:$={}}=N,K={...$,...H},Y=R=>{I=!0,v.has(R)&&(z=!0,v.delete(R)),N.needsAnimating[R]=!0;const D=e.getValue(R);D&&(D.liveStyle=!1)};for(const R in K){const D=H[R],L=$[R];if(w.hasOwnProperty(R))continue;let G=!1;qh(D)&&qh(L)?G=!IN(D,L):G=D!==L,G?D!=null?Y(R):v.add(R):D!==void 0&&v.has(R)?Y(R):N.protectedKeys[R]=!0}N.prevProp=_,N.prevResolvedValues=H,N.isActive&&(w={...w,...H}),s&&e.blockInitialAnimation&&(I=!1),I&&(!(O&&A)||z)&&y.push(...W.map(R=>({animation:R,options:{type:b}})))}if(v.size){const C={};if(typeof p.initial!="boolean"){const b=al(e,Array.isArray(p.initial)?p.initial[0]:p.initial);b&&b.transition&&(C.transition=b.transition)}v.forEach(b=>{const N=e.getBaseTarget(b),_=e.getValue(b);_&&(_.liveStyle=!0),C[b]=N??null}),y.push({animation:C})}let k=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(y):Promise.resolve()}function u(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(v=>{var w;return(w=v.animationState)==null?void 0:w.setActive(f,p)}),n[f].isActive=p;const m=c(f);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aw(),s=!0}}}function $F(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IN(t,e):!1}function fa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aw(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}class Gs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zF extends Gs{constructor(t){super(t),t.animationState||(t.animationState=FF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();mu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let VF=0;class WF extends Gs{constructor(){super(...arguments),this.id=VF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const BF={animation:{Feature:zF},exit:{Feature:WF}};function il(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function _l(e){return{point:{x:e.pageX,y:e.pageY}}}const UF=e=>t=>pg(t)&&e(t,_l(t));function Ho(e,t,n,s){return il(e,t,UF(n),s)}function LN({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function HF({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function YF(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const FN=1e-4,GF=1-FN,KF=1+FN,$N=.01,qF=0-$N,XF=0+$N;function un(e){return e.max-e.min}function JF(e,t,n){return Math.abs(e-t)<=n}function iw(e,t,n,s=.5){e.origin=s,e.originPoint=jt(t.min,t.max,e.origin),e.scale=un(n)/un(t),e.translate=jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=GF&&e.scale<=KF||isNaN(e.scale))&&(e.scale=1),(e.translate>=qF&&e.translate<=XF||isNaN(e.translate))&&(e.translate=0)}function Yo(e,t,n,s){iw(e.x,t.x,n.x,s?s.originX:void 0),iw(e.y,t.y,n.y,s?s.originY:void 0)}function ow(e,t,n){e.min=n.min+t.min,e.max=e.min+un(t)}function QF(e,t,n){ow(e.x,t.x,n.x),ow(e.y,t.y,n.y)}function lw(e,t,n){e.min=t.min-n.min,e.max=e.min+un(t)}function Go(e,t,n){lw(e.x,t.x,n.x),lw(e.y,t.y,n.y)}const cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),fi=()=>({x:cw(),y:cw()}),dw=()=>({min:0,max:0}),Tt=()=>({x:dw(),y:dw()});function Vn(e){return[e("x"),e("y")]}function qm(e){return e===void 0||e===1}function Qh({scale:e,scaleX:t,scaleY:n}){return!qm(e)||!qm(t)||!qm(n)}function pa(e){return Qh(e)||zN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zN(e){return uw(e.x)||uw(e.y)}function uw(e){return e&&e!=="0%"}function Dd(e,t,n){const s=e-n,o=t*s;return n+o}function fw(e,t,n,s,o){return o!==void 0&&(e=Dd(e,o,s)),Dd(e,n,s)+t}function Zh(e,t=0,n=1,s,o){e.min=fw(e.min,t,n,s,o),e.max=fw(e.max,t,n,s,o)}function VN(e,{x:t,y:n}){Zh(e.x,t.translate,t.scale,t.originPoint),Zh(e.y,n.translate,n.scale,n.originPoint)}const mw=.999999999999,hw=1.0000000000001;function ZF(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let u=0;u<o;u++){l=n[u],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&hi(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,VN(e,c)),s&&pa(l.latestValues)&&hi(e,l.latestValues))}t.x<hw&&t.x>mw&&(t.x=1),t.y<hw&&t.y>mw&&(t.y=1)}function mi(e,t){e.min=e.min+t,e.max=e.max+t}function pw(e,t,n,s,o=.5){const l=jt(e.min,e.max,o);Zh(e,t,n,l,s)}function hi(e,t){pw(e.x,t.x,t.scaleX,t.scale,t.originX),pw(e.y,t.y,t.scaleY,t.scale,t.originY)}function WN(e,t){return LN(YF(e.getBoundingClientRect(),t))}function e$(e,t,n){const s=WN(e,n),{scroll:o}=t;return o&&(mi(s.x,o.offset.x),mi(s.y,o.offset.y)),s}const BN=({current:e})=>e?e.ownerDocument.defaultView:null,gw=(e,t)=>Math.abs(e-t);function t$(e,t){const n=gw(e.x,t.x),s=gw(e.y,t.y);return Math.sqrt(n**2+s**2)}class UN{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Jm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=t$(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:k}=v,{timestamp:C}=qt;this.history.push({...k,timestamp:C});const{onStart:b,onMove:N}=this.handlers;w||(b&&b(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Xm(w,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:S,onSessionEnd:k,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Jm(v.type==="pointercancel"?this.lastMoveEventInfo:Xm(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,b),k&&k(v,b)},!pg(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const u=_l(t),f=Xm(u,this.transformPagePoint),{point:p}=f,{timestamp:m}=qt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(t,Jm(f,this.history)),this.removeListeners=kl(Ho(this.contextWindow,"pointermove",this.handlePointerMove),Ho(this.contextWindow,"pointerup",this.handlePointerUp),Ho(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}function Xm(e,t){return t?{point:t(e.point)}:e}function yw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jm({point:e},t){return{point:e,delta:yw(e,HN(t)),offset:yw(e,n$(t)),velocity:r$(t,.1)}}function n$(e){return e[0]}function HN(e){return e[e.length-1]}function r$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=HN(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Nr(t)));)n--;if(!s)return{x:0,y:0};const l=Cr(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function s$(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?jt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?jt(n,e,s.max):Math.min(e,n)),e}function vw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a$(e,{top:t,left:n,bottom:s,right:o}){return{x:vw(e.x,n,o),y:vw(e.y,t,s)}}function xw(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function i$(e,t){return{x:xw(e.x,t.x),y:xw(e.y,t.y)}}function o$(e,t){let n=.5;const s=un(e),o=un(t);return o>s?n=el(t.min,t.max-s,e.min):s>o&&(n=el(e.min,e.max-o,t.min)),as(0,1,n)}function l$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ep=.35;function c$(e=ep){return e===!1?e=0:e===!0&&(e=ep),{x:ww(e,"left","right"),y:ww(e,"top","bottom")}}function ww(e,t,n){return{min:bw(e,t),max:bw(e,n)}}function bw(e,t){return typeof e=="number"?e:e[t]||0}const d$=new WeakMap;class u${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_l(y).point)},c=(y,v)=>{const{drag:w,dragPropagation:S,onDragStart:k}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NL(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(b=>{let N=this.getAxisMotionValue(b).get()||0;if(_r.test(N)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[b];E&&(N=un(E)*(parseFloat(N)/100))}}this.originPoint[b]=N}),k&&gt.postRender(()=>k(y,v)),Xh(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:k,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=v;if(S&&this.currentDirection===null){this.currentDirection=f$(b),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,b),this.updateAxis("y",v.point,b),this.visualElement.render(),C&&C(y,v)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Vn(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new UN(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:BN(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&gt.postRender(()=>u(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!ad(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=s$(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&ui(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=a$(s.layoutBox,t):this.constraints=!1,this.elastic=c$(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=l$(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ui(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=e$(s,o.root,this.visualElement.getTransformPagePoint());let c=i$(o.layout.layoutBox,l);if(n){const u=n(HF(c));this.hasMutatedConstraints=!!u,u&&(c=LN(u))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},p=Vn(m=>{if(!ad(m,n,this.currentDirection))return;let y=f&&f[m]||{};c&&(y={min:0,max:0});const v=o?200:1e6,w=o?40:1e7,S={type:"inertia",velocity:s?t[m]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(m,S)});return Promise.all(p).then(u)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Xh(this.visualElement,t),s.start(Ng(t,s,0,n,this.visualElement,!1))}stopAnimation(){Vn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Vn(n=>{const{drag:s}=this.getProps();if(!ad(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[n];l.set(t[n]-jt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ui(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();o[c]=o$({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vn(c=>{if(!ad(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];u.set(jt(f,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;d$.set(this.visualElement,this);const t=this.visualElement.current,n=Ho(t,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ui(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),gt.read(s);const c=il(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=f[m].translate,y.set(y.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=ep,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function ad(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function f$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class m$ extends Gs{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new u$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const jw=e=>(t,n)=>{e&&gt.postRender(()=>e(t,n))};class h$ extends Gs{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new UN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:jw(t),onStart:jw(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&gt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ho(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ao={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Te.test(e))e=parseFloat(e);else return e;const n=Sw(e,t.target.x),s=Sw(e,t.target.y);return`${n}% ${s}%`}},p$={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Vs.parse(e);if(o.length>5)return s;const l=Vs.createTransformer(e),c=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,f=n.y.scale*t.y;o[0+c]/=u,o[1+c]/=f;const p=jt(u,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};let kw=!1;class g$ extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;eF(y$),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),kw&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,kw=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||gt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function YN(e){const[t,n]=xN(),s=g.useContext(Hp);return a.jsx(g$,{...e,layoutGroup:s,switchLayoutGroup:g.useContext(kN),isPresent:t,safeToRemove:n})}const y$={borderRadius:{...Ao,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ao,borderTopRightRadius:Ao,borderBottomLeftRadius:Ao,borderBottomRightRadius:Ao,boxShadow:p$};function v$(e,t,n){const s=rn(e)?e:ji(e);return s.start(Ng("",s,t,n)),s.animation}const x$=(e,t)=>e.depth-t.depth;class w${constructor(){this.children=[],this.isDirty=!1}add(t){Kp(this.children,t),this.isDirty=!0}remove(t){qp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(x$),this.isDirty=!1,this.children.forEach(t)}}function b$(e,t){const n=Sn.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(zs(s),e(l-t))};return gt.setup(s,!0),()=>zs(s)}const GN=["TopLeft","TopRight","BottomLeft","BottomRight"],j$=GN.length,Nw=e=>typeof e=="string"?parseFloat(e):e,Cw=e=>typeof e=="number"||Te.test(e);function S$(e,t,n,s,o,l){o?(e.opacity=jt(0,n.opacity??1,k$(s)),e.opacityExit=jt(t.opacity??1,0,N$(s))):l&&(e.opacity=jt(t.opacity??1,n.opacity??1,s));for(let c=0;c<j$;c++){const u=`border${GN[c]}Radius`;let f=_w(t,u),p=_w(n,u);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Cw(f)===Cw(p)?(e[u]=Math.max(jt(Nw(f),Nw(p),s),0),(_r.test(p)||_r.test(f))&&(e[u]+="%")):e[u]=p}(t.rotate||n.rotate)&&(e.rotate=jt(t.rotate||0,n.rotate||0,s))}function _w(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const k$=KN(0,.5,zk),N$=KN(.5,.95,Hn);function KN(e,t,n){return s=>s<e?0:s>t?1:n(el(e,t,s))}function Ew(e,t){e.min=t.min,e.max=t.max}function zn(e,t){Ew(e.x,t.x),Ew(e.y,t.y)}function Mw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pw(e,t,n,s,o){return e-=t,e=Dd(e,1/n,s),o!==void 0&&(e=Dd(e,1/o,s)),e}function C$(e,t=0,n=1,s=.5,o,l=e,c=e){if(_r.test(t)&&(t=parseFloat(t),t=jt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=jt(l.min,l.max,s);e===l&&(u-=t),e.min=Pw(e.min,t,n,u,o),e.max=Pw(e.max,t,n,u,o)}function Tw(e,t,[n,s,o],l,c){C$(e,t[n],t[s],t[o],t.scale,l,c)}const _$=["x","scaleX","originX"],E$=["y","scaleY","originY"];function Dw(e,t,n,s){Tw(e.x,t,_$,n?n.x:void 0,s?s.x:void 0),Tw(e.y,t,E$,n?n.y:void 0,s?s.y:void 0)}function Aw(e){return e.translate===0&&e.scale===1}function qN(e){return Aw(e.x)&&Aw(e.y)}function Rw(e,t){return e.min===t.min&&e.max===t.max}function M$(e,t){return Rw(e.x,t.x)&&Rw(e.y,t.y)}function Iw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XN(e,t){return Iw(e.x,t.x)&&Iw(e.y,t.y)}function Ow(e){return un(e.x)/un(e.y)}function Lw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class P${constructor(){this.members=[]}add(t){Kp(this.members,t),t.scheduleRender()}remove(t){if(qp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T$(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:v,skewX:w,skewY:S}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),w&&(s+=`skewX(${w}deg) `),S&&(s+=`skewY(${S}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const Qm=["","X","Y","Z"],D$=1e3;let A$=0;function Zm(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function JN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AN(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&JN(s)}function QN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},u=t==null?void 0:t()){this.id=A$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O$),this.nodes.forEach(z$),this.nodes.forEach(V$),this.nodes.forEach(L$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new w$)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qp),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vN(c)&&!TL(c),this.instance=c;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),e){let m,y=0;const v=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{y=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,m&&m(),m=b$(v,250),gd.hasAnimatedSinceResize&&(gd.hasAnimatedSinceResize=!1,this.nodes.forEach(zw)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||Y$,{onLayoutAnimationStart:k,onLayoutAnimationComplete:C}=p.getProps(),b=!this.targetLayout||!XN(this.targetLayout,w),N=!y&&v;if(this.options.layoutRoot||this.resumeFrom||N||y&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...fg(S,"layout"),onPlay:k,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(m,N)}else y||zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(W$),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($w);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($$),this.nodes.forEach(R$),this.nodes.forEach(I$)):this.nodes.forEach($w),this.clearAllSnapshots();const u=Sn.now();qt.delta=as(0,1e3/60,u-qt.timestamp),qt.timestamp=u,qt.isProcessing=!0,Bm.update.process(qt),Bm.preRender.process(qt),Bm.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F$),this.sharedNodes.forEach(B$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!qN(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||pa(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),G$(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Tt();const u=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(K$))){const{scroll:m}=this.root;m&&(mi(u.x,m.offset.x),mi(u.y,m.offset.y))}return u}removeElementScroll(c){var f;const u=Tt();if(zn(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&zn(u,c),mi(u.x,y.offset.x),mi(u.y,y.offset.y))}return u}applyTransform(c,u=!1){const f=Tt();zn(f,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&hi(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),pa(m.latestValues)&&hi(f,m.latestValues)}return pa(this.latestValues)&&hi(f,this.latestValues),f}removeTransform(c){const u=Tt();zn(u,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!pa(p.latestValues))continue;Qh(p.latestValues)&&p.updateSnapshot();const m=Tt(),y=p.measurePageBox();zn(m,y),Dw(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return pa(this.latestValues)&&Dw(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Go(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),VN(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Go(this.relativeTargetOrigin,this.target,w.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qh(this.parent.latestValues)||zN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;zn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;ZF(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Tt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mw(this.prevProjectionDelta.x,this.projectionDelta.x),Mw(this.prevProjectionDelta.y,this.projectionDelta.y)),Yo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!Lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fi(),this.projectionDelta=fi(),this.projectionDeltaWithTransform=fi()}setAnimationOrigin(c,u=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},y=fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Tt(),w=f?f.source:void 0,S=this.layout?this.layout.source:void 0,k=w!==S,C=this.getStack(),b=!C||C.members.length<=1,N=!!(k&&!b&&this.options.crossfade===!0&&!this.path.some(H$));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const P=E/1e3;Vw(y.x,c.x,P),Vw(y.y,c.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Go(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U$(this.relativeTarget,this.relativeTargetOrigin,v,P),_&&M$(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Tt()),zn(_,this.relativeTarget)),k&&(this.animationValues=m,S$(m,p,this.latestValues,P,N,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,f,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ji(0)),this.currentAnimation=v$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:p,latestValues:m}=c;if(!(!u||!f||!p)){if(this!==c&&this.layout&&p&&ZN(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Tt();const y=un(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+y;const v=un(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}zn(u,f),hi(u,m),Yo(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new P$),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const p={};f.z&&Zm("z",c,p,this.animationValues);for(let m=0;m<Qm.length;m++)Zm(`rotate${Qm[m]}`,c,p,this.animationValues),Zm(`skew${Qm[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=pd(u==null?void 0:u.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=pd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=T$(this.projectionDeltaWithTransform,this.treeScale,m);f&&(y=f(m,y)),c.transform=y;const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in sl){if(m[S]===void 0)continue;const{correct:k,applyTo:C,isCSSVariable:b}=sl[S],N=y==="none"?m[S]:k(m[S],p);if(C){const _=C.length;for(let E=0;E<_;E++)c[C[E]]=N}else b?this.options.visualElement.renderState.vars[S]=N:c[S]=N}this.options.layoutId&&(c.pointerEvents=p===this?pd(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Fw),this.root.sharedNodes.clear()}}}function R$(e){e.updateLayout()}function I$(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Vn(y=>{const v=c?t.measuredBox[y]:t.layoutBox[y],w=un(v);v.min=s[y].min,v.max=v.min+w}):ZN(l,t.layoutBox,s)&&Vn(y=>{const v=c?t.measuredBox[y]:t.layoutBox[y],w=un(s[y]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+w)});const u=fi();Yo(u,s,t.layoutBox);const f=fi();c?Yo(f,e.applyTransform(o,!0),t.measuredBox):Yo(f,s,t.layoutBox);const p=!qN(u);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const S=Tt();Go(S,t.layoutBox,v.layoutBox);const k=Tt();Go(k,s,w.layoutBox),XN(S,k)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function O$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function L$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function F$(e){e.clearSnapshot()}function Fw(e){e.clearMeasurements()}function $w(e){e.isLayoutDirty=!1}function $$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function z$(e){e.resolveTargetDelta()}function V$(e){e.calcProjection()}function W$(e){e.resetSkewAndRotation()}function B$(e){e.removeLeadSnapshot()}function Vw(e,t,n){e.translate=jt(t.translate,0,n),e.scale=jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ww(e,t,n,s){e.min=jt(t.min,n.min,s),e.max=jt(t.max,n.max,s)}function U$(e,t,n,s){Ww(e.x,t.x,n.x,s),Ww(e.y,t.y,n.y,s)}function H$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Y$={duration:.45,ease:[.4,0,.1,1]},Bw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Uw=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:Hn;function Hw(e){e.min=Uw(e.min),e.max=Uw(e.max)}function G$(e){Hw(e.x),Hw(e.y)}function ZN(e,t,n){return e==="position"||e==="preserve-aspect"&&!JF(Ow(t),Ow(n),.2)}function K$(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const q$=QN({attachResizeListener:(e,t)=>il(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eh={current:void 0},eC=QN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eh.current){const e=new q$({});e.mount(window),e.setOptions({layoutScroll:!0}),eh.current=e}return eh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),X$={pan:{Feature:h$},drag:{Feature:m$,ProjectionNode:eC,MeasureLayout:YN}};function Yw(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&gt.postRender(()=>l(t,_l(t)))}class J$ extends Gs{mount(){const{current:t}=this.node;t&&(this.unmount=CL(t,(n,s)=>(Yw(this.node,s,"Start"),o=>Yw(this.node,o,"End"))))}unmount(){}}class Q$ extends Gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kl(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&gt.postRender(()=>l(t,_l(t)))}class Z$ extends Gs{mount(){const{current:t}=this.node;t&&(this.unmount=PL(t,(n,s)=>(Gw(this.node,s,"Start"),(o,{success:l})=>Gw(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tp=new WeakMap,th=new WeakMap,e6=e=>{const t=tp.get(e.target);t&&t(e)},t6=e=>{e.forEach(e6)};function n6({root:e,...t}){const n=e||document;th.has(n)||th.set(n,{});const s=th.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(t6,{root:e,...t})),s[o]}function r6(e,t,n){const s=n6(t);return tp.set(e,n),s.observe(e),()=>{tp.delete(e),s.unobserve(e)}}const s6={some:0,all:1};class a6 extends Gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:s6[o]},u=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=p?m:y;v&&v(f)};return r6(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(i6(t,n))&&this.startObserver()}unmount(){}}function i6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const o6={inView:{Feature:a6},tap:{Feature:Z$},focus:{Feature:Q$},hover:{Feature:J$}},l6={layout:{ProjectionNode:eC,MeasureLayout:YN}},np={current:null},tC={current:!1};function c6(){if(tC.current=!0,!!Gp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>np.current=e.matches;e.addEventListener("change",t),t()}else np.current=!1}const d6=new WeakMap;function u6(e,t,n){for(const s in t){const o=t[s],l=n[s];if(rn(o))e.addValue(s,o);else if(rn(l))e.addValue(s,ji(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,ji(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f6{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Sn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,gt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=hu(n),this.isVariantNode=jN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const w=y[v];f[v]!==void 0&&rn(w)&&w.set(f[v],!1)}}mount(t){this.current=t,d6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),tC.current||c6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:np.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ui.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ki){const n=ki[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kw.length;s++){const o=Kw[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=u6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ji(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Pk(s)||Dk(s))?s=parseFloat(s):!AL(s)&&Vs.test(n)&&(s=mN(t,n)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Sg(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class nC extends f6{constructor(){super(...arguments),this.KeyframeResolver=bL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rC(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function m6(e){return window.getComputedStyle(e)}class h6 extends nC{constructor(){super(...arguments),this.type="html",this.renderInstance=rC}readValueFromInstance(t,n){var s;if(Ui.has(n))return(s=this.projection)!=null&&s.isProjecting?Bh(n):zO(t,n);{const o=m6(t),l=(tg(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return WN(t,n)}build(t,n,s){wg(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return kg(t,n,s)}}const sC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p6(e,t,n,s){rC(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(sC.has(o)?o:xg(o),t.attrs[o])}class g6 extends nC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ui.has(n)){const s=fN(n);return s&&s.default||0}return n=sC.has(n)?n:xg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return DN(t,n,s)}build(t,n,s){EN(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){p6(t,n,s,o)}mount(t){this.isSVGTag=PN(t.tagName),super.mount(t)}}const y6=(e,t)=>jg(e)?new g6(t):new h6(t,{allowProjection:e!==g.Fragment}),v6=yF({...BF,...o6,...X$,...l6},y6),yt=WL(v6);function Ye(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function hn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Wt(e,t){const n=Ye(e);return isNaN(t)?hn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Gn(e,t){const n=Ye(e);if(isNaN(t))return hn(e,NaN);if(!t)return n;const s=n.getDate(),o=hn(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const l=o.getDate();return s>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function x6(e,t){const n=+Ye(e);return hn(e,n+t)}const Cg=6048e5,w6=864e5,aC=6e4,_g=36e5;function b6(e,t){return x6(e,t*_g)}let j6={};function El(){return j6}function Rt(e,t){var u,f,p,m;const n=El(),s=(t==null?void 0:t.weekStartsOn)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=Ye(e),l=o.getDay(),c=(l<s?7:0)+l-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function _a(e){return Rt(e,{weekStartsOn:1})}function iC(e){const t=Ye(e),n=t.getFullYear(),s=hn(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=_a(s),l=hn(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=_a(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Ni(e){const t=Ye(e);return t.setHours(0,0,0,0),t}function Ad(e){const t=Ye(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Sr(e,t){const n=Ni(e),s=Ni(t),o=+n-Ad(n),l=+s-Ad(s);return Math.round((o-l)/w6)}function S6(e){const t=iC(e),n=hn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_a(n)}function Ws(e,t){const n=t*7;return Wt(e,n)}function oC(e,t){return Gn(e,t*12)}function k6(e){let t;return e.forEach(function(n){const s=Ye(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function N6(e){let t;return e.forEach(n=>{const s=Ye(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function C6(e){return hn(e,Date.now())}function fn(e,t){const n=Ni(e),s=Ni(t);return+n==+s}function Eg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _6(e){if(!Eg(e)&&typeof e!="number")return!1;const t=Ye(e);return!isNaN(Number(t))}function ol(e,t){const n=Ye(e),s=Ye(t),o=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return o*12+l}function E6(e,t,n){const s=Rt(e,n),o=Rt(t,n),l=+s-Ad(s),c=+o-Ad(o);return Math.round((l-c)/Cg)}function Mg(e){const t=Ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function kn(e){const t=Ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function lC(e){const t=Ye(e),n=hn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Pg(e,t){var u,f,p,m;const n=El(),s=(t==null?void 0:t.weekStartsOn)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=Ye(e),l=o.getDay(),c=(l<s?-7:0)+6-(l-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}function cC(e){return Pg(e,{weekStartsOn:1})}const M6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P6=(e,t,n)=>{let s;const o=M6[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function It(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const T6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R6={date:It({formats:T6,defaultWidth:"full"}),time:It({formats:D6,defaultWidth:"full"}),dateTime:It({formats:A6,defaultWidth:"full"})},I6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O6=(e,t,n,s)=>I6[e];function Ge(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;o=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const L6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B6=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},U6={ordinalNumber:B6,era:Ge({values:L6,defaultWidth:"wide"}),quarter:Ge({values:F6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:$6,defaultWidth:"wide"}),day:Ge({values:z6,defaultWidth:"wide"}),dayPeriod:Ge({values:V6,defaultWidth:"wide",formattingValues:W6,defaultFormattingWidth:"wide"})};function Ke(e){return(t,n={})=>{const s=n.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const c=l[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Y6(u,y=>y.test(c)):H6(u,y=>y.test(c));let p;p=e.valueCallback?e.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const m=t.slice(c.length);return{value:p,rest:m}}}function H6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Y6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Da(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const o=s[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}const G6=/^(\d+)(th|st|nd|rd)?/i,K6=/\d+/i,q6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X6={any:[/^b/i,/^(a|c)/i]},J6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q6={any:[/1/i,/2/i,/3/i,/4/i]},Z6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ez={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},az={ordinalNumber:Da({matchPattern:G6,parsePattern:K6,valueCallback:e=>parseInt(e,10)}),era:Ke({matchPatterns:q6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:Z6,defaultMatchWidth:"wide",parsePatterns:ez,defaultParseWidth:"any"}),day:Ke({matchPatterns:tz,defaultMatchWidth:"wide",parsePatterns:nz,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:rz,defaultMatchWidth:"any",parsePatterns:sz,defaultParseWidth:"any"})},dC={code:"en-US",formatDistance:P6,formatLong:R6,formatRelative:O6,localize:U6,match:az,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iz(e){const t=Ye(e);return Sr(t,lC(t))+1}function uC(e){const t=Ye(e),n=+_a(t)-+S6(t);return Math.round(n/Cg)+1}function fC(e,t){var m,y,v,w;const n=Ye(e),s=n.getFullYear(),o=El(),l=(t==null?void 0:t.firstWeekContainsDate)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((w=(v=o.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=hn(e,0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);const u=Rt(c,t),f=hn(e,0);f.setFullYear(s,0,l),f.setHours(0,0,0,0);const p=Rt(f,t);return n.getTime()>=u.getTime()?s+1:n.getTime()>=p.getTime()?s:s-1}function oz(e,t){var u,f,p,m;const n=El(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=fC(e,t),l=hn(e,0);return l.setFullYear(o,0,s),l.setHours(0,0,0,0),Rt(l,t)}function mC(e,t){const n=Ye(e),s=+Rt(n,t)-+oz(n,t);return Math.round(s/Cg)+1}function lt(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Es={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return lt(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):lt(n+1,2)},d(e,t){return lt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return lt(e.getHours()%12||12,t.length)},H(e,t){return lt(e.getHours(),t.length)},m(e,t){return lt(e.getMinutes(),t.length)},s(e,t){return lt(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return lt(o,t.length)}},ci={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qw={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Es.y(e,t)},Y:function(e,t,n,s){const o=fC(e,s),l=o>0?o:1-o;if(t==="YY"){const c=l%100;return lt(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):lt(l,t.length)},R:function(e,t){const n=iC(e);return lt(n,t.length)},u:function(e,t){const n=e.getFullYear();return lt(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return lt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return lt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Es.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return lt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const o=mC(e,s);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):lt(o,t.length)},I:function(e,t,n){const s=uC(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):lt(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Es.d(e,t)},D:function(e,t,n){const s=iz(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):lt(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const o=e.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return lt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const o=e.getDay(),l=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return lt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),o=s===0?7:s;switch(t){case"i":return String(o);case"ii":return lt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let o;switch(s===12?o=ci.noon:s===0?o=ci.midnight:o=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let o;switch(s>=17?o=ci.evening:s>=12?o=ci.afternoon:s>=4?o=ci.morning:o=ci.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Es.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Es.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):lt(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):lt(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Es.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Es.s(e,t)},S:function(e,t){return Es.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Jw(s);case"XXXX":case"XX":return ga(s);case"XXXXX":case"XXX":default:return ga(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Jw(s);case"xxxx":case"xx":return ga(s);case"xxxxx":case"xxx":default:return ga(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xw(s,":");case"OOOO":default:return"GMT"+ga(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xw(s,":");case"zzzz":default:return"GMT"+ga(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return lt(s,t.length)},T:function(e,t,n){const s=e.getTime();return lt(s,t.length)}};function Xw(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),o=Math.trunc(s/60),l=s%60;return l===0?n+String(o):n+String(o)+t+lt(l,2)}function Jw(e,t){return e%60===0?(e>0?"-":"+")+lt(Math.abs(e)/60,2):ga(e,t)}function ga(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),o=lt(Math.trunc(s/60),2),l=lt(s%60,2);return n+o+t+l}const Qw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Qw(e,t);let l;switch(s){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Qw(s,t)).replace("{{time}}",hC(o,t))},cz={p:hC,P:lz},dz=/^D+$/,uz=/^Y+$/,fz=["D","DD","YY","YYYY"];function mz(e){return dz.test(e)}function hz(e){return uz.test(e)}function pz(e,t,n){const s=gz(e,t,n);if(console.warn(s),fz.includes(e))throw new RangeError(s)}function gz(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xz=/^'([^]*?)'?$/,wz=/''/g,bz=/[a-zA-Z]/;function xe(e,t,n){var m,y,v,w,S,k,C,b;const s=El(),o=(n==null?void 0:n.locale)??s.locale??dC,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(v=s.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((k=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:k.weekStartsOn)??s.weekStartsOn??((b=(C=s.locale)==null?void 0:C.options)==null?void 0:b.weekStartsOn)??0,u=Ye(e);if(!_6(u))throw new RangeError("Invalid time value");let f=t.match(vz).map(N=>{const _=N[0];if(_==="p"||_==="P"){const E=cz[_];return E(N,o.formatLong)}return N}).join("").match(yz).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const _=N[0];if(_==="'")return{isToken:!1,value:jz(N)};if(qw[_])return{isToken:!0,value:N};if(_.match(bz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(f=o.localize.preprocessor(u,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return f.map(N=>{if(!N.isToken)return N.value;const _=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&hz(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mz(_))&&pz(_,t,String(e));const E=qw[_[0]];return E(u,_,o.localize,p)}).join("")}function jz(e){const t=e.match(xz);return t?t[1].replace(wz,"'"):e}function Sz(e){const t=Ye(e),n=t.getFullYear(),s=t.getMonth(),o=hn(e,0);return o.setFullYear(n,s+1,0),o.setHours(0,0,0,0),o.getDate()}function kz(e){return Ye(e).getHours()}function Nz(e){return Math.trunc(+Ye(e)/1e3)}function Cz(e){const t=Ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function _z(e,t){return E6(Cz(e),kn(e),t)+1}function rp(e,t){const n=Ye(e),s=Ye(t);return n.getTime()>s.getTime()}function pC(e,t){const n=Ye(e),s=Ye(t);return+n<+s}function Ez(e){return+Ye(e)<Date.now()}function Zw(e,t,n){const s=Rt(e,n),o=Rt(t,n);return+s==+o}function Tg(e,t){const n=Ye(e),s=Ye(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Mz(e,t){const n=Ye(e),s=Ye(t);return n.getFullYear()===s.getFullYear()}function ll(e){return fn(e,C6(e))}function nh(e,t){return Wt(e,-t)}function ze(e,t){const s=Az(e);let o;if(s.date){const f=Rz(s.date,2);o=Iz(f.restDateString,f.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const l=o.getTime();let c=0,u;if(s.time&&(c=Oz(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(u=Lz(s.timezone),isNaN(u))return new Date(NaN)}else{const f=new Date(l+c),p=new Date(0);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return new Date(l+c+u)}const id={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Az(e){const t={},n=e.split(id.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],id.timeZoneDelimiter.test(t.date)&&(t.date=e.split(id.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const o=id.timezone.exec(s);o?(t.time=s.replace(o[1],""),t.timezone=o[1]):t.time=s}return t}function Rz(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?o:l*100,restDateString:e.slice((s[1]||s[2]).length)}}function Iz(e,t){if(t===null)return new Date(NaN);const n=e.match(Pz);if(!n)return new Date(NaN);const s=!!n[4],o=Ro(n[1]),l=Ro(n[2])-1,c=Ro(n[3]),u=Ro(n[4]),f=Ro(n[5])-1;if(s)return Wz(t,u,f)?Fz(t,u,f):new Date(NaN);{const p=new Date(0);return!zz(t,l,c)||!Vz(t,o)?new Date(NaN):(p.setUTCFullYear(t,l,Math.max(o,c)),p)}}function Ro(e){return e?parseInt(e):1}function Oz(e){const t=e.match(Tz);if(!t)return NaN;const n=rh(t[1]),s=rh(t[2]),o=rh(t[3]);return Bz(n,s,o)?n*_g+s*aC+o*1e3:NaN}function rh(e){return e&&parseFloat(e.replace(",","."))||0}function Lz(e){if(e==="Z")return 0;const t=e.match(Dz);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return Uz(s,o)?n*(s*_g+o*aC):NaN}function Fz(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const o=s.getUTCDay()||7,l=(t-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+l),s}const $z=[31,null,31,30,31,30,31,31,30,31,30,31];function gC(e){return e%400===0||e%4===0&&e%100!==0}function zz(e,t,n){return t>=0&&t<=11&&n>=1&&n<=($z[t]||(gC(e)?29:28))}function Vz(e,t){return t>=1&&t<=(gC(e)?366:365)}function Wz(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Bz(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Uz(e,t){return t>=0&&t<=59}function sh(e,t){const n=Ye(e),s=n.getFullYear(),o=n.getDate(),l=hn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=Sz(l);return n.setMonth(t,Math.min(o,c)),n}function eb(e,t){const n=Ye(e);return isNaN(+n)?hn(e,NaN):(n.setFullYear(t),n)}function Dg(e,t){return Ws(e,-1)}const Fe=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Fe.displayName="Card";const Xe=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",e),...t}));Xe.displayName="CardHeader";const at=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("font-semibold leading-none tracking-tight",e),...t}));at.displayName="CardTitle";const Ci=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));Ci.displayName="CardDescription";const $e=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("p-6 pt-0",e),...t}));$e.displayName="CardContent";const yC=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",e),...t}));yC.displayName="CardFooter";var xb,wb;const Hz=typeof window<"u"&&window.__API_BASE||((wb=(xb=import.meta)==null?void 0:xb.env)==null?void 0:wb.VITE_API_BASE)||"/api",Yz=async(e,t={})=>{const n=Tn.getToken(),s={...t.headers||{},...n?{Authorization:`Bearer ${n}`}:{},"Content-Type":"application/json"},o=await fetch(`${Hz}/${e.replace(/^\/+/,"")}`,{...t,headers:s});if(!o.ok){let l;try{l=await o.json()}catch{l=await o.text()}throw console.error("API error response:",l),new Error(`API error: ${o.status}`)}return o.json()},Aa=async e=>Yz("/integrations/invoke_llm",{method:"POST",body:JSON.stringify(e)}),tb=e=>typeof e=="string"&&e.trim()?e.trim():null,Gz=e=>{var o;const t=[],n=l=>{if(l){if(Array.isArray(l)){for(const c of l)typeof c=="string"&&c.trim()&&t.push(c.trim());return}if(typeof l=="string"&&l.trim()){const c=l.split(/[\n\r]|,\s*/).map(u=>u.trim()).filter(Boolean);t.push(...c);return}if(typeof l=="string")try{const c=JSON.parse(l);if(Array.isArray(c))for(const u of c)typeof u=="string"&&u.trim()&&t.push(u.trim())}catch{}}},s=l=>{if(!(!l||typeof l!="object"))for(const[c,u]of Object.entries(l))/task/i.test(c)&&n(u)};return s(e),s(e==null?void 0:e.data),s(e==null?void 0:e.result),s(e==null?void 0:e.output),n(e==null?void 0:e.tasks),n((o=e==null?void 0:e.data)==null?void 0:o.tasks),[...new Set(t)]},Kz=e=>{const t=[],n=o=>{if(!(!o||typeof o!="object"))for(const[l,c]of Object.entries(o))(/(^|[_\s-])short([_\s-]?title)?$/i.test(l)||/summary[_\s-]?title/i.test(l))&&t.push(c)};n(e),n(e==null?void 0:e.data),n(e==null?void 0:e.result),n(e==null?void 0:e.output);const s=t.find(o=>typeof o=="string"&&o.trim());return s?String(s).trim():null},qz=async e=>{var l;const t=await Aa(e),n=tb(t==null?void 0:t.summary)??tb((l=t==null?void 0:t.data)==null?void 0:l.summary)??null,s=Kz(t),o=Gz(t);return{short_title:s,suggestedTasks:o,tasks:o,summary:n,raw:t}},Xz=async()=>(console.log(" SendEmail() called (stub)"),null),pu=X1,Jz=J1,vC=g.forwardRef(({className:e,...t},n)=>a.jsx(Bd,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vC.displayName=Bd.displayName;const Ml=g.forwardRef(({className:e,children:t,...n},s)=>a.jsxs(Jz,{children:[a.jsx(vC,{}),a.jsxs(Ud,{ref:s,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Q1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Os,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ml.displayName=Ud.displayName;const Pl=({className:e,...t})=>a.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pl.displayName="DialogHeader";const gu=({className:e,...t})=>a.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gu.displayName="DialogFooter";const Tl=g.forwardRef(({className:e,...t},n)=>a.jsx(Hd,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",e),...t}));Tl.displayName=Hd.displayName;const Qz=g.forwardRef(({className:e,...t},n)=>a.jsx(Yd,{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));Qz.displayName=Yd.displayName;const Hi=g.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:pe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Hi.displayName="Textarea";const nb={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},Zz=(e,t,n)=>{let s;const o=n!=null&&n.addSuffix?nb[e].withPreposition:nb[e].standalone;return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:"vor "+s:s},e8={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},t8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},n8={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},r8={date:It({formats:e8,defaultWidth:"full"}),time:It({formats:t8,defaultWidth:"full"}),dateTime:It({formats:n8,defaultWidth:"full"})},s8={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},a8=(e,t,n,s)=>s8[e],i8={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},o8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},sp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},l8={narrow:sp.narrow,abbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:sp.wide},c8={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},d8={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},u8={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},f8=e=>Number(e)+".",m8={ordinalNumber:f8,era:Ge({values:i8,defaultWidth:"wide"}),quarter:Ge({values:o8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:sp,formattingValues:l8,defaultWidth:"wide"}),day:Ge({values:c8,defaultWidth:"wide"}),dayPeriod:Ge({values:d8,defaultWidth:"wide",formattingValues:u8,defaultFormattingWidth:"wide"})},h8=/^(\d+)(\.)?/i,p8=/\d+/i,g8={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},y8={any:[/^v/i,/^n/i]},v8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},x8={any:[/1/i,/2/i,/3/i,/4/i]},w8={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},b8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j8={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},S8={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},k8={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},N8={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},C8={ordinalNumber:Da({matchPattern:h8,parsePattern:p8,valueCallback:e=>parseInt(e)}),era:Ke({matchPatterns:g8,defaultMatchWidth:"wide",parsePatterns:y8,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:v8,defaultMatchWidth:"wide",parsePatterns:x8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:w8,defaultMatchWidth:"wide",parsePatterns:b8,defaultParseWidth:"any"}),day:Ke({matchPatterns:j8,defaultMatchWidth:"wide",parsePatterns:S8,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:k8,defaultMatchWidth:"wide",parsePatterns:N8,defaultParseWidth:"any"})},yu={code:"de",formatDistance:Zz,formatLong:r8,formatRelative:a8,localize:m8,match:C8,options:{weekStartsOn:1,firstWeekContainsDate:4}},_8={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},E8=(e,t,n)=>{let s;const o=_8[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+s:"hace "+s:s},M8={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},P8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},T8={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D8={date:It({formats:M8,defaultWidth:"full"}),time:It({formats:P8,defaultWidth:"full"}),dateTime:It({formats:T8,defaultWidth:"full"})},A8={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},R8={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},I8=(e,t,n,s)=>t.getHours()!==1?R8[e]:A8[e],O8={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},L8={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},F8={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},$8={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},z8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},V8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},W8=(e,t)=>Number(e)+"",B8={ordinalNumber:W8,era:Ge({values:O8,defaultWidth:"wide"}),quarter:Ge({values:L8,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ge({values:F8,defaultWidth:"wide"}),day:Ge({values:$8,defaultWidth:"wide"}),dayPeriod:Ge({values:z8,defaultWidth:"wide",formattingValues:V8,defaultFormattingWidth:"wide"})},U8=/^(\d+)()?/i,H8=/\d+/i,Y8={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},G8={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},K8={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},q8={any:[/1/i,/2/i,/3/i,/4/i]},X8={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},J8={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Q8={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Z8={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},eV={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},tV={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},nV={ordinalNumber:Da({matchPattern:U8,parsePattern:H8,valueCallback:function(e){return parseInt(e,10)}}),era:Ke({matchPatterns:Y8,defaultMatchWidth:"wide",parsePatterns:G8,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:K8,defaultMatchWidth:"wide",parsePatterns:q8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:X8,defaultMatchWidth:"wide",parsePatterns:J8,defaultParseWidth:"any"}),day:Ke({matchPatterns:Q8,defaultMatchWidth:"wide",parsePatterns:Z8,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:eV,defaultMatchWidth:"any",parsePatterns:tV,defaultParseWidth:"any"})},vu={code:"es",formatDistance:E8,formatLong:D8,formatRelative:I8,localize:B8,match:nV,options:{weekStartsOn:1,firstWeekContainsDate:1}},rV={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},sV=(e,t,n)=>{let s;const o=rV[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},aV={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},iV={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},oV={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lV={date:It({formats:aV,defaultWidth:"full"}),time:It({formats:iV,defaultWidth:"full"}),dateTime:It({formats:oV,defaultWidth:"full"})},cV={lastWeek:"eeee 'dernier  ' p",yesterday:"'hier  ' p",today:"'aujourdhui  ' p",tomorrow:"'demain  ' p'",nextWeek:"eeee 'prochain  ' p",other:"P"},dV=(e,t,n,s)=>cV[e],uV={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},fV={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},mV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},hV={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},pV={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},gV=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const o=["year","week","hour","minute","second"];let l;return n===1?l=s&&o.includes(s)?"re":"er":l="me",n+l},yV=["MMM","MMMM"],vV={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&yV.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:gV,era:Ge({values:uV,defaultWidth:"wide"}),quarter:Ge({values:fV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:mV,defaultWidth:"wide"}),day:Ge({values:hV,defaultWidth:"wide"}),dayPeriod:Ge({values:pV,defaultWidth:"wide"})},xV=/^(\d+)(ime|re|me|er|e)?/i,wV=/\d+/i,bV={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},jV={any:[/^av/i,/^ap/i]},SV={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},kV={any:[/1/i,/2/i,/3/i,/4/i]},NV={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},CV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},_V={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},EV={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},MV={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},PV={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},TV={ordinalNumber:Da({matchPattern:xV,parsePattern:wV,valueCallback:e=>parseInt(e)}),era:Ke({matchPatterns:bV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:kV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:NV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any"}),day:Ke({matchPatterns:_V,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:MV,defaultMatchWidth:"any",parsePatterns:PV,defaultParseWidth:"any"})},xu={code:"fr",formatDistance:sV,formatLong:lV,formatRelative:dV,localize:vV,match:TV,options:{weekStartsOn:1,firstWeekContainsDate:4}},DV={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},AV=(e,t,n)=>{let s;const o=DV[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+s:s+" fa":s},RV={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},IV={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OV={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},LV={date:It({formats:RV,defaultWidth:"full"}),time:It({formats:IV,defaultWidth:"full"}),dateTime:It({formats:OV,defaultWidth:"full"})},Ag=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function FV(e){switch(e){case 0:return"'domenica scorsa alle' p";default:return"'"+Ag[e]+" scorso alle' p"}}function rb(e){return"'"+Ag[e]+" alle' p"}function $V(e){switch(e){case 0:return"'domenica prossima alle' p";default:return"'"+Ag[e]+" prossimo alle' p"}}const zV={lastWeek:(e,t,n)=>{const s=e.getDay();return Zw(e,t,n)?rb(s):FV(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,n)=>{const s=e.getDay();return Zw(e,t,n)?rb(s):$V(s)},other:"P"},VV=(e,t,n,s)=>{const o=zV[e];return typeof o=="function"?o(t,n,s):o},WV={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},BV={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},UV={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},HV={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},YV={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},GV={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},KV=(e,t)=>{const n=Number(e);return String(n)},qV={ordinalNumber:KV,era:Ge({values:WV,defaultWidth:"wide"}),quarter:Ge({values:BV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:UV,defaultWidth:"wide"}),day:Ge({values:HV,defaultWidth:"wide"}),dayPeriod:Ge({values:YV,defaultWidth:"wide",formattingValues:GV,defaultFormattingWidth:"wide"})},XV=/^(\d+)()?/i,JV=/\d+/i,QV={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},ZV={any:[/^a/i,/^(d|e)/i]},eW={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},tW={any:[/1/i,/2/i,/3/i,/4/i]},nW={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},rW={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},sW={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},aW={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},iW={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},oW={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},lW={ordinalNumber:Da({matchPattern:XV,parsePattern:JV,valueCallback:e=>parseInt(e,10)}),era:Ke({matchPatterns:QV,defaultMatchWidth:"wide",parsePatterns:ZV,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:eW,defaultMatchWidth:"wide",parsePatterns:tW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:nW,defaultMatchWidth:"wide",parsePatterns:rW,defaultParseWidth:"any"}),day:Ke({matchPatterns:sW,defaultMatchWidth:"wide",parsePatterns:aW,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:iW,defaultMatchWidth:"any",parsePatterns:oW,defaultParseWidth:"any"})},wu={code:"it",formatDistance:AV,formatLong:LV,formatRelative:VV,localize:qV,match:lW,options:{weekStartsOn:1,firstWeekContainsDate:4}},cW={lessThanXSeconds:{one:"minder dan een seconde",other:"minder dan {{count}} seconden"},xSeconds:{one:"1 seconde",other:"{{count}} seconden"},halfAMinute:"een halve minuut",lessThanXMinutes:{one:"minder dan een minuut",other:"minder dan {{count}} minuten"},xMinutes:{one:"een minuut",other:"{{count}} minuten"},aboutXHours:{one:"ongeveer 1 uur",other:"ongeveer {{count}} uur"},xHours:{one:"1 uur",other:"{{count}} uur"},xDays:{one:"1 dag",other:"{{count}} dagen"},aboutXWeeks:{one:"ongeveer 1 week",other:"ongeveer {{count}} weken"},xWeeks:{one:"1 week",other:"{{count}} weken"},aboutXMonths:{one:"ongeveer 1 maand",other:"ongeveer {{count}} maanden"},xMonths:{one:"1 maand",other:"{{count}} maanden"},aboutXYears:{one:"ongeveer 1 jaar",other:"ongeveer {{count}} jaar"},xYears:{one:"1 jaar",other:"{{count}} jaar"},overXYears:{one:"meer dan 1 jaar",other:"meer dan {{count}} jaar"},almostXYears:{one:"bijna 1 jaar",other:"bijna {{count}} jaar"}},dW=(e,t,n)=>{let s;const o=cW[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"over "+s:s+" geleden":s},uW={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd-MM-y"},fW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mW={full:"{{date}} 'om' {{time}}",long:"{{date}} 'om' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hW={date:It({formats:uW,defaultWidth:"full"}),time:It({formats:fW,defaultWidth:"full"}),dateTime:It({formats:mW,defaultWidth:"full"})},pW={lastWeek:"'afgelopen' eeee 'om' p",yesterday:"'gisteren om' p",today:"'vandaag om' p",tomorrow:"'morgen om' p",nextWeek:"eeee 'om' p",other:"P"},gW=(e,t,n,s)=>pW[e],yW={narrow:["v.C.","n.C."],abbreviated:["v.Chr.","n.Chr."],wide:["voor Christus","na Christus"]},vW={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"]},xW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},wW={narrow:["Z","M","D","W","D","V","Z"],short:["zo","ma","di","wo","do","vr","za"],abbreviated:["zon","maa","din","woe","don","vri","zat"],wide:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},bW={narrow:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"},abbreviated:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"},wide:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"}},jW=(e,t)=>Number(e)+"e",SW={ordinalNumber:jW,era:Ge({values:yW,defaultWidth:"wide"}),quarter:Ge({values:vW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:xW,defaultWidth:"wide"}),day:Ge({values:wW,defaultWidth:"wide"}),dayPeriod:Ge({values:bW,defaultWidth:"wide"})},kW=/^(\d+)e?/i,NW=/\d+/i,CW={narrow:/^([vn]\.? ?C\.?)/,abbreviated:/^([vn]\. ?Chr\.?)/,wide:/^((voor|na) Christus)/},_W={any:[/^v/,/^n/]},EW={narrow:/^[1234]/i,abbreviated:/^K[1234]/i,wide:/^[1234]e kwartaal/i},MW={any:[/1/i,/2/i,/3/i,/4/i]},PW={narrow:/^[jfmasond]/i,abbreviated:/^(jan.|feb.|mrt.|apr.|mei|jun.|jul.|aug.|sep.|okt.|nov.|dec.)/i,wide:/^(januari|februari|maart|april|mei|juni|juli|augustus|september|oktober|november|december)/i},TW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^jan/i,/^feb/i,/^m(r|a)/i,/^apr/i,/^mei/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i]},DW={narrow:/^[zmdwv]/i,short:/^(zo|ma|di|wo|do|vr|za)/i,abbreviated:/^(zon|maa|din|woe|don|vri|zat)/i,wide:/^(zondag|maandag|dinsdag|woensdag|donderdag|vrijdag|zaterdag)/i},AW={narrow:[/^z/i,/^m/i,/^d/i,/^w/i,/^d/i,/^v/i,/^z/i],any:[/^zo/i,/^ma/i,/^di/i,/^wo/i,/^do/i,/^vr/i,/^za/i]},RW={any:/^(am|pm|middernacht|het middaguur|'s (ochtends|middags|avonds|nachts))/i},IW={any:{am:/^am/i,pm:/^pm/i,midnight:/^middernacht/i,noon:/^het middaguur/i,morning:/ochtend/i,afternoon:/middag/i,evening:/avond/i,night:/nacht/i}},OW={ordinalNumber:Da({matchPattern:kW,parsePattern:NW,valueCallback:e=>parseInt(e,10)}),era:Ke({matchPatterns:CW,defaultMatchWidth:"wide",parsePatterns:_W,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:EW,defaultMatchWidth:"wide",parsePatterns:MW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:PW,defaultMatchWidth:"wide",parsePatterns:TW,defaultParseWidth:"any"}),day:Ke({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:AW,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:RW,defaultMatchWidth:"any",parsePatterns:IW,defaultParseWidth:"any"})},bu={code:"nl",formatDistance:dW,formatLong:hW,formatRelative:gW,localize:SW,match:OW,options:{weekStartsOn:1,firstWeekContainsDate:4}},LW={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 ms",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},FW=(e,t,n)=>{let s;const o=LW[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"daqui a "+s:"h "+s:s},$W={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},zW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},VW={full:"{{date}} ' s' {{time}}",long:"{{date}} ' s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WW={date:It({formats:$W,defaultWidth:"full"}),time:It({formats:zW,defaultWidth:"full"}),dateTime:It({formats:VW,defaultWidth:"full"})},BW={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee ' s' p"},yesterday:"'ontem  s' p",today:"'hoje  s' p",tomorrow:"'amanh  s' p",nextWeek:"eeee ' s' p",other:"P"},UW=(e,t,n,s)=>{const o=BW[e];return typeof o=="function"?o(t):o},HW={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},YW={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},GW={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},KW={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sb"],abbreviated:["dom","seg","ter","qua","qui","sex","sb"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},qW={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"}},XW={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},JW=(e,t)=>Number(e)+"",QW={ordinalNumber:JW,era:Ge({values:HW,defaultWidth:"wide"}),quarter:Ge({values:YW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ge({values:GW,defaultWidth:"wide"}),day:Ge({values:KW,defaultWidth:"wide"}),dayPeriod:Ge({values:qW,defaultWidth:"wide",formattingValues:XW,defaultFormattingWidth:"wide"})},ZW=/^(\d+)(|)?/i,eB=/\d+/i,tB={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},nB={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},rB={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](|)? trimestre/i},sB={any:[/1/i,/2/i,/3/i,/4/i]},aB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},iB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},oB={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|segunda-?\s?feira|tera-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[a]bado)/i},lB={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]/i]},cB={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i},dB={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[a]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},uB={ordinalNumber:Da({matchPattern:ZW,parsePattern:eB,valueCallback:e=>parseInt(e,10)}),era:Ke({matchPatterns:tB,defaultMatchWidth:"wide",parsePatterns:nB,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:rB,defaultMatchWidth:"wide",parsePatterns:sB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ke({matchPatterns:aB,defaultMatchWidth:"wide",parsePatterns:iB,defaultParseWidth:"any"}),day:Ke({matchPatterns:oB,defaultMatchWidth:"wide",parsePatterns:lB,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:cB,defaultMatchWidth:"any",parsePatterns:dB,defaultParseWidth:"any"})},ju={code:"pt",formatDistance:FW,formatLong:WW,formatRelative:UW,localize:QW,match:uB,options:{weekStartsOn:1,firstWeekContainsDate:4}};var De=function(){return De=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},De.apply(this,arguments)};function fB(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function xC(e,t,n){for(var s=0,o=t.length,l;s<o;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}function Dl(e){return e.mode==="multiple"}function Al(e){return e.mode==="range"}function Su(e){return e.mode==="single"}var mB={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function hB(e,t){return xe(e,"LLLL y",t)}function pB(e,t){return xe(e,"d",t)}function gB(e,t){return xe(e,"LLLL",t)}function yB(e){return"".concat(e)}function vB(e,t){return xe(e,"cccccc",t)}function xB(e,t){return xe(e,"yyyy",t)}var wB=Object.freeze({__proto__:null,formatCaption:hB,formatDay:pB,formatMonthCaption:gB,formatWeekNumber:yB,formatWeekdayName:vB,formatYearCaption:xB}),bB=function(e,t,n){return xe(e,"do MMMM (EEEE)",n)},jB=function(){return"Month: "},SB=function(){return"Go to next month"},kB=function(){return"Go to previous month"},NB=function(e,t){return xe(e,"cccc",t)},CB=function(e){return"Week n. ".concat(e)},_B=function(){return"Year: "},EB=Object.freeze({__proto__:null,labelDay:bB,labelMonthDropdown:jB,labelNext:SB,labelPrevious:kB,labelWeekNumber:CB,labelWeekday:NB,labelYearDropdown:_B});function MB(){var e="buttons",t=mB,n=dC,s={},o={},l=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:wB,labels:EB,locale:n,modifiersClassNames:s,modifiers:o,numberOfMonths:l,styles:c,today:u,mode:"default"}}function PB(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,o=e.toMonth,l=e.fromDate,c=e.toDate;return s?l=kn(s):t&&(l=new Date(t,0,1)),o?c=Mg(o):n&&(c=new Date(n,11,31)),{fromDate:l?Ni(l):void 0,toDate:c?Ni(c):void 0}}var wC=g.createContext(void 0);function TB(e){var t,n=e.initialProps,s=MB(),o=PB(n),l=o.fromDate,c=o.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;u!=="buttons"&&(!l||!c)&&(u="buttons");var f;(Su(n)||Dl(n)||Al(n))&&(f=n.onSelect);var p=De(De(De({},s),n),{captionLayout:u,classNames:De(De({},s.classNames),n.classNames),components:De({},n.components),formatters:De(De({},s.formatters),n.formatters),fromDate:l,labels:De(De({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:De(De({},s.modifiers),n.modifiers),modifiersClassNames:De(De({},s.modifiersClassNames),n.modifiersClassNames),onSelect:f,styles:De(De({},s.styles),n.styles),toDate:c});return a.jsx(wC.Provider,{value:p,children:e.children})}function dt(){var e=g.useContext(wC);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bC(e){var t=dt(),n=t.locale,s=t.classNames,o=t.styles,l=t.formatters.formatCaption;return a.jsx("div",{className:s.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:l(e.displayMonth,{locale:n})})}function DB(e){return a.jsx("svg",De({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jC(e){var t,n,s=e.onChange,o=e.value,l=e.children,c=e.caption,u=e.className,f=e.style,p=dt(),m=(n=(t=p.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:DB;return a.jsxs("div",{className:u,style:f,children:[a.jsx("span",{className:p.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:o,onChange:s,children:l}),a.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[c,a.jsx(m,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function AB(e){var t,n=dt(),s=n.fromDate,o=n.toDate,l=n.styles,c=n.locale,u=n.formatters.formatMonthCaption,f=n.classNames,p=n.components,m=n.labels.labelMonthDropdown;if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});var y=[];if(Mz(s,o))for(var v=kn(s),w=s.getMonth();w<=o.getMonth();w++)y.push(sh(v,w));else for(var v=kn(new Date),w=0;w<=11;w++)y.push(sh(v,w));var S=function(C){var b=Number(C.target.value),N=sh(kn(e.displayMonth),b);e.onChange(N)},k=(t=p==null?void 0:p.Dropdown)!==null&&t!==void 0?t:jC;return a.jsx(k,{name:"months","aria-label":m(),className:f.dropdown_month,style:l.dropdown_month,onChange:S,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:y.map(function(C){return a.jsx("option",{value:C.getMonth(),children:u(C,{locale:c})},C.getMonth())})})}function RB(e){var t,n=e.displayMonth,s=dt(),o=s.fromDate,l=s.toDate,c=s.locale,u=s.styles,f=s.classNames,p=s.components,m=s.formatters.formatYearCaption,y=s.labels.labelYearDropdown,v=[];if(!o)return a.jsx(a.Fragment,{});if(!l)return a.jsx(a.Fragment,{});for(var w=o.getFullYear(),S=l.getFullYear(),k=w;k<=S;k++)v.push(eb(lC(new Date),k));var C=function(N){var _=eb(kn(n),Number(N.target.value));e.onChange(_)},b=(t=p==null?void 0:p.Dropdown)!==null&&t!==void 0?t:jC;return a.jsx(b,{name:"years","aria-label":y(),className:f.dropdown_year,style:u.dropdown_year,onChange:C,value:n.getFullYear(),caption:m(n,{locale:c}),children:v.map(function(N){return a.jsx("option",{value:N.getFullYear(),children:m(N,{locale:c})},N.getFullYear())})})}function IB(e,t){var n=g.useState(e),s=n[0],o=n[1],l=t===void 0?s:t;return[l,o]}function OB(e){var t=e.month,n=e.defaultMonth,s=e.today,o=t||n||s||new Date,l=e.toDate,c=e.fromDate,u=e.numberOfMonths,f=u===void 0?1:u;if(l&&ol(l,o)<0){var p=-1*(f-1);o=Gn(l,p)}return c&&ol(o,c)<0&&(o=c),kn(o)}function LB(){var e=dt(),t=OB(e),n=IB(t,e.month),s=n[0],o=n[1],l=function(c){var u;if(!e.disableNavigation){var f=kn(c);o(f),(u=e.onMonthChange)===null||u===void 0||u.call(e,f)}};return[s,l]}function FB(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,o=kn(e),l=kn(Gn(o,s)),c=ol(l,o),u=[],f=0;f<c;f++){var p=Gn(o,f);u.push(p)}return n&&(u=u.reverse()),u}function $B(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=s?l:1,u=kn(e);if(!n)return Gn(u,c);var f=ol(n,e);if(!(f<l))return Gn(u,c)}}function zB(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,o=t.numberOfMonths,l=o===void 0?1:o,c=s?l:1,u=kn(e);if(!n)return Gn(u,-c);var f=ol(u,n);if(!(f<=0))return Gn(u,-c)}}var SC=g.createContext(void 0);function VB(e){var t=dt(),n=LB(),s=n[0],o=n[1],l=FB(s,t),c=$B(s,t),u=zB(s,t),f=function(y){return l.some(function(v){return Tg(y,v)})},p=function(y,v){f(y)||(v&&pC(y,v)?o(Gn(y,1+t.numberOfMonths*-1)):o(y))},m={currentMonth:s,displayMonths:l,goToMonth:o,goToDate:p,previousMonth:u,nextMonth:c,isDateDisplayed:f};return a.jsx(SC.Provider,{value:m,children:e.children})}function Rl(){var e=g.useContext(SC);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function sb(e){var t,n=dt(),s=n.classNames,o=n.styles,l=n.components,c=Rl().goToMonth,u=function(m){c(Gn(m,e.displayIndex?-e.displayIndex:0))},f=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:bC,p=a.jsx(f,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:s.caption_dropdowns,style:o.caption_dropdowns,children:[a.jsx("div",{className:s.vhidden,children:p}),a.jsx(AB,{onChange:u,displayMonth:e.displayMonth}),a.jsx(RB,{onChange:u,displayMonth:e.displayMonth})]})}function WB(e){return a.jsx("svg",De({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function BB(e){return a.jsx("svg",De({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Rd=g.forwardRef(function(e,t){var n=dt(),s=n.classNames,o=n.styles,l=[s.button_reset,s.button];e.className&&l.push(e.className);var c=l.join(" "),u=De(De({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),a.jsx("button",De({},e,{ref:t,type:"button",className:c,style:u}))});function UB(e){var t,n,s=dt(),o=s.dir,l=s.locale,c=s.classNames,u=s.styles,f=s.labels,p=f.labelPrevious,m=f.labelNext,y=s.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var v=p(e.previousMonth,{locale:l}),w=[c.nav_button,c.nav_button_previous].join(" "),S=m(e.nextMonth,{locale:l}),k=[c.nav_button,c.nav_button_next].join(" "),C=(t=y==null?void 0:y.IconRight)!==null&&t!==void 0?t:BB,b=(n=y==null?void 0:y.IconLeft)!==null&&n!==void 0?n:WB;return a.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&a.jsx(Rd,{name:"previous-month","aria-label":v,className:w,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?a.jsx(C,{className:c.nav_icon,style:u.nav_icon}):a.jsx(b,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&a.jsx(Rd,{name:"next-month","aria-label":S,className:k,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?a.jsx(b,{className:c.nav_icon,style:u.nav_icon}):a.jsx(C,{className:c.nav_icon,style:u.nav_icon})})]})}function ab(e){var t=dt().numberOfMonths,n=Rl(),s=n.previousMonth,o=n.nextMonth,l=n.goToMonth,c=n.displayMonths,u=c.findIndex(function(S){return Tg(e.displayMonth,S)}),f=u===0,p=u===c.length-1,m=t>1&&(f||!p),y=t>1&&(p||!f),v=function(){s&&l(s)},w=function(){o&&l(o)};return a.jsx(UB,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:y,nextMonth:o,previousMonth:s,onPreviousClick:v,onNextClick:w})}function HB(e){var t,n=dt(),s=n.classNames,o=n.disableNavigation,l=n.styles,c=n.captionLayout,u=n.components,f=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:bC,p;return o?p=a.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?p=a.jsx(sb,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?p=a.jsxs(a.Fragment,{children:[a.jsx(sb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(ab,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):p=a.jsxs(a.Fragment,{children:[a.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(ab,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:s.caption,style:l.caption,children:p})}function YB(e){var t=dt(),n=t.footer,s=t.styles,o=t.classNames.tfoot;return n?a.jsx("tfoot",{className:o,style:s.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function GB(e,t,n){for(var s=n?_a(new Date):Rt(new Date,{locale:e,weekStartsOn:t}),o=[],l=0;l<7;l++){var c=Wt(s,l);o.push(c)}return o}function KB(){var e=dt(),t=e.classNames,n=e.styles,s=e.showWeekNumber,o=e.locale,l=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,p=GB(o,l,c);return a.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&a.jsx("td",{style:n.head_cell,className:t.head_cell}),p.map(function(m,y){return a.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":f(m,{locale:o}),children:u(m,{locale:o})},y)})]})}function qB(){var e,t=dt(),n=t.classNames,s=t.styles,o=t.components,l=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:KB;return a.jsx("thead",{style:s.head,className:n.head,children:a.jsx(l,{})})}function XB(e){var t=dt(),n=t.locale,s=t.formatters.formatDay;return a.jsx(a.Fragment,{children:s(e.date,{locale:n})})}var Rg=g.createContext(void 0);function JB(e){if(!Dl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Rg.Provider,{value:t,children:e.children})}return a.jsx(QB,{initialProps:e.initialProps,children:e.children})}function QB(e){var t=e.initialProps,n=e.children,s=t.selected,o=t.min,l=t.max,c=function(p,m,y){var v,w;(v=t.onDayClick)===null||v===void 0||v.call(t,p,m,y);var S=!!(m.selected&&o&&(s==null?void 0:s.length)===o);if(!S){var k=!!(!m.selected&&l&&(s==null?void 0:s.length)===l);if(!k){var C=s?xC([],s):[];if(m.selected){var b=C.findIndex(function(N){return fn(p,N)});C.splice(b,1)}else C.push(p);(w=t.onSelect)===null||w===void 0||w.call(t,C,p,m,y)}}},u={disabled:[]};s&&u.disabled.push(function(p){var m=l&&s.length>l-1,y=s.some(function(v){return fn(v,p)});return!!(m&&!y)});var f={selected:s,onDayClick:c,modifiers:u};return a.jsx(Rg.Provider,{value:f,children:n})}function Ig(){var e=g.useContext(Rg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function ZB(e,t){var n=t||{},s=n.from,o=n.to;return s&&o?fn(o,e)&&fn(s,e)?void 0:fn(o,e)?{from:o,to:void 0}:fn(s,e)?void 0:rp(s,e)?{from:e,to:o}:{from:s,to:e}:o?rp(e,o)?{from:o,to:e}:{from:e,to:o}:s?pC(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Og=g.createContext(void 0);function eU(e){if(!Al(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(Og.Provider,{value:t,children:e.children})}return a.jsx(tU,{initialProps:e.initialProps,children:e.children})}function tU(e){var t=e.initialProps,n=e.children,s=t.selected,o=s||{},l=o.from,c=o.to,u=t.min,f=t.max,p=function(w,S,k){var C,b;(C=t.onDayClick)===null||C===void 0||C.call(t,w,S,k);var N=ZB(w,s);(b=t.onSelect)===null||b===void 0||b.call(t,N,w,S,k)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],c?(m.range_end=[c],fn(l,c)||(m.range_middle=[{after:l,before:c}])):m.range_end=[l]):c&&(m.range_start=[c],m.range_end=[c]),u&&(l&&!c&&m.disabled.push({after:nh(l,u-1),before:Wt(l,u-1)}),l&&c&&m.disabled.push({after:l,before:Wt(l,u-1)}),!l&&c&&m.disabled.push({after:nh(c,u-1),before:Wt(c,u-1)})),f){if(l&&!c&&(m.disabled.push({before:Wt(l,-f+1)}),m.disabled.push({after:Wt(l,f-1)})),l&&c){var y=Sr(c,l)+1,v=f-y;m.disabled.push({before:nh(l,v)}),m.disabled.push({after:Wt(c,v)})}!l&&c&&(m.disabled.push({before:Wt(c,-f+1)}),m.disabled.push({after:Wt(c,f-1)}))}return a.jsx(Og.Provider,{value:{selected:s,onDayClick:p,modifiers:m},children:n})}function Lg(){var e=g.useContext(Og);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function yd(e){return Array.isArray(e)?xC([],e):e!==void 0?[e]:[]}function nU(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],o=n[1];t[s]=yd(o)}),t}var or;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(or||(or={}));var rU=or.Selected,Br=or.Disabled,sU=or.Hidden,aU=or.Today,ah=or.RangeEnd,ih=or.RangeMiddle,oh=or.RangeStart,iU=or.Outside;function oU(e,t,n){var s,o=(s={},s[rU]=yd(e.selected),s[Br]=yd(e.disabled),s[sU]=yd(e.hidden),s[aU]=[e.today],s[ah]=[],s[ih]=[],s[oh]=[],s[iU]=[],s);return e.fromDate&&o[Br].push({before:e.fromDate}),e.toDate&&o[Br].push({after:e.toDate}),Dl(e)?o[Br]=o[Br].concat(t.modifiers[Br]):Al(e)&&(o[Br]=o[Br].concat(n.modifiers[Br]),o[oh]=n.modifiers[oh],o[ih]=n.modifiers[ih],o[ah]=n.modifiers[ah]),o}var kC=g.createContext(void 0);function lU(e){var t=dt(),n=Ig(),s=Lg(),o=oU(t,n,s),l=nU(t.modifiers),c=De(De({},o),l);return a.jsx(kC.Provider,{value:c,children:e.children})}function NC(){var e=g.useContext(kC);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function cU(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function dU(e){return!!(e&&typeof e=="object"&&"from"in e)}function uU(e){return!!(e&&typeof e=="object"&&"after"in e)}function fU(e){return!!(e&&typeof e=="object"&&"before"in e)}function mU(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function hU(e,t){var n,s=t.from,o=t.to;if(s&&o){var l=Sr(o,s)<0;l&&(n=[o,s],s=n[0],o=n[1]);var c=Sr(e,s)>=0&&Sr(o,e)>=0;return c}return o?fn(o,e):s?fn(s,e):!1}function pU(e){return Eg(e)}function gU(e){return Array.isArray(e)&&e.every(Eg)}function yU(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(pU(n))return fn(e,n);if(gU(n))return n.includes(e);if(dU(n))return hU(e,n);if(mU(n))return n.dayOfWeek.includes(e.getDay());if(cU(n)){var s=Sr(n.before,e),o=Sr(n.after,e),l=s>0,c=o<0,u=rp(n.before,n.after);return u?c&&l:l||c}return uU(n)?Sr(e,n.after)>0:fU(n)?Sr(n.before,e)>0:typeof n=="function"?n(e):!1})}function Fg(e,t,n){var s=Object.keys(t).reduce(function(l,c){var u=t[c];return yU(e,u)&&l.push(c),l},[]),o={};return s.forEach(function(l){return o[l]=!0}),n&&!Tg(e,n)&&(o.outside=!0),o}function vU(e,t){for(var n=kn(e[0]),s=Mg(e[e.length-1]),o,l,c=n;c<=s;){var u=Fg(c,t),f=!u.disabled&&!u.hidden;if(!f){c=Wt(c,1);continue}if(u.selected)return c;u.today&&!l&&(l=c),o||(o=c),c=Wt(c,1)}return l||o}var xU=365;function CC(e,t){var n=t.moveBy,s=t.direction,o=t.context,l=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,f=o.weekStartsOn,p=o.fromDate,m=o.toDate,y=o.locale,v={day:Wt,week:Ws,month:Gn,year:oC,startOfWeek:function(C){return o.ISOWeek?_a(C):Rt(C,{locale:y,weekStartsOn:f})},endOfWeek:function(C){return o.ISOWeek?cC(C):Pg(C,{locale:y,weekStartsOn:f})}},w=v[n](e,s==="after"?1:-1);s==="before"&&p?w=k6([p,w]):s==="after"&&m&&(w=N6([m,w]));var S=!0;if(l){var k=Fg(w,l);S=!k.disabled&&!k.hidden}return S?w:u.count>xU?u.lastFocused:CC(w,{moveBy:n,direction:s,context:o,modifiers:l,retry:De(De({},u),{count:u.count+1})})}var _C=g.createContext(void 0);function wU(e){var t=Rl(),n=NC(),s=g.useState(),o=s[0],l=s[1],c=g.useState(),u=c[0],f=c[1],p=vU(t.displayMonths,n),m=o??(u&&t.isDateDisplayed(u))?u:p,y=function(){f(o),l(void 0)},v=function(C){l(C)},w=dt(),S=function(C,b){if(o){var N=CC(o,{moveBy:C,direction:b,context:w,modifiers:n});fn(o,N)||(t.goToDate(N,o),v(N))}},k={focusedDay:o,focusTarget:m,blur:y,focus:v,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return a.jsx(_C.Provider,{value:k,children:e.children})}function $g(){var e=g.useContext(_C);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function bU(e,t){var n=NC(),s=Fg(e,n,t);return s}var zg=g.createContext(void 0);function jU(e){if(!Su(e.initialProps)){var t={selected:void 0};return a.jsx(zg.Provider,{value:t,children:e.children})}return a.jsx(SU,{initialProps:e.initialProps,children:e.children})}function SU(e){var t=e.initialProps,n=e.children,s=function(l,c,u){var f,p,m;if((f=t.onDayClick)===null||f===void 0||f.call(t,l,c,u),c.selected&&!t.required){(p=t.onSelect)===null||p===void 0||p.call(t,void 0,l,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,l,l,c,u)},o={selected:t.selected,onDayClick:s};return a.jsx(zg.Provider,{value:o,children:n})}function EC(){var e=g.useContext(zg);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function kU(e,t){var n=dt(),s=EC(),o=Ig(),l=Lg(),c=$g(),u=c.focusDayAfter,f=c.focusDayBefore,p=c.focusWeekAfter,m=c.focusWeekBefore,y=c.blur,v=c.focus,w=c.focusMonthBefore,S=c.focusMonthAfter,k=c.focusYearBefore,C=c.focusYearAfter,b=c.focusStartOfWeek,N=c.focusEndOfWeek,_=function(R){var D,L,G,T;Su(n)?(D=s.onDayClick)===null||D===void 0||D.call(s,e,t,R):Dl(n)?(L=o.onDayClick)===null||L===void 0||L.call(o,e,t,R):Al(n)?(G=l.onDayClick)===null||G===void 0||G.call(l,e,t,R):(T=n.onDayClick)===null||T===void 0||T.call(n,e,t,R)},E=function(R){var D;v(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,R)},P=function(R){var D;y(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,R)},O=function(R){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,R)},A=function(R){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,R)},I=function(R){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,R)},z=function(R){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,R)},W=function(R){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,R)},H=function(R){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,R)},$=function(R){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,R)},K=function(R){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,R)},Y=function(R){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,R)},Q=function(R){var D;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?u():f();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?f():u();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),p();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),m();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?k():w();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?C():S();break;case"Home":R.preventDefault(),R.stopPropagation(),b();break;case"End":R.preventDefault(),R.stopPropagation(),N();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,R)},te={onClick:_,onFocus:E,onBlur:P,onKeyDown:Q,onKeyUp:Y,onMouseEnter:O,onMouseLeave:A,onPointerEnter:I,onPointerLeave:z,onTouchCancel:W,onTouchEnd:H,onTouchMove:$,onTouchStart:K};return te}function NU(){var e=dt(),t=EC(),n=Ig(),s=Lg(),o=Su(e)?t.selected:Dl(e)?n.selected:Al(e)?s.selected:void 0;return o}function CU(e){return Object.values(or).includes(e)}function _U(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var o=e.modifiersClassNames[s];if(o)n.push(o);else if(CU(s)){var l=e.classNames["day_".concat(s)];l&&n.push(l)}}),n}function EU(e,t){var n=De({},e.styles.day);return Object.keys(t).forEach(function(s){var o;n=De(De({},n),(o=e.modifiersStyles)===null||o===void 0?void 0:o[s])}),n}function MU(e,t,n){var s,o,l,c=dt(),u=$g(),f=bU(e,t),p=kU(e,f),m=NU(),y=!!(c.onDayClick||c.mode!=="default");g.useEffect(function(){var O;f.outside||u.focusedDay&&y&&fn(u.focusedDay,e)&&((O=n.current)===null||O===void 0||O.focus())},[u.focusedDay,e,n,y,f.outside]);var v=_U(c,f).join(" "),w=EU(c,f),S=!!(f.outside&&!c.showOutsideDays||f.hidden),k=(l=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&l!==void 0?l:XB,C=a.jsx(k,{date:e,displayMonth:t,activeModifiers:f}),b={style:w,className:v,children:C,role:"gridcell"},N=u.focusTarget&&fn(u.focusTarget,e)&&!f.outside,_=u.focusedDay&&fn(u.focusedDay,e),E=De(De(De({},b),(s={disabled:f.disabled,role:"gridcell"},s["aria-selected"]=f.selected,s.tabIndex=_||N?0:-1,s)),p),P={isButton:y,isHidden:S,activeModifiers:f,selectedDays:m,buttonProps:E,divProps:b};return P}function PU(e){var t=g.useRef(null),n=MU(e.date,e.displayMonth,t);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(Rd,De({name:"day",ref:t},n.buttonProps)):a.jsx("div",De({},n.divProps))}function TU(e){var t=e.number,n=e.dates,s=dt(),o=s.onWeekNumberClick,l=s.styles,c=s.classNames,u=s.locale,f=s.labels.labelWeekNumber,p=s.formatters.formatWeekNumber,m=p(Number(t),{locale:u});if(!o)return a.jsx("span",{className:c.weeknumber,style:l.weeknumber,children:m});var y=f(Number(t),{locale:u}),v=function(w){o(t,n,w)};return a.jsx(Rd,{name:"week-number","aria-label":y,className:c.weeknumber,style:l.weeknumber,onClick:v,children:m})}function DU(e){var t,n,s=dt(),o=s.styles,l=s.classNames,c=s.showWeekNumber,u=s.components,f=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:PU,p=(n=u==null?void 0:u.WeekNumber)!==null&&n!==void 0?n:TU,m;return c&&(m=a.jsx("td",{className:l.cell,style:o.cell,children:a.jsx(p,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:l.row,style:o.row,children:[m,e.dates.map(function(y){return a.jsx("td",{className:l.cell,style:o.cell,role:"presentation",children:a.jsx(f,{displayMonth:e.displayMonth,date:y})},Nz(y))})]})}function ib(e,t,n){for(var s=n!=null&&n.ISOWeek?cC(t):Pg(t,n),o=n!=null&&n.ISOWeek?_a(e):Rt(e,n),l=Sr(s,o),c=[],u=0;u<=l;u++)c.push(Wt(o,u));var f=c.reduce(function(p,m){var y=n!=null&&n.ISOWeek?uC(m):mC(m,n),v=p.find(function(w){return w.weekNumber===y});return v?(v.dates.push(m),p):(p.push({weekNumber:y,dates:[m]}),p)},[]);return f}function AU(e,t){var n=ib(kn(e),Mg(e),t);if(t!=null&&t.useFixedWeeks){var s=_z(e,t);if(s<6){var o=n[n.length-1],l=o.dates[o.dates.length-1],c=Ws(l,6-s),u=ib(Ws(l,1),c,t);n.push.apply(n,u)}}return n}function RU(e){var t,n,s,o=dt(),l=o.locale,c=o.classNames,u=o.styles,f=o.hideHead,p=o.fixedWeeks,m=o.components,y=o.weekStartsOn,v=o.firstWeekContainsDate,w=o.ISOWeek,S=AU(e.displayMonth,{useFixedWeeks:!!p,ISOWeek:w,locale:l,weekStartsOn:y,firstWeekContainsDate:v}),k=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:qB,C=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:DU,b=(s=m==null?void 0:m.Footer)!==null&&s!==void 0?s:YB;return a.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&a.jsx(k,{}),a.jsx("tbody",{className:c.tbody,style:u.tbody,children:S.map(function(N){return a.jsx(C,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),a.jsx(b,{displayMonth:e.displayMonth})]})}function IU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var OU=IU()?g.useLayoutEffect:g.useEffect,lh=!1,LU=0;function ob(){return"react-day-picker-".concat(++LU)}function FU(e){var t,n=e??(lh?ob():null),s=g.useState(n),o=s[0],l=s[1];return OU(function(){o===null&&l(ob())},[]),g.useEffect(function(){lh===!1&&(lh=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function $U(e){var t,n,s=dt(),o=s.dir,l=s.classNames,c=s.styles,u=s.components,f=Rl().displayMonths,p=FU(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),m=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,y=[l.month],v=c.month,w=e.displayIndex===0,S=e.displayIndex===f.length-1,k=!w&&!S;o==="rtl"&&(t=[w,S],S=t[0],w=t[1]),w&&(y.push(l.caption_start),v=De(De({},v),c.caption_start)),S&&(y.push(l.caption_end),v=De(De({},v),c.caption_end)),k&&(y.push(l.caption_between),v=De(De({},v),c.caption_between));var C=(n=u==null?void 0:u.Caption)!==null&&n!==void 0?n:HB;return a.jsxs("div",{className:y.join(" "),style:v,children:[a.jsx(C,{id:p,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(RU,{id:m,"aria-labelledby":p,displayMonth:e.displayMonth})]},e.displayIndex)}function zU(e){var t=dt(),n=t.classNames,s=t.styles;return a.jsx("div",{className:n.months,style:s.months,children:e.children})}function VU(e){var t,n,s=e.initialProps,o=dt(),l=$g(),c=Rl(),u=g.useState(!1),f=u[0],p=u[1];g.useEffect(function(){o.initialFocus&&l.focusTarget&&(f||(l.focus(l.focusTarget),p(!0)))},[o.initialFocus,f,l.focus,l.focusTarget,l]);var m=[o.classNames.root,o.className];o.numberOfMonths>1&&m.push(o.classNames.multiple_months),o.showWeekNumber&&m.push(o.classNames.with_weeknumber);var y=De(De({},o.styles.root),o.style),v=Object.keys(s).filter(function(S){return S.startsWith("data-")}).reduce(function(S,k){var C;return De(De({},S),(C={},C[k]=s[k],C))},{}),w=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:zU;return a.jsx("div",De({className:m.join(" "),style:y,dir:o.dir,id:o.id,nonce:s.nonce,title:s.title,lang:s.lang},v,{children:a.jsx(w,{children:c.displayMonths.map(function(S,k){return a.jsx($U,{displayIndex:k,displayMonth:S},k)})})}))}function WU(e){var t=e.children,n=fB(e,["children"]);return a.jsx(TB,{initialProps:n,children:a.jsx(VB,{children:a.jsx(jU,{initialProps:n,children:a.jsx(JB,{initialProps:n,children:a.jsx(eU,{initialProps:n,children:a.jsx(lU,{children:a.jsx(wU,{children:t})})})})})})})}function BU(e){return a.jsx(WU,De({},e,{children:a.jsx(VU,{initialProps:e})}))}function Ea({className:e,classNames:t,showOutsideDays:n=!0,...s}){return a.jsx(BU,{showOutsideDays:n,className:pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(jh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:pe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:pe(jh({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:o,...l})=>a.jsx(ml,{className:pe("h-4 w-4",o),...l}),IconRight:({className:o,...l})=>a.jsx(ja,{className:pe("h-4 w-4",o),...l})},...s})}Ea.displayName="Calendar";var ku="Popover",[MC,_9]=dr(ku,[Us]),Il=Us(),[UU,Ks]=MC(ku),PC=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,u=Il(t),f=g.useRef(null),[p,m]=g.useState(!1),[y,v]=ts({prop:s,defaultProp:o??!1,onChange:l,caller:ku});return a.jsx(Xd,{...u,children:a.jsx(UU,{scope:t,contentId:Bn(),triggerRef:f,open:y,onOpenChange:v,onOpenToggle:g.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:p,onCustomAnchorAdd:g.useCallback(()=>m(!0),[]),onCustomAnchorRemove:g.useCallback(()=>m(!1),[]),modal:c,children:n})})};PC.displayName=ku;var TC="PopoverAnchor",HU=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=Ks(TC,n),l=Il(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return g.useEffect(()=>(c(),()=>u()),[c,u]),a.jsx(xl,{...l,...s,ref:t})});HU.displayName=TC;var DC="PopoverTrigger",AC=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=Ks(DC,n),l=Il(n),c=nt(t,o.triggerRef),u=a.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":FC(o.open),...s,ref:c,onClick:ye(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:a.jsx(xl,{asChild:!0,...l,children:u})});AC.displayName=DC;var Vg="PopoverPortal",[YU,GU]=MC(Vg,{forceMount:void 0}),RC=e=>{const{__scopePopover:t,forceMount:n,children:s,container:o}=e,l=Ks(Vg,t);return a.jsx(YU,{scope:t,forceMount:n,children:a.jsx(Nn,{present:n||l.open,children:a.jsx(Fi,{asChild:!0,container:o,children:s})})})};RC.displayName=Vg;var _i="PopoverContent",IC=g.forwardRef((e,t)=>{const n=GU(_i,e.__scopePopover),{forceMount:s=n.forceMount,...o}=e,l=Ks(_i,e.__scopePopover);return a.jsx(Nn,{present:s||l.open,children:l.modal?a.jsx(qU,{...o,ref:t}):a.jsx(XU,{...o,ref:t})})});IC.displayName=_i;var KU=Ls("PopoverContent.RemoveScroll"),qU=g.forwardRef((e,t)=>{const n=Ks(_i,e.__scopePopover),s=g.useRef(null),o=nt(t,s),l=g.useRef(!1);return g.useEffect(()=>{const c=s.current;if(c)return Vd(c)},[]),a.jsx(yl,{as:KU,allowPinchZoom:!0,children:a.jsx(OC,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),XU=g.forwardRef((e,t)=>{const n=Ks(_i,e.__scopePopover),s=g.useRef(!1),o=g.useRef(!1);return a.jsx(OC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),OC=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,...y}=e,v=Ks(_i,n),w=Il(n);return $d(),a.jsx(gl,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(Li,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Jd,{"data-state":FC(v.open),role:"dialog",id:v.contentId,...w,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LC="PopoverClose",JU=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=Ks(LC,n);return a.jsx(Ie.button,{type:"button",...s,ref:t,onClick:ye(e.onClick,()=>o.onOpenChange(!1))})});JU.displayName=LC;var QU="PopoverArrow",ZU=g.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,o=Il(n);return a.jsx(Qd,{...o,...s,ref:t})});ZU.displayName=QU;function FC(e){return e?"open":"closed"}var e7=PC,t7=AC,n7=RC,$C=IC;const Jr=e7,Qr=t7,Er=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},o)=>a.jsx(n7,{children:a.jsx($C,{ref:o,align:t,sideOffset:n,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Er.displayName=$C.displayName;var Nu="Checkbox",[r7,E9]=dr(Nu),[s7,Wg]=r7(Nu);function a7(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:o,disabled:l,form:c,name:u,onCheckedChange:f,required:p,value:m="on",internal_do_not_use_render:y}=e,[v,w]=ts({prop:n,defaultProp:o??!1,onChange:f,caller:Nu}),[S,k]=g.useState(null),[C,b]=g.useState(null),N=g.useRef(!1),_=S?!!c||!!S.closest("form"):!0,E={checked:v,disabled:l,setChecked:w,control:S,setControl:k,name:u,form:c,value:m,hasConsumerStoppedPropagationRef:N,required:p,defaultChecked:Is(o)?!1:o,isFormControl:_,bubbleInput:C,setBubbleInput:b};return a.jsx(s7,{scope:t,...E,children:i7(y)?y(E):s})}var zC="CheckboxTrigger",VC=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},o)=>{const{control:l,value:c,disabled:u,checked:f,required:p,setControl:m,setChecked:y,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:S}=Wg(zC,e),k=nt(o,m),C=g.useRef(f);return g.useEffect(()=>{const b=l==null?void 0:l.form;if(b){const N=()=>y(C.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[l,y]),a.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Is(f)?"mixed":f,"aria-required":p,"data-state":YC(f),"data-disabled":u?"":void 0,disabled:u,value:c,...s,ref:k,onKeyDown:ye(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ye(n,b=>{y(N=>Is(N)?!0:!N),S&&w&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})})});VC.displayName=zC;var Bg=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:l,required:c,disabled:u,value:f,onCheckedChange:p,form:m,...y}=e;return a.jsx(a7,{__scopeCheckbox:n,checked:o,defaultChecked:l,disabled:u,required:c,onCheckedChange:p,name:s,form:m,value:f,internal_do_not_use_render:({isFormControl:v})=>a.jsxs(a.Fragment,{children:[a.jsx(VC,{...y,ref:t,__scopeCheckbox:n}),v&&a.jsx(HC,{__scopeCheckbox:n})]})})});Bg.displayName=Nu;var WC="CheckboxIndicator",BC=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,l=Wg(WC,n);return a.jsx(Nn,{present:s||Is(l.checked)||l.checked===!0,children:a.jsx(Ie.span,{"data-state":YC(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});BC.displayName=WC;var UC="CheckboxBubbleInput",HC=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:c,required:u,disabled:f,name:p,value:m,form:y,bubbleInput:v,setBubbleInput:w}=Wg(UC,e),S=nt(n,w),k=Bj(l),C=mj(s);g.useEffect(()=>{const N=v;if(!N)return;const _=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(_,"checked").set,O=!o.current;if(k!==l&&P){const A=new Event("click",{bubbles:O});N.indeterminate=Is(l),P.call(N,Is(l)?!1:l),N.dispatchEvent(A)}},[v,k,l,o]);const b=g.useRef(Is(l)?!1:l);return a.jsx(Ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??b.current,required:u,disabled:f,name:p,value:m,form:y,...t,tabIndex:-1,ref:S,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});HC.displayName=UC;function i7(e){return typeof e=="function"}function Is(e){return e==="indeterminate"}function YC(e){return Is(e)?"indeterminate":e?"checked":"unchecked"}const An=g.forwardRef(({className:e,...t},n)=>a.jsx(Bg,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(BC,{className:pe("flex items-center justify-center text-current"),children:a.jsx(Di,{className:"h-4 w-4"})})}));An.displayName=Bg.displayName;const o7={nl:bu,es:vu,fr:xu,de:yu,it:wu,pt:ju,en:void 0},lb=({value:e,onChange:t,placeholder:n})=>{const[s,o]=g.useState(!1),[l,c]=g.useState("HOUR"),[u,f]=g.useState("09"),{t:p}=Je(),m=Array.from({length:24},(S,k)=>k.toString().padStart(2,"0")),y=["00","05","10","15","20","25","30","35","40","45","50","55"];g.useEffect(()=>{if(e){const[S]=e.split(":");f(S)}else f("09")},[e]),g.useEffect(()=>{s||setTimeout(()=>c("HOUR"),150)},[s]);const v=S=>{f(S),c("MINUTE")},w=S=>{const k=`${u}:${S}`;t(k),o(!1)};return a.jsxs(Jr,{open:s,onOpenChange:o,children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",className:"justify-start text-left font-normal",children:[a.jsx(mh,{className:"mr-2 h-4 w-4"}),e||n]})}),a.jsxs(Er,{className:"w-72 p-2",children:[l==="HOUR"&&a.jsxs("div",{children:[a.jsx("div",{className:"text-center font-medium mb-2",children:p("selectHour")||"Select Hour"}),a.jsx("div",{className:"grid grid-cols-6 gap-1",children:m.map(S=>a.jsx(se,{variant:S===u?"default":"ghost",size:"sm",className:"text-center",onClick:()=>v(S),children:S},S))})]}),l==="MINUTE"&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-center font-medium mb-2 text-lg",children:[u,":__"]}),a.jsx("div",{className:"grid grid-cols-4 gap-1 max-h-40 overflow-y-auto",children:y.map(S=>a.jsx(se,{variant:"outline",size:"sm",className:"text-sm",onClick:()=>w(S),children:S},S))}),a.jsx(se,{variant:"link",size:"sm",onClick:()=>c("HOUR"),className:"w-full mt-2",children:p("backToHours")||"Back to hours"})]})]})]})},l7=async(e,t,n)=>{if(!e.title&&!e.description)return{suggestedTasks:[],aiMessage:""};try{const o=(await Aa({prompt:`You are a family assistant. Analyze the event below. List all potential preparation tasks as a simple, comma-separated list.
            
Event: "${e.title}" - "${e.description}"
Language for tasks: ${n}

Examples:
- Event: "Birthday party" -> "Buy gift, Clean the house, Bake a cake"
- Event: "Visit mother-in-law" -> "Buy flowers"
- Event: "Diner met vrienden" -> "Boodschappen doen, Huis schoonmaken"

If no tasks are needed, return an empty string.`,response_json_schema:{type:"object",properties:{task_titles:{type:"string",description:"A comma-separated list of task titles."}},required:["task_titles"]}})).task_titles;if(!o)return{suggestedTasks:[],aiMessage:"Geen specifieke voorbereidende taken gevonden voor dit evenement."};const l=o.split(",").map(m=>m.trim()).filter(Boolean);if(l.length===0)return{suggestedTasks:[],aiMessage:"Geen specifieke voorbereidende taken gevonden voor dit evenement."};const c=new Date(e.start_time),u=new Date(c);u.setDate(c.getDate()-3);const f=u.toISOString().split("T")[0];return{suggestedTasks:l.map(m=>({title:m,description:`Voorbereidende taak voor het evenement: "${e.title}"`,due_date:f,assigned_to:[]})),aiMessage:"Ik heb de volgende voorbereidende taken voorgesteld voor uw evenement. Controleer en bevestig alstublieft."}}catch(s){return console.error("AI analysis error:",s),{suggestedTasks:[],aiMessage:"Er is een fout opgetreden bij het analyseren van het evenement."}}},c7=async(e,t)=>{if(!e.title)return null;try{return(await Aa({prompt:`Based on the following event details, generate a very short, 2-3 word summary title suitable for a compact calendar view.
            
            Event Title: "${e.title}"
            Description: "${e.description}"
            
            Examples:
            - Title: "Verjaardagsfeestje van Anna bij ons thuis", Desc: "We vieren Anna's 10e verjaardag met taart en spelletjes." -> "Verjaardag Anna"
            - Title: "Tandartsafspraak voor Timmy", Desc: "Halfjaarlijkse controle" -> "Tandarts Timmy"
            - Title: "Boodschappen doen voor het weekend", Desc: "" -> "Boodschappen"
            
            The response should be concise and in the language: ${t}.`,response_json_schema:{type:"object",properties:{short_title:{type:"string",description:`A 2-3 word summary of the event in ${t}.`}},required:["short_title"]}})).short_title}catch(n){return console.error("AI short title generation error:",n),null}};function Cu({isOpen:e,onClose:t,onSave:n,onDelete:s,familyMembers:o,initialData:l=null,selectedDate:c=null,selectedHour:u=null,preselectedMemberId:f=null,userLoaded:p=!0}){const{t:m,currentLanguage:y}=Je(),{toast:v}=Yt(),[w,S]=g.useState(!1),[k,C]=g.useState(!1),[b,N]=g.useState({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",family_member_ids:[],category:"other",location:"",priority:"medium",is_recurring:!1,recurrence_pattern:"weekly"}),[_,E]=g.useState(!1),P=g.useMemo(()=>o7[y]||void 0,[y]),O=l&&l.recurrence_id&&!l.is_series_exception;g.useEffect(()=>{if(e)if(l){const $=new Date(l.start_time),K=new Date(l.end_time);N({title:l.title||"",description:l.description||"",start_date:xe($,"yyyy-MM-dd"),start_time:xe($,"HH:mm"),end_date:xe(K,"yyyy-MM-dd"),end_time:xe(K,"HH:mm"),family_member_ids:l.family_member_ids||[],category:l.category||"other",location:l.location||"",priority:l.priority||"medium",is_recurring:l.is_recurring||!1,recurrence_pattern:l.recurrence_pattern||"weekly"}),C(!1)}else{const $=new Date;let K=c?new Date(c):new Date;if(u!==null)K.setHours(u,0,0,0);else{const R=$.getHours()+1;K.setHours(R,0,0,0)}const Y=b6(K,1),Q=f?[f]:[];N({title:"",description:"",start_date:xe(K,"yyyy-MM-dd"),start_time:xe(K,"HH:mm"),end_date:xe(Y,"yyyy-MM-dd"),end_time:xe(Y,"HH:mm"),family_member_ids:Q,category:"other",location:"",priority:"medium",is_recurring:!1,recurrence_pattern:"weekly"}),C(!1)}},[e,l,c,u,f]);const A=async $=>{if($.preventDefault(),O&&!k){C(!0);return}S(!0),E(!0);try{const K=new Date(`${b.start_date}T${b.start_time}`),Y=new Date(`${b.end_date}T${b.end_time}`);let Q={...b,start_time:K.toISOString(),end_time:Y.toISOString()};if((!l||!l.id)&&!Q.family_id){const L=await tt.me();L&&L.family_id&&(Q.family_id=L.family_id)}const te=await c7(Q,y);te&&(Q.short_title=te);const R=await l7(Q,o,y);n(Q,R,l&&k?"series":"single")}catch(K){console.error("Error processing event:",K),v({title:m("processingFailed")||"Processing failed",description:m("unexpectedErrorOccurred")||"An unexpected error occurred. Please try again.",variant:"destructive",duration:5e3})}finally{S(!1),E(!1)}},I=()=>{l&&s?(console.log("[FamlyAI] handleDelete called in EventDialog",l),s(l)):console.warn("[FamlyAI] handleDelete not called: missing initialData or onDelete",{initialData:l,onDelete:s})},z=($,K)=>{N(Y=>{const Q={...Y,[$]:K};if($==="start_time"&&K){const[te,R]=K.split(":"),G=`${((parseInt(te,10)+1)%24).toString().padStart(2,"0")}:${R}`;Q.end_time=G}if($==="start_date"&&K){const te=new Date(K),R=Y.end_date?new Date(Y.end_date):null;(!R||te>R)&&(Q.end_date=K)}return Q})},W=$=>{N(K=>({...K,family_member_ids:(K.family_member_ids||[]).includes($)?(K.family_member_ids||[]).filter(Y=>Y!==$):[...K.family_member_ids||[],$]}))},H=$=>{N(K=>({...K,family_member_ids:(K.family_member_ids||[]).filter(Y=>Y!==$)}))};return a.jsx(pu,{open:e,onOpenChange:t,children:a.jsxs(Ml,{className:"sm:max-w-lg max-h-[85vh] flex flex-col",children:[_&&a.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-white/80",children:[a.jsx(At,{className:"w-8 h-8 mr-2 animate-spin text-blue-600"}),a.jsx("div",{className:"mt-2 text-blue-700 font-semibold text-lg",children:"FamlyAI is trying to help..."})]}),a.jsx(Pl,{className:"flex-shrink-0",children:a.jsxs(Tl,{className:"flex items-center gap-2 text-lg font-semibold",children:[a.jsx(mn,{className:"w-5 h-5"}),l&&l.id?m("editEvent")||"Edit event":m("addNewEvent")||"Add new event",O&&a.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:[a.jsx(Wo,{className:"w-3 h-3"}),m("recurring")||"Recurring"]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[k&&O&&a.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(yp,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"font-medium text-amber-800",children:m("editRecurringEvent")||"Edit Recurring Event"})]}),a.jsx("p",{className:"text-sm text-amber-700 mb-3",children:m("editRecurringDescription")||"You are editing a recurring event. What would you like to do?"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{variant:"outline",size:"sm",onClick:()=>{n({...b,start_time:new Date(`${b.start_date}T${b.start_time}`).toISOString(),end_time:new Date(`${b.end_date}T${b.end_time}`).toISOString()},null,"single"),C(!1)},children:m("editThisEvent")||"Edit this event only"}),a.jsx(se,{size:"sm",onClick:()=>{n({...b,start_time:new Date(`${b.start_date}T${b.start_time}`).toISOString(),end_time:new Date(`${b.end_date}T${b.end_time}`).toISOString()},null,"series"),C(!1)},children:m("editAllEvents")||"Edit all events in series"})]})]}),a.jsxs("form",{onSubmit:A,className:"space-y-4 p-1",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"title",children:m("eventTitle")||"Event title"}),a.jsx(He,{id:"title",value:b.title,onChange:$=>z("title",$.target.value),placeholder:m("enterEventTitle")||"Enter event title",required:!0})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"description",children:m("description")||"Description"}),a.jsx(Hi,{id:"description",value:b.description,onChange:$=>z("description",$.target.value),placeholder:m("addEventDetails")||"Add event details...",rows:3})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(et,{children:m("startDateTime")||"Start date & time"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Jr,{children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",className:"justify-start text-left font-normal",children:[a.jsx(mn,{className:"mr-2 h-4 w-4"}),b.start_date?xe(new Date(b.start_date),"PPP",{locale:P}):m("selectDate")||"Select date"]})}),a.jsx(Er,{className:"w-auto p-0",children:a.jsx(Ea,{mode:"single",selected:b.start_date?new Date(b.start_date):void 0,onSelect:$=>z("start_date",$?xe($,"yyyy-MM-dd"):""),initialFocus:!0})})]}),a.jsx(lb,{value:b.start_time,onChange:$=>z("start_time",$),placeholder:m("selectTime")||"Select time"})]})]}),a.jsxs("div",{children:[a.jsx(et,{children:m("endDateTime")||"End date & time"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Jr,{children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",className:"justify-start text-left font-normal",children:[a.jsx(mn,{className:"mr-2 h-4 w-4"}),b.end_date?xe(new Date(b.end_date),"PPP",{locale:P}):m("selectDate")||"Select date"]})}),a.jsx(Er,{className:"w-auto p-0",children:a.jsx(Ea,{mode:"single",selected:b.end_date?new Date(b.end_date):void 0,onSelect:$=>z("end_date",$?xe($,"yyyy-MM-dd"):""),initialFocus:!0})})]}),a.jsx(lb,{value:b.end_time,onChange:$=>z("end_time",$),placeholder:m("selectTime")||"Select time"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(An,{id:"is_recurring",checked:b.is_recurring,onCheckedChange:$=>z("is_recurring",$)}),a.jsxs(et,{htmlFor:"is_recurring",className:"flex items-center gap-2",children:[a.jsx(Wo,{className:"w-4 h-4"}),m("recurringEvent")||"Recurring event"]})]}),b.is_recurring&&a.jsxs(sn,{value:b.recurrence_pattern,onValueChange:$=>z("recurrence_pattern",$),children:[a.jsx(Xt,{children:a.jsx(an,{placeholder:m("selectRecurrence")||"Select recurrence"})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"daily",children:m("daily")||"Daily"}),a.jsx(_e,{value:"weekly",children:m("weekly")||"Weekly"}),a.jsx(_e,{value:"monthly",children:m("monthly")||"Monthly"}),a.jsx(_e,{value:"yearly",children:m("yearly")||"Yearly"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{children:m("assignToMembers")||"Assign to members"}),(b.family_member_ids||[]).length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(b.family_member_ids||[]).map($=>{const K=o==null?void 0:o.find(Y=>Y.id===$);return K?a.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K.color}}),K.name,a.jsx("button",{type:"button",onClick:()=>H(K.id),className:"ml-1 hover:bg-blue-200 rounded-full p-0.5",children:a.jsx(Os,{className:"w-3 h-3"})})]},K.id):null})}),a.jsxs(Jr,{children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[a.jsx(rr,{className:"mr-2 h-4 w-4"}),(b.family_member_ids||[]).length===0?m("assignToDefault")||"Assign to (default: all)":(b.family_member_ids||[]).length===1?m("membersSelectedOne")||"1 member selected":m("membersSelectedMany",{count:(b.family_member_ids||[]).length})||`${(b.family_member_ids||[]).length} members selected`]})}),a.jsx(Er,{className:"w-64 p-3",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"font-medium",children:[m("selectMembers")||"Select members",":"]}),o==null?void 0:o.filter($=>$.role!=="ai_assistant").map($=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(An,{id:`member-${$.id}`,checked:(b.family_member_ids||[]).includes($.id),onCheckedChange:()=>W($.id)}),a.jsxs("label",{htmlFor:`member-${$.id}`,className:"flex items-center gap-2 font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:$.color}}),$.name]})]},$.id)),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:m("assignToAllHint")||"Leave empty to assign to all family members."})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"category",children:m("category")||"Category"}),a.jsxs(sn,{value:b.category,onValueChange:$=>z("category",$),children:[a.jsx(Xt,{children:a.jsx(an,{placeholder:m("selectCategory")||"Select category"})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"school",children:m("school")||"School"}),a.jsx(_e,{value:"work",children:m("work")||"Work"}),a.jsx(_e,{value:"sports",children:m("sports")||"Sports"}),a.jsx(_e,{value:"medical",children:m("medical")||"Medical"}),a.jsx(_e,{value:"social",children:m("social")||"Social"}),a.jsx(_e,{value:"family",children:m("family")||"Family"}),a.jsx(_e,{value:"other",children:m("other")||"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"priority",children:m("priority")||"Priority"}),a.jsxs(sn,{value:b.priority,onValueChange:$=>z("priority",$),children:[a.jsx(Xt,{children:a.jsx(an,{placeholder:m("selectPriority")||"Select priority"})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"low",children:m("low")||"Low"}),a.jsx(_e,{value:"medium",children:m("medium")||"Medium"}),a.jsx(_e,{value:"high",children:m("high")||"High"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"location",children:m("location")||"Location"}),a.jsx(He,{id:"location",value:b.location,onChange:$=>z("location",$.target.value),placeholder:m("enterLocation")||"Enter location"})]}),a.jsxs("div",{className:"flex justify-between gap-3 pt-4 border-t pb-4",children:[a.jsxs("div",{className:"flex gap-2",children:[s&&l&&(typeof l.id=="string"?l.id.trim()!=="":l.id!==void 0&&l.id!==null)&&a.jsxs(se,{type:"button",variant:"destructive",onClick:I,className:"gap-1",children:[a.jsx(es,{className:"w-4 h-4"})," ",m("deleteEvent")||"Delete event"]}),l&&l.id&&a.jsxs(se,{type:"button",variant:"secondary",onClick:async()=>{try{S(!0),await it.toTask(l.id),await it.delete(l.id),typeof window<"u"&&(window!=null&&window.famlyToast)&&window.famlyToast.success(m("eventConvertedToTask")||"Event converted to task!"),t&&t()}catch{typeof window<"u"&&(window!=null&&window.famlyToast)&&window.famlyToast.error(m("eventConvertToTaskFailed")||"Failed to convert event to task.")}finally{S(!1)}},disabled:w,className:"gap-1",children:[a.jsx(Wo,{className:"w-4 h-4"})," ",m("convertToTask")||"Convert to Task"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(se,{type:"button",variant:"outline",onClick:()=>{t(),C(!1)},children:m("cancel")||"Cancel"}),a.jsxs(se,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:w||!p,children:[w?a.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):null,k?m("selectOption")||"Select Option":l?m("update")||"Update":m("create")||"Create"]})]})]})]})]})]})})}const d7=e=>{if(e.event_type==="birthday")return{Icon:rP,color:"#ec4899"};const t={school:{Icon:OP,color:"#3b82f6"},work:{Icon:Wb,color:"#8b5cf6"},sports:{Icon:zP,color:"#22c55e"},medical:{Icon:AT,color:"#ef4444"},social:{Icon:bP,color:"#ec4899"},family:{Icon:vi,color:"#f97316"},other:{Icon:BP,color:"#6b7280"}};return t[e.category]||t.other};function u7({events:e,familyMembers:t}){const[n,s]=g.useState(!1),[o,l]=g.useState(null),c=_t(),{t:u}=Je(),{toast:f}=Yt(),p=window.__famly_reload||(()=>{}),m=()=>{const S=new Date,k=S.getFullYear(),C=String(S.getMonth()+1).padStart(2,"0"),b=String(S.getDate()).padStart(2,"0"),N=`${k}-${C}-${b}T09:00:00`,_=`${k}-${C}-${b}T10:00:00`;l({start_time:N,end_time:_}),s(!0)},y=()=>s(!1),v=async S=>{try{const k=JSON.parse(localStorage.getItem("famlyai_user"));if(!k)throw new Error("User not loaded");let C={...S,family_id:k.family_id};await it.create(C),f({title:u("eventCreated")||"Event created",description:C.title,duration:5e3}),s(!1),typeof p=="function"&&p()}catch(k){f({title:u("errorSavingEvent")||"Error saving event",description:k.message,variant:"destructive",duration:5e3})}},w=()=>s(!1);return a.jsx(Fe,{id:"upcoming-events-card",className:"h-full",children:a.jsxs($e,{className:"p-4",children:[n&&a.jsx(Cu,{isOpen:n,onClose:y,onSave:v,onDelete:w,familyMembers:t,initialData:o&&o.id?{...o,id:void 0}:o}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mn,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:u("upcomingEvents")})]}),a.jsx(se,{variant:"outline",size:"icon",className:"h-6 w-6 p-0 border-blue-200 text-blue-600 hover:bg-blue-50",onClick:m,children:"+"})]}),a.jsx("div",{className:"space-y-3",children:e.length>0?e.map(S=>{const{Icon:k,color:C}=d7(S),b=!S.family_member_ids||S.family_member_ids.length===0||t.length>0&&S.family_member_ids.length===t.length,N=b?null:t.find(_=>_.id===S.family_member_ids[0]);return a.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg transition-colors hover:bg-gray-50/50",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${b?"#64748b":C}1A`,color:b?"#64748b":C},children:a.jsx(k,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm text-gray-800 break-words",children:S.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:xe(ze(S.start_time),"MMM d, p")}),b?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(vi,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:"break-words",children:u("allFamily")})]})]}):N&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:N.color}}),a.jsx("span",{className:"break-words",children:N.name})]})]})]})]})]},S.id)}):a.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:u("noUpcomingEvents")})}),a.jsx("div",{className:"flex gap-2 mt-4",children:a.jsxs(se,{variant:"ghost",size:"sm",className:"w-full text-blue-600 hover:text-blue-700",onClick:()=>c(Oe("Schedule")),children:[u("viewFullSchedule")," ",a.jsx(pp,{className:"w-4 h-4 ml-2"})]})})]})})}const f7="modulepreload",m7=function(e){return"/"+e},cb={},ap=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(n.map(p=>{if(p=m7(p),p in cb)return;cb[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":f7,m||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((w,S)=>{v.addEventListener("load",w),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function GC({isOpen:e,onClose:t,task:n,onSave:s,familyMembers:o,busy:l=!1,inferring:c=!1,saving:u=!1}){var C;const{t:f}=Je(),p={title:"",description:"",status:"todo",priority:"medium",category:"personal",assigned_to:[],due_date:"",estimated_duration:30,points:5,is_recurring:!1,recurrence_pattern:"weekly"},[m,y]=g.useState(p);g.useEffect(()=>{e&&y(n?{title:n.title??"",description:n.description??"",status:n.status??"todo",priority:n.priority??"medium",category:n.category??"personal",assigned_to:n.assigned_to??[],due_date:n.due_date??"",estimated_duration:n.estimated_duration??30,points:n.points??5,is_recurring:n.is_recurring??!1,recurrence_pattern:n.recurrence_pattern??"weekly"}:p)},[e,n]);const v=b=>{b.preventDefault(),!l&&s(m)},w=b=>{y(N=>({...N,assigned_to:N.assigned_to.includes(b)?N.assigned_to.filter(_=>_!==b):[...N.assigned_to,b]}))},S=b=>{y(N=>({...N,assigned_to:N.assigned_to.filter(_=>_!==b)}))},k=()=>{var b;return(b=m.assigned_to)!=null&&b.length?f("membersSelected",{count:m.assigned_to.length}):f("assignToDefault")};return a.jsx(pu,{open:e,onOpenChange:t,children:a.jsxs(Ml,{className:"sm:max-w-lg max-h-[85vh] flex flex-col",children:[a.jsxs(Pl,{children:[a.jsx(Tl,{children:f(n?"editTask":"createNewTask")}),l&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-center gap-2",children:[a.jsx(At,{className:"h-4 w-4 animate-spin"}),c?f("task.inferencingDueDate")||"Analyzing task title for a due date":f("task.savingTask")||"Saving task"]})]}),a.jsxs("form",{id:"task-form",onSubmit:v,className:"flex-1 overflow-y-auto pr-2 space-y-4 p-1","aria-busy":l,children:[a.jsx(He,{placeholder:f("taskPlaceholder"),value:m.title,onChange:b=>y({...m,title:b.target.value}),className:"text-lg",required:!0,disabled:l}),a.jsx(Hi,{placeholder:f("addDetails"),value:m.description,onChange:b=>y({...m,description:b.target.value}),className:"h-24",disabled:l}),a.jsxs("div",{children:[a.jsx(et,{children:f("assignToMembers")}),((C=m.assigned_to)==null?void 0:C.length)>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.assigned_to.map(b=>{const N=o==null?void 0:o.find(_=>_.id===b);return N?a.jsxs(jn,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.color}}),N.name,a.jsx("button",{type:"button",onClick:()=>!l&&S(b),className:"ml-1 hover:bg-gray-200 rounded-full p-0.5 disabled:opacity-50",disabled:l,children:a.jsx(Os,{className:"w-3 h-3"})})]},b):null})}),a.jsxs(Jr,{children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:l,children:[a.jsx(rr,{className:"mr-2 h-4 w-4"}),k()]})}),a.jsx(Er,{className:"w-64 p-3",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"font-medium text-sm",children:[f("selectMembers"),":"]}),o==null?void 0:o.filter(b=>b.role!=="ai_assistant").map(b=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(An,{id:`task-member-${b.id}`,checked:m.assigned_to.includes(b.id),onCheckedChange:()=>w(b.id),disabled:l}),a.jsxs("label",{htmlFor:`task-member-${b.id}`,className:"flex items-center gap-2 text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b.color}}),b.name]})]},b.id)),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:f("leaveEmptyHint")})]})})]})]}),a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsxs(sn,{value:m.priority,onValueChange:b=>y({...m,priority:b}),disabled:l,children:[a.jsx(Xt,{className:"w-32",children:a.jsx(an,{placeholder:f("priority")})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"low",children:f("low")}),a.jsx(_e,{value:"medium",children:f("medium")}),a.jsx(_e,{value:"high",children:f("high")})]})]}),a.jsxs(sn,{value:m.category,onValueChange:b=>y({...m,category:b}),disabled:l,children:[a.jsx(Xt,{className:"w-32",children:a.jsx(an,{placeholder:f("category")})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"chores",children:f("chores")}),a.jsx(_e,{value:"homework",children:f("homework")}),a.jsx(_e,{value:"shopping",children:f("shopping")}),a.jsx(_e,{value:"errands",children:f("errands")}),a.jsx(_e,{value:"personal",children:f("personal")}),a.jsx(_e,{value:"family",children:f("family")})]})]}),a.jsxs(Jr,{children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",disabled:l,children:[a.jsx(mn,{className:"mr-2 h-4 w-4"}),m.due_date?xe(new Date(m.due_date),"PPP"):f("setDueDate")]})}),a.jsx(Er,{className:"w-auto p-0",children:a.jsx(Ea,{mode:"single",selected:m.due_date?new Date(m.due_date):void 0,onSelect:b=>y({...m,due_date:b?b.toISOString():""}),disabled:l})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(An,{id:"task_is_recurring",checked:m.is_recurring,onCheckedChange:b=>y({...m,is_recurring:!!b}),disabled:l}),a.jsxs(et,{htmlFor:"task_is_recurring",className:"flex items-center gap-2",children:[a.jsx(Wo,{className:"w-4 h-4"}),f("recurringTask")]})]}),m.is_recurring&&a.jsxs(sn,{value:m.recurrence_pattern,onValueChange:b=>y({...m,recurrence_pattern:b}),disabled:l,children:[a.jsx(Xt,{children:a.jsx(an,{placeholder:f("selectRecurrence")})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"daily",children:f("daily")}),a.jsx(_e,{value:"weekly",children:f("weekly")}),a.jsx(_e,{value:"monthly",children:f("monthly")}),a.jsx(_e,{value:"yearly",children:f("yearly")})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"duration",children:f("estimatedDuration")}),a.jsx(He,{id:"duration",type:"number",value:m.estimated_duration,onChange:b=>y({...m,estimated_duration:parseInt(b.target.value)||0}),min:"0",disabled:l})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"points",children:f("points")}),a.jsx(He,{id:"points",type:"number",value:m.points,onChange:b=>y({...m,points:parseInt(b.target.value)||0}),min:"0",disabled:l})]})]})]}),a.jsxs(gu,{className:"flex-shrink-0 pt-4 gap-2",children:[a.jsx(se,{type:"button",variant:"outline",onClick:t,disabled:l,children:f("cancel")}),n&&n.id&&a.jsxs(se,{type:"button",variant:"secondary",onClick:async()=>{var b,N,_;try{typeof window<"u"&&((b=window.famlyToast)==null||b.info(f("convertingTaskToEvent")||"Converting task to event...")),await ap(()=>Promise.resolve().then(()=>bh),[]).then(async({Task:E})=>{await E.toEvent(n.id),await E.delete(n.id)}),typeof window<"u"&&((N=window.famlyToast)==null||N.success(f("taskConvertedToEvent")||"Task converted to event!")),t&&t()}catch{typeof window<"u"&&((_=window.famlyToast)==null||_.error(f("taskConvertToEventFailed")||"Failed to convert task to event."))}},disabled:l,className:"gap-1",children:[a.jsx(Wo,{className:"w-4 h-4"})," ",f("convertToEvent")||"Convert to Event"]}),a.jsx(se,{type:"submit",form:"task-form",className:"bg-blue-600 hover:bg-blue-700",disabled:l,children:l?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(At,{className:"h-4 w-4 animate-spin"}),c?f("analyzing")||"Analyzing":f("saving")||"Saving"]}):f(n?"updateTask":"createTask")})]})]})})}function h7({tasks:e,familyMembers:t}){const[n,s]=g.useState(!1),[o,l]=g.useState(null),c=_t(),{t:u}=Je(),{toast:f}=Yt(),p=window.__famly_reload||(()=>{}),m=S=>{if(!S||S.length===0)return"#64748b";const k=t.find(C=>S.includes(C.id));return(k==null?void 0:k.color)||"#6366f1"},y=()=>{l(null),s(!0)},v=()=>s(!1),w=async S=>{try{const k=JSON.parse(localStorage.getItem("famlyai_user"));if(!k)throw new Error("User not loaded");let C={...S,family_id:k.family_id};await Dt.create(C),f({title:u("task.createdTitle")||"Task created",description:C.title,duration:5e3}),s(!1),typeof p=="function"&&p()}catch(k){f({title:u("errorSavingTask")||"Error saving task",description:k.message,variant:"destructive",duration:5e3})}};return a.jsx(Fe,{id:"upcoming-tasks-card",className:"h-full",children:a.jsxs($e,{className:"p-4",children:[n&&a.jsx(GC,{isOpen:n,onClose:v,onSave:w,familyMembers:t,task:o}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jb,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:u("upcomingTasks")})]}),a.jsx(se,{variant:"outline",size:"icon",className:"h-6 w-6 p-0 border-blue-200 text-blue-600 hover:bg-blue-50",onClick:y,children:"+"})]}),a.jsx("div",{className:"space-y-3",children:e.length>0?e.map(S=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1 h-full rounded-full mt-1",style:{backgroundColor:m(S.assigned_to),alignSelf:"stretch"}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-sm text-gray-800 break-words",children:S.title}),a.jsx("p",{className:"text-xs text-gray-500",children:S.due_date?`${u("due")} ${xe(ze(S.due_date),"P")}`:u("noDueDate")})]})]},S.id)):a.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:u("noUpcomingTasks")})}),a.jsx("div",{className:"flex gap-2 mt-4",children:a.jsxs(se,{variant:"ghost",size:"sm",className:"w-full text-blue-600 hover:text-blue-700",onClick:()=>c(Oe("Tasks")),children:[u("viewAllTasks")," ",a.jsx(pp,{className:"w-4 h-4 ml-2"})]})})]})})}const p7={nl:bu,es:vu,fr:xu,de:yu,it:wu,pt:ju,en:void 0},g7=({event:e,onEventClick:t,familyMembers:n})=>{var s;if(!((s=e.originalEvent)!=null&&s.start_time))return null;try{const o=ze(e.originalEvent.start_time);return a.jsxs("div",{className:"rounded p-1.5 mb-1 cursor-pointer hover:shadow-sm transition-all bg-white/90 border-l-2",style:{borderColor:e.assigneeColor||"#9ca3af"},onClick:l=>{l.stopPropagation(),t(e.originalEvent)},children:[a.jsx("div",{className:"text-xs font-semibold text-gray-800 leading-tight whitespace-normal",children:e.originalEvent.short_title||e.originalEvent.title||"Untitled Event"}),a.jsx("div",{className:"text-[11px] text-gray-600",children:xe(o,"HH:mm")})]})}catch(o){return console.error("Error parsing event dates:",o,e.originalEvent),null}};function KC({events:e,familyMembers:t,onEventClick:n,onTimeSlotClick:s,initialDate:o}){const[l,c]=g.useState(Rt(o||new Date,{weekStartsOn:1})),[u,f]=g.useState(!1),{t:p,currentLanguage:m}=Je(),y=g.useMemo(()=>p7[m]||void 0,[m]);g.useEffect(()=>{c(Rt(o||new Date,{weekStartsOn:1}))},[o]);const v=E=>{c(P=>E==="next"?Ws(P,1):Dg(P))},w=()=>{c(Rt(new Date,{weekStartsOn:1}))},S=E=>{c(Rt(E,{weekStartsOn:1})),f(!1)},k=g.useMemo(()=>Array.from({length:7}).map((E,P)=>Wt(l,P)),[l]),C=g.useMemo(()=>t.filter(E=>E&&E.role!=="ai_assistant"),[t]),b=g.useMemo(()=>[...C,{id:"family-unassigned",name:p("family")||"Family",color:"#64748b"}],[C,p]),N=g.useMemo(()=>{const E={},P={};for(const O of k){const A=xe(O,"yyyy-MM-dd");E[A]={},P[A]={};for(const z of b)E[A][z.id]=[],P[A][z.id]=[];const I=(e||[]).filter(z=>{if(!z.start_time||!z.end_time)return!1;try{const W=xe(ze(z.start_time),"yyyy-MM-dd"),H=xe(ze(z.end_time),"yyyy-MM-dd");return W<=A&&H>=A}catch(W){return console.error("Error parsing event start/end time for filtering:",W,z),!1}});for(const z of I){const W=xe(ze(z.start_time),"yyyy-MM-dd"),H=xe(ze(z.end_time),"yyyy-MM-dd"),$=W!==H,K=(Y,Q)=>{if(E[A][Y])if($){const te=k.findIndex(T=>xe(T,"yyyy-MM-dd")===W),R=k.findIndex(T=>xe(T,"yyyy-MM-dd")===H),D=k.findIndex(T=>xe(T,"yyyy-MM-dd")===A),L=Math.max(0,te),G=Math.min(6,R===-1?6:R);D===L&&P[A][Y].push({originalEvent:z,assigneeColor:Q,_spanStart:L,_spanEnd:G,_spanLength:G-L+1,_isMultiDay:!0})}else E[A][Y].push({originalEvent:z,assigneeColor:Q})};z.family_member_ids&&z.family_member_ids.length>0?z.family_member_ids.forEach(Y=>{const Q=C.find(te=>te.id===Y);Q&&K(Y,Q.color)}):K("family-unassigned","#64748b")}Object.keys(E[A]).forEach(z=>{try{E[A][z].sort((W,H)=>ze(W.originalEvent.start_time)-ze(H.originalEvent.start_time))}catch(W){console.error("Error sorting events for day "+A+" and member "+z+":",W)}})}return{grouped:E,multiDayEventsByMember:P}},[e,k,b,C]),_=(E,P)=>{let O=0;k.forEach(K=>{var te,R;const Y=xe(K,"yyyy-MM-dd"),Q=((R=(te=N.grouped[Y])==null?void 0:te[E])==null?void 0:R.length)||0;O=Math.max(O,Q)});const A=Object.values(P).flatMap(K=>K[E]||[]).filter((K,Y,Q)=>Y===Q.findIndex(te=>te.originalEvent.id===K.originalEvent.id)),I=A.length*28+(A.length>0?16:0),$=Math.max(60,O*50+10);return I+$};return a.jsxs(Fe,{className:"shadow-sm border-famly-accent bg-white flex flex-col",children:[a.jsx(Xe,{className:"py-3 px-4 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Jr,{open:u,onOpenChange:f,children:[a.jsx(Qr,{asChild:!0,children:a.jsx(se,{variant:"ghost",className:"text-lg font-semibold text-gray-700 p-1",children:xe(l,"MMMM yyyy",{locale:y})})}),a.jsx(Er,{className:"w-auto p-0",children:a.jsx(Ea,{mode:"single",selected:l,onSelect:S,initialFocus:!0})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"outline",size:"sm",onClick:w,children:p("today")}),a.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>v("prev"),children:a.jsx(ml,{className:"w-4 h-4"})}),a.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>v("next"),children:a.jsx(ja,{className:"w-4 h-4"})})]})]})}),a.jsx($e,{className:"p-0 flex-1 overflow-hidden",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"grid grid-cols-[64px_1fr_1fr_1fr_1fr_1fr_1fr_1fr] border-b border-famly-accent bg-gray-50/50 flex-shrink-0",children:[a.jsx("div",{className:"border-r border-famly-accent"}),k.map(E=>{const P=ll(E);return a.jsxs("div",{className:`p-1 text-center border-r border-famly-accent ${P?"bg-blue-50":""}`,children:[a.jsx("div",{className:`text-[10px] font-medium ${P?"text-blue-600":"text-gray-600"}`,children:xe(E,"E",{locale:y})}),a.jsxs("div",{className:`text-sm font-light ${P?"text-blue-700":"text-gray-800"}`,children:[xe(E,"d"),"."]})]},xe(E,"yyyy-MM-dd"))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:b.map(E=>{const P=_(E.id,N.multiDayEventsByMember),O=Object.values(N.multiDayEventsByMember).flatMap(A=>A[E.id]||[]).filter((A,I,z)=>I===z.findIndex(W=>W.originalEvent.id===A.originalEvent.id));return a.jsxs("div",{className:"relative",style:{height:`${P}px`},children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:O.map((A,I)=>a.jsx("div",{className:"absolute bg-blue-100 border border-blue-300 rounded p-1 cursor-pointer pointer-events-auto hover:bg-blue-200 transition-colors",style:{left:`calc(64px + ((100% - 64px) / 7 * ${A._spanStart}))`,width:`calc(((100% - 64px) / 7 * ${A._spanLength}))`,top:`${I*28+8}px`,height:"24px",borderLeftColor:A.assigneeColor,zIndex:20},onClick:z=>{z.stopPropagation(),n(A.originalEvent)},children:a.jsx("div",{className:"text-xs font-semibold truncate",style:{color:A.assigneeColor},children:A.originalEvent.short_title||A.originalEvent.title||"Untitled Event"})},`multi-${A.originalEvent.id}-${E.id}`))}),a.jsxs("div",{className:"grid grid-cols-[64px_1fr_1fr_1fr_1fr_1fr_1fr_1fr] border-b border-gray-200 h-full",style:{paddingTop:`${O.length*28+(O.length>0?16:0)}px`},children:[a.jsx("div",{className:"border-r border-famly-accent bg-gray-50/30 p-1 flex items-start pt-2",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),a.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:E.name})]})}),k.map(A=>{var H;const I=xe(A,"yyyy-MM-dd"),z=((H=N.grouped[I])==null?void 0:H[E.id])||[],W=ll(A);return a.jsx("div",{className:`border-r border-famly-accent p-1 hover:bg-gray-50/50 cursor-pointer transition-colors overflow-hidden ${W?"bg-blue-50/30":""}`,onClick:()=>s(A,9,E.id==="family-unassigned"?null:E.id),children:a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"space-y-1 p-1",children:[z.map(($,K)=>a.jsx(g7,{event:$,onEventClick:n,familyMembers:t},`${$.originalEvent.id}-${E.id}-${K}`)),z.length===0&&a.jsx("div",{className:"h-full flex items-center justify-center opacity-0 hover:opacity-30 transition-opacity",children:a.jsx(xi,{className:"w-3 h-3 text-gray-400"})})]})})},I)})]})]},E.id)})})]})})]})}const y7={nl:bu,es:vu,fr:xu,de:yu,it:wu,pt:ju,en:void 0},v7=({event:e,familyMembers:t})=>{const n=l=>{if(!l||l.length===0)return"#9ca3af";const c=t.find(u=>l.includes(u.id));return(c==null?void 0:c.color)||"#9ca3af"},s=ze(e.start_time),o=n(e.family_member_ids);return a.jsxs("div",{className:"rounded p-1 mb-1 bg-white/90 border-l-2",style:{borderColor:o},children:[a.jsx("div",{className:"text-xs font-semibold text-gray-800 leading-tight",children:e.short_title||e.title}),a.jsx("div",{className:"text-[10px] text-gray-600",children:xe(s,"HH:mm")})]})};function x7({events:e,familyMembers:t,onDayClick:n,onEventClick:s}){const[o,l]=g.useState(Rt(new Date,{weekStartsOn:1})),[c,u]=g.useState("weekly"),[f,p]=g.useState(!1),{t:m,currentLanguage:y}=Je(),v=_t(),w=g.useMemo(()=>y7[y]||void 0,[y]);g.useEffect(()=>{(async()=>{try{const N=await tt.me();N&&(N.dashboard_favorite_view?(u(N.dashboard_favorite_view),p(!0)):N.preferred_calendar_view&&u(N.preferred_calendar_view))}catch(N){console.warn("Could not load user preference for schedule preview:",N)}})()},[]);const S=b=>{l(N=>b==="next"?Ws(N,1):Dg(N))},k=g.useMemo(()=>Array.from({length:7}).map((b,N)=>Wt(o,N)),[o]),C=g.useMemo(()=>{const b={};return k.forEach(N=>{const _=xe(N,"yyyy-MM-dd");b[_]=(e||[]).filter(E=>xe(ze(E.start_time),"yyyy-MM-dd")===_).sort((E,P)=>ze(E.start_time)-ze(P.start_time))}),b},[e,k]);return a.jsxs(Fe,{className:"h-full border-famly-accent bg-white flex flex-col",children:[a.jsxs(Xe,{className:"pb-3 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(at,{className:"flex items-center gap-2 text-base font-semibold text-famly-text-primary",children:[a.jsx(mn,{className:"w-5 h-5 text-blue-500"}),m("weeklySchedule")||"Weekly Schedule"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>S("prev"),children:a.jsx(ml,{className:"w-3 h-3"})}),a.jsx(se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>S("next"),children:a.jsx(ja,{className:"w-3 h-3"})})]})]}),a.jsx("div",{className:"text-sm text-gray-600",children:xe(o,"MMMM yyyy",{locale:w})})]}),a.jsx($e,{className:"pt-0 flex-1 overflow-hidden",children:c==="weekly"?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200 flex-shrink-0",children:k.map(b=>{const N=ll(b);return a.jsxs("div",{className:`text-center py-1 border-r border-gray-200 last:border-r-0 ${N?"bg-blue-50":""}`,children:[a.jsx("div",{className:`text-[10px] font-medium ${N?"text-blue-600":"text-gray-500"}`,children:xe(b,"E",{locale:w})}),a.jsx("div",{className:`text-sm font-light ${N?"text-blue-700":"text-gray-800"}`,children:xe(b,"d")})]},b.toString())})}),a.jsx("div",{className:"grid grid-cols-7 flex-1",children:k.map(b=>{const N=xe(b,"yyyy-MM-dd"),_=C[N]||[];return a.jsx("div",{className:"border-r border-gray-200 last:border-r-0 p-1 overflow-hidden cursor-pointer group",onClick:E=>{n&&E.target===E.currentTarget&&n(b)},children:_.map((E,P)=>a.jsx("div",{onClick:O=>{O.stopPropagation(),s&&s(E)},children:a.jsx(v7,{event:E,familyMembers:t})},E.id||`${N}-${P}`))},N)})})]}):a.jsx("div",{className:"h-full w-full overflow-hidden",children:a.jsx(KC,{events:e,familyMembers:t,onEventClick:b=>v(Oe("Schedule")),onTimeSlotClick:()=>v(Oe("Schedule")),initialDate:o})})}),a.jsx(yC,{className:"p-3 border-t flex-shrink-0",children:a.jsxs(se,{variant:"ghost",size:"sm",className:"w-full text-blue-600 hover:text-blue-700",onClick:()=>v(Oe("Schedule")),children:[m("viewFullSchedule")||"View full schedule",a.jsx(pp,{className:"w-4 h-4 ml-2"})]})})]})}function w7({isOpen:e,onClose:t,reviewData:n,onConfirm:s}){var v,w;const[o,l]=g.useState([]),{t:c}=Je();g.useEffect(()=>{n&&l([])},[n]);const u=(S,k)=>{l(k?C=>[...C,S]:C=>C.filter(b=>b!==S))},f=()=>{let S={...n.originalEvent};const k=o.map(C=>n.aiResult.suggestedTasks[C]);console.log("Tasks being created:",k),s(S,k)};if(!e||!n)return null;const{aiResult:p}=n,m=((v=p.suggestedTasks)==null?void 0:v.length)||0,y=o.length;return a.jsx(pu,{open:e,onOpenChange:t,children:a.jsxs(Ml,{className:"sm:max-w-lg max-h-[80vh] flex flex-col",children:[a.jsx(Pl,{className:"flex-shrink-0",children:a.jsxs(Tl,{className:"flex items-center gap-2",children:[a.jsx(xd,{className:"w-5 h-5 text-purple-500"}),"AI Suggesties (",y,"/",m," geselecteerd)"]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-4",children:[p.aiMessage&&a.jsx("p",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:p.aiMessage}),((w=p.suggestedTasks)==null?void 0:w.length)>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:["Voorgestelde taken (",m,"):"]}),p.suggestedTasks.map((S,k)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx(An,{id:`task-${k}`,checked:o.includes(k),onCheckedChange:C=>u(k,C),className:"mt-1"}),a.jsxs(et,{htmlFor:`task-${k}`,className:"flex-1 cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2 font-medium text-blue-900 mb-1",children:[a.jsx(Vo,{className:"w-4 h-4"}),S.title]}),S.description&&a.jsx("p",{className:"text-sm text-blue-700 mb-1",children:S.description}),S.due_date&&a.jsxs("p",{className:"text-xs text-gray-600",children:["Vervalt op: ",new Date(S.due_date).toLocaleDateString()]})]})]},k))]}):a.jsx("p",{className:"text-center text-gray-500 py-8",children:"Geen taken voorgesteld"})]}),a.jsxs(gu,{className:"flex-shrink-0 border-t pt-4 gap-3",children:[a.jsx(se,{variant:"outline",onClick:t,className:"flex-1",children:"Annuleren"}),a.jsx(se,{onClick:f,className:"flex-1",children:y>0?`${y} taken bevestigen`:"Alleen evenement opslaan"})]})]})})}function Ol({steps:e,run:t,onComplete:n}){const[s,o]=g.useState(0),[l,c]=g.useState(!1),[u,f]=g.useState(null),[p,m]=g.useState({}),y=g.useRef(null);g.useEffect(()=>{t&&!l&&(c(!0),o(0))},[t,l]),g.useEffect(()=>{if(l){const b=e[s],N=document.querySelector(b.target);if(N){N.scrollIntoView({behavior:"auto",block:"center"});const _=setTimeout(()=>{const E=N.getBoundingClientRect();f(E),v()},150);return()=>clearTimeout(_)}else w()}},[s,l,e]);const v=()=>{const b=window.innerWidth,N=window.innerHeight,_=Math.min(300,b-32),E=N*.3,P=Math.min(60,E),O=(b-_)/2;m({position:"fixed",top:`${P}px`,left:`${Math.max(16,O)}px`,width:`${_}px`,zIndex:60})},w=()=>{s<e.length-1?o(b=>b+1):k()},S=()=>{s>0&&o(b=>b-1)},k=()=>{c(!1),f(null),n&&n()};if(!l||!u)return null;const C=e[s];return a.jsxs("div",{className:"fixed inset-0 z-50",children:[a.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:k}),a.jsx(yt.div,{initial:!1,animate:{top:u.y,left:u.x,width:u.width,height:u.height},transition:{type:"spring",stiffness:400,damping:35},style:{position:"fixed",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",borderRadius:"8px",pointerEvents:"none",zIndex:51}}),a.jsxs(yt.div,{ref:y,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},style:p,className:"bg-white rounded-lg shadow-2xl overflow-hidden",onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-900",children:C.title}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-4",children:C.content})]}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center border-t",children:[a.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[s+1," / ",e.length]}),a.jsxs("div",{className:"flex gap-2",children:[s>0&&a.jsx("button",{onClick:S,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Previous"}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-500 text-white rounded-md text-sm font-medium hover:bg-blue-600 transition-colors shadow-sm",children:s===e.length-1?"Finish":"Next"})]})]}),a.jsx("button",{onClick:k,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 p-2 text-lg leading-none",children:""})]},s)]})}const b7=e=>{const t=g.useRef(null);g.useEffect(()=>{var s,o;if(!e)return;let n;try{const l=localStorage.getItem("famlyai_token"),c=window.location.protocol==="https:"?"wss:":"ws:",u=window.location.host,f=((o=(s=import.meta)==null?void 0:s.env)==null?void 0:o.VITE_WS_BASE)||`${c}//${u}`;n=new window.WebSocket(`${f}/ws?token=${encodeURIComponent(l)}`),t.current=n,n.onmessage=p=>{try{const m=JSON.parse(p.data);m&&(m.type==="schedule_event_created"||m.type==="schedule_event_updated"||m.type==="schedule_event_deleted"||m.type==="task_created"||m.type==="task_updated"||m.type==="task_deleted")&&e()}catch{}}}catch{}return()=>{try{n&&n.close()}catch{}}},[e])},j7=e=>[{target:"#weekly-schedule-preview",title:e("weeklySchedule")||"Weekly Schedule",content:e("tour_weeklySchedule_content")||"Get a quick overview of your family's week at a glance. Click to navigate to the full schedule."},{target:"#upcoming-events-card",title:e("upcomingEvents")||"Upcoming Events",content:e("tour_upcomingEvents_content")||"Never miss an appointment or activity. Your next 5 events are listed here."},{target:"#upcoming-tasks-card",title:e("upcomingTasks")||"Upcoming Tasks",content:e("tour_upcomingTasks_content")||"Stay on top of your family's to-do list. See what needs to be done."},{target:"#ai-insights-card",title:e("aiInsights")||"AI Family Insights",content:e("tour_aiInsights_content")||"Our AI analyzes your schedule to provide helpful suggestions and optimizations."},{target:"#sidebar-ai-assistant",title:e("aiAssistant")||"AI Assistant",content:e("tour_aiAssistant_content")||"Click here anytime to chat with the AI, create tasks, or schedule events using your voice."}];function S7(){const{user:e,family:t,members:n,events:s,tasks:o,isLoading:l,error:c,reload:u}=Ma();b7(u);const[f,p]=g.useState(!1),[m,y]=g.useState(!1),[v,w]=g.useState(null),[S,k]=g.useState(null),[C,b]=g.useState(!1),[N,_]=g.useState(null),E=_t(),{t:P}=Je(),{toast:O}=Yt();Bs();const A=s.filter(Y=>{if(!Y.start_time)return!1;try{return ze(Y.start_time)>=new Date}catch(Q){return console.error("Error parsing event date:",Y.start_time,Q),!1}}).sort((Y,Q)=>{try{return ze(Y.start_time).getTime()-ze(Q.start_time).getTime()}catch{return 0}}).reduce((Y,Q)=>(Q.recurrence_id&&Y.find(R=>R.recurrence_id===Q.recurrence_id)||Y.push(Q),Y),[]).slice(0,5),I=o.filter(Y=>{if(Y.status==="completed")return!1;if(Y.due_date)try{const Q=ze(Y.due_date),te=new Date;return te.setHours(0,0,0,0),Q>=te}catch(Q){return console.error("Error parsing task date:",Y.due_date,Q),!1}return!0}).sort((Y,Q)=>{const te=!!Y.due_date,R=!!Q.due_date;if(te&&!R)return-1;if(!te&&R)return 1;if(!te&&!R)return 0;try{return ze(Y.due_date).getTime()-ze(Q.due_date).getTime()}catch{return 0}}).slice(0,5),z=()=>{y(!1),localStorage.setItem("famlyai_tour_dashboard_completed","true")};if(c||f)return a.jsx("div",{className:"p-6 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:P("rateLimitExceeded")||"Rate limit exceeded"}),a.jsx("p",{className:"text-gray-600 mb-6",children:P("tooManyRequests")||"Too many requests were made. Please wait a moment before trying again."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:P("refreshPage")||"Refresh Page"}),a.jsx("button",{onClick:()=>E(Oe("Index")),className:"w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400",children:P("goToHome")||"Go to Home"})]})]})});if(l)return a.jsx("div",{className:"p-6 space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-200 to-green-200 rounded-2xl mb-6"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[1,2,3].map(Y=>a.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"},Y))})]})});const W=Y=>{w(null),_({date:Y,hour:9})},H=Y=>{w(Y),_(null)},$=()=>{w(null),_(null)},K=async Y=>{if(window.confirm(P("confirmDeleteEvent")||"Delete this event?"))try{await it.delete(Y.id),O({title:P("eventDeleted"),description:Y.title,variant:"success",duration:5e3}),$()}catch{O({title:P("errorDeletingEvent"),description:Y.title,variant:"destructive",duration:5e3})}};return a.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsx(Ol,{steps:j7(P),run:m,onComplete:z}),a.jsx(Cu,{isOpen:!!v||!!N,onClose:$,onSave:async(Y,Q,te="single")=>{try{let R={...Y};v&&v.id||R.family_id||(t&&t.id?R.family_id=t.id:e&&e.family_id&&(R.family_id=e.family_id)),v&&v.id?(await it.update(v.id,R),O({title:P("eventUpdated"),description:R.title,variant:"success",duration:5e3})):(await it.create(R),O({title:P("eventCreated"),description:R.title,variant:"success",duration:5e3})),$()}catch{O({title:P("errorSavingEvent"),description:Y.title,variant:"destructive",duration:5e3})}},onDelete:K,familyMembers:n,initialData:v,selectedDate:N==null?void 0:N.date,selectedHour:N==null?void 0:N.hour,userLoaded:!!e&&!!e.family_id}),a.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[a.jsx(yt.div,{id:"weekly-schedule-preview",className:"lg:col-span-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:a.jsx(x7,{events:s,familyMembers:n,onDayClick:W,onEventClick:H})}),a.jsx(yt.div,{id:"upcoming-events-card",className:"lg:col-span-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:a.jsx(u7,{events:A,familyMembers:n})}),a.jsx(yt.div,{id:"upcoming-tasks-card",className:"lg:col-span-1",initial:{opacity:0,x:0},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:a.jsx(h7,{tasks:I,familyMembers:n})})]})]})}function k7(){const[e,t]=g.useState({name:"",language:"en"}),[n,s]=g.useState(!1),[o,l]=g.useState(!0),[c,u]=g.useState(null),[f,p]=g.useState(null),m=_t(),{toast:y}=Yt();g.useEffect(()=>{let w=!1;const k=setTimeout(async()=>{var C;if(w){console.log("Initialization already in progress, skipping...");return}w=!0,l(!0),u(null);try{const b=await tt.me();if(p(b),b.family_id){console.log("User already has family_id:",b.family_id,"- redirecting to dashboard"),m(Oe("Dashboard"));return}const N=await ht.filter({pending_user_email:currentuser.user_id});if(N.length>0){const _=N[0],E=_.family_id;if(E){console.log(`Found pending profile. Connecting to family ID: ${E}`);try{if(!await sr.get(E))throw console.error("Target family not found, cleaning up pending member"),_.id&&await ht.delete(_.id),new Error("Invited family no longer exists")}catch(P){throw console.error("Error verifying target family:",P),_.id&&await ht.delete(_.id),new Error("Could not verify invited family")}await tt.updateMyUserData({family_id:E}),await ht.update(_.id,{user_id:b.id,pending_user_email:null}),y({title:"Connection Successful!",description:`Welcome, ${_.name}! Redirecting...`,duration:5e3}),m(Oe("Dashboard"));return}}console.log("No family or pending invitations found. Showing setup form."),l(!1)}catch(b){console.error("Error during FamilySetup initialization:",b),((C=b.response)==null?void 0:C.status)===429?u("Too many requests. Please wait a moment and refresh the page."):u(`Could not verify your family status: ${b.message}. Please refresh the page.`),l(!1)}finally{w=!1}},500);return()=>{clearTimeout(k),w=!1}},[m,y]);const v=async w=>{var S,k;if(w.preventDefault(),!f){y({title:"Error",description:"User session not found. Please log in again.",variant:"destructive",duration:5e3});return}if(!n){s(!0);try{console.log("Attempting to create family with data:",e);const C=await tt.me();if(C.family_id){console.log("User already has family_id:",C.family_id),y({title:"Error",description:"You already belong to a family. Redirecting...",variant:"destructive",duration:5e3}),m(Oe("Dashboard"));return}const b=await sr.create({...e,created_by:f.user_id});if(console.log("Family created:",b),!b||!b.id)throw new Error("Family creation failed - no ID returned");const N={name:f.full_name||"Admin",role:"parent",family_id:b.id,user_id:f.id,color:"#3b82f6"};console.log("Creating admin member with data:",N);const _=await ht.create(N);if(!_||!_.id)throw new Error("Admin member creation failed");const E={name:"AI Assistent",role:"ai_assistant",family_id:b.id,color:"#6366f1"};console.log("Creating AI member with data:",E);const P=await ht.create(E);if((!P||!P.id)&&console.warn("AI member creation failed, but continuing..."),console.log("Updating user with family_id and admin role:",b.id),await tt.updateMyUserData({family_id:b.id,role:"admin"}),(await tt.me()).family_id!==b.id)throw new Error("Failed to update user's family_id");y({title:"Family Hub Created!",description:"Redirecting you to your new dashboard...",duration:5e3}),setTimeout(()=>{m(Oe("Dashboard"))},1e3)}catch(C){console.error("Error creating family:",C),console.error("Error details:",((S=C.response)==null?void 0:S.data)||C.message),C.message.includes("already exists")||((k=C.response)==null?void 0:k.status)===409?y({title:"Duplicate Family",description:"A family with this name already exists. Please choose a different name.",variant:"destructive",duration:5e3}):y({title:"Error",description:`Could not create family: ${C.message||"Unknown error"}. Please try again.`,variant:"destructive",duration:5e3})}finally{s(!1)}}};return o?a.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gray-50",children:[a.jsx(At,{className:"w-12 h-12 animate-spin text-blue-500 mb-4"}),a.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Verifying your connection..."})]}):c?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(Fe,{className:"max-w-xl w-full shadow-lg",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(hP,{className:"w-8 h-8 text-red-600"})}),a.jsx(at,{className:"text-3xl font-bold text-red-700",children:"Error"}),a.jsx(Ci,{className:"text-lg text-red-600 pt-2",children:c})]}),a.jsx($e,{className:"text-center",children:a.jsxs(se,{onClick:()=>window.location.reload(),className:"mt-4",children:[a.jsx(xd,{className:"mr-2 h-5 w-5"})," Try Again"]})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"max-w-xl w-full",children:a.jsxs(Fe,{className:"shadow-lg",children:[a.jsxs(Xe,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(vi,{className:"w-8 h-8 text-blue-600"})}),a.jsx(at,{className:"text-3xl font-bold",children:"Create your new family hub"}),a.jsx(Ci,{className:"text-lg text-gray-600 pt-2",children:"Let's set up your private space to manage schedules, tasks, and stay connected."})]}),a.jsx($e,{children:a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"familyName",className:"text-sm font-medium text-gray-700",children:"Family Name"}),a.jsx(He,{id:"familyName",type:"text",placeholder:"e.g., The Millers, The Super Fam",value:e.name,onChange:w=>t({...e,name:w.target.value}),required:!0,className:"text-base p-4"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"language",className:"text-sm font-medium text-gray-700",children:"Default Language"}),a.jsxs(sn,{value:e.language,onValueChange:w=>t({...e,language:w}),children:[a.jsx(Xt,{className:"text-base p-4",children:a.jsx(an,{placeholder:"Select a language"})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"en",children:"English"}),a.jsx(_e,{value:"es",children:"Espaol"}),a.jsx(_e,{value:"fr",children:"Franais"}),a.jsx(_e,{value:"de",children:"Deutsch"}),a.jsx(_e,{value:"nl",children:"Nederlands"})]})]})]}),a.jsxs(se,{type:"submit",disabled:n,className:"w-full text-lg py-6 bg-blue-600 hover:bg-blue-700",children:[n?a.jsx(At,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(xd,{className:"mr-2 h-5 w-5"}),"Create Family Hub"]})]})})]})})})}const N7={nl:bu,es:vu,fr:xu,de:yu,it:wu,pt:ju,en:void 0},C7=({event:e,onEventClick:t,familyMembers:n,onEdit:s,onDelete:o})=>{const{t:l}=Je(),c=S=>{if(!S||S.length===0)return"#9ca3af";const k=n.find(C=>S.includes(C.id));return(k==null?void 0:k.color)||"#9ca3af"},u=ze(e.start_time),f=ze(e.end_time),p=c(e.family_member_ids),m=xe(u,"yyyy-MM-dd")!==xe(f,"yyyy-MM-dd"),y=e._isContinuation,v=e._isFirstDay,w=e._isLastDay;return a.jsxs("div",{className:`rounded p-1.5 cursor-pointer hover:shadow-sm transition-all border-l-2 ${y?"bg-gray-100/90 border-l-gray-400":"bg-white/90"} ${m?v?"rounded-r-none":w?"rounded-l-none":"rounded-none":""}`,style:{borderColor:y?"#9ca3af":p},onClick:S=>{S.stopPropagation(),t(e)},children:[a.jsx("div",{className:"text-xs font-semibold text-gray-800 leading-tight whitespace-normal",children:y?` ${e.short_title||e.title}`:e.short_title||e.title}),v&&a.jsx("div",{className:"text-[11px] text-gray-600",children:m?`${xe(u,"HH:mm")} - ${xe(f,"dd/MM HH:mm")}`:xe(u,"HH:mm")}),y&&!w&&a.jsx("div",{className:"text-[11px] text-gray-500",children:l("continues")||"continues..."}),w&&!v&&a.jsxs("div",{className:"text-[11px] text-gray-600",children:[l("until")||"until"," ",xe(f,"HH:mm")]})]})};function _7({events:e,familyMembers:t,onEventClick:n,onTimeSlotClick:s,initialDate:o,onEditEvent:l,onDeleteEvent:c}){const[u,f]=g.useState(Rt(o||new Date,{weekStartsOn:1})),[p,m]=g.useState(!1),{t:y,currentLanguage:v}=Je(),w=g.useMemo(()=>N7[v]||void 0,[v]);g.useEffect(()=>{f(Rt(o||new Date,{weekStartsOn:1}))},[o]);const S=_=>{f(E=>_==="next"?Ws(E,1):Dg(E))},k=()=>{f(Rt(new Date,{weekStartsOn:1}))},C=_=>{f(Rt(_,{weekStartsOn:1})),m(!1)},b=g.useMemo(()=>Array.from({length:7}).map((_,E)=>Wt(u,E)),[u]),N=g.useMemo(()=>{const _={},E=[];return b.forEach(P=>{const O=xe(P,"yyyy-MM-dd");_[O]=[]}),(e||[]).forEach(P=>{const O=ze(P.start_time),A=ze(P.end_time),I=xe(O,"yyyy-MM-dd"),z=xe(A,"yyyy-MM-dd");if(I!==z){const W=b.findIndex($=>xe($,"yyyy-MM-dd")===I),H=b.findIndex($=>xe($,"yyyy-MM-dd")===z);if(W>=0||H>=0){const $=Math.max(0,W>=0?W:0),K=Math.min(6,H>=0?H:6);E.push({...P,_spanStart:$,_spanEnd:K,_spanLength:K-$+1,_isMultiDay:!0})}}else _[I]&&_[I].push(P)}),Object.keys(_).forEach(P=>{_[P].sort((O,A)=>ze(O.start_time)-ze(A.start_time))}),{grouped:_,multiDayEvents:E}},[e,b]);return a.jsxs(Fe,{className:"shadow-sm border-famly-accent bg-white flex flex-col h-full",children:[a.jsx(Xe,{className:"py-3 px-4 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Jr,{open:p,onOpenChange:m,children:[a.jsx(Qr,{asChild:!0,children:a.jsx(se,{variant:"ghost",className:"text-lg font-semibold text-gray-700 p-1",children:xe(u,"MMMM yyyy",{locale:w})})}),a.jsx(Er,{className:"w-auto p-0",children:a.jsx(Ea,{mode:"single",selected:u,onSelect:C,initialFocus:!0})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"outline",size:"sm",onClick:k,children:y("today")}),a.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>S("prev"),children:a.jsx(ml,{className:"w-4 h-4"})}),a.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>S("next"),children:a.jsx(ja,{className:"w-4 h-4"})})]})]})}),a.jsxs($e,{className:"p-0 flex-1 flex flex-col",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-famly-accent flex-shrink-0",children:b.map(_=>{const E=ll(_);return a.jsxs("div",{className:`text-center py-2 border-r border-famly-accent last:border-r-0 ${E?"bg-blue-50":""}`,children:[a.jsx("div",{className:`text-xs font-medium ${E?"text-blue-600":"text-gray-500"}`,children:xe(_,"E",{locale:w})}),a.jsx("div",{className:`text-2xl font-light ${E?"text-blue-700":"text-gray-800"}`,children:xe(_,"d")})]},_.toString())})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:N.multiDayEvents.map((_,E)=>{var P,O;return a.jsx("div",{className:"absolute bg-blue-100 border border-blue-300 rounded p-1 cursor-pointer pointer-events-auto hover:bg-blue-200 transition-colors",style:{left:`${_._spanStart/7*100}%`,width:`${_._spanLength/7*100}%`,top:`${E*28+8}px`,height:"24px",borderLeftColor:(P=_.family_member_ids)!=null&&P.length&&((O=t.find(A=>_.family_member_ids.includes(A.id)))==null?void 0:O.color)||"#3b82f6"},onClick:A=>{A.stopPropagation(),n(_)},children:a.jsx("div",{className:"text-xs font-semibold text-blue-900 truncate",children:_.short_title||_.title})},`multi-${_.id}`)})}),a.jsx("div",{className:"grid grid-cols-7 flex-1",style:{paddingTop:`${N.multiDayEvents.length*28+16}px`},children:b.map(_=>{const E=xe(_,"yyyy-MM-dd"),P=N.grouped[E]||[],O=Math.max(300,P.length*40+20);return a.jsx("div",{className:"border-r border-famly-accent last:border-r-0 p-1 overflow-hidden",style:{minHeight:`${O}px`},onClick:()=>s(_,9),children:P.length>0?a.jsx("div",{className:"space-y-1",children:P.map(A=>a.jsx(C7,{event:A,onEventClick:n,familyMembers:t,onEdit:l,onDelete:c},A.id))}):a.jsx("div",{className:"h-full w-full"})},E)})})]})]})]})}function E7({todayEvents:e}){const{t}=Je();return a.jsx("div",{className:"flex flex-col gap-6 h-full",children:a.jsxs(Fe,{children:[a.jsx(Xe,{className:"pb-2",children:a.jsxs(at,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(mn,{className:"w-5 h-5"}),t("todaysEvents")]})}),a.jsx($e,{children:e.length>0?a.jsx("div",{className:"space-y-3",children:e.map(n=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:n.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[xe(ze(n.start_time),"HH:mm")," - ",xe(ze(n.end_time),"HH:mm")]})]})]},n.id))}):a.jsx("p",{className:"text-gray-500 text-sm",children:t("noEventsToday")||"No events today"})})]})})}async function M7({title:e,body:t,url:n}){var s;if("Notification"in window&&Notification.permission==="granted")try{const o=await((s=navigator.serviceWorker)==null?void 0:s.ready);o!=null&&o.showNotification?await o.showNotification(e,{body:t,icon:"/icons/icon-192.png",badge:"/icons/badge-72.png",data:{url:n||"/"}}):new Notification(e,{body:t,icon:"/icons/icon-192.png"})}catch{}}const P7=e=>{const t=g.useRef(null);g.useEffect(()=>{var s,o;if(!e)return;let n;try{const l=localStorage.getItem("famlyai_token"),c=window.location.protocol==="https:"?"wss:":"ws:",u=window.location.host,f=((o=(s=import.meta)==null?void 0:s.env)==null?void 0:o.VITE_WS_BASE)||`${c}//${u}`;n=new window.WebSocket(`${f}/ws?token=${encodeURIComponent(l)}`),t.current=n,n.onmessage=p=>{try{const m=JSON.parse(p.data);m&&(m.type==="schedule_event_created"||m.type==="schedule_event_updated"||m.type==="schedule_event_deleted")&&e()}catch{}}}catch{}return()=>{try{n&&n.close()}catch{}}},[e])},T7=[{target:"#calendar-view-toggle",title:"Calendar Views",content:'Switch between a traditional weekly calendar and a "By Member" view to see schedules from different perspectives.'},{target:"#weekly-calendar",title:"The Family Calendar",content:"This is your weekly view. Click on any time slot to quickly add a new event for that time."},{target:"#schedule-filters",title:"Filter Your View",content:"Focus on specific family members by selecting or deselecting them here. This helps simplify busy schedules!"},{target:"#schedule-sidebar",title:"Add Events & See Today",content:"Use this area to add a new event anytime or see what's happening today at a glance."},{target:"#sidebar-dashboard",title:"Navigate Anywhere",content:"Use the main sidebar to easily jump to other parts of the app, like your tasks or family settings."}],D7=({familyMembers:e,selectedMembers:t,onMemberFilter:n})=>{const{t:s}=Je(),o=e.filter(l=>l.role!=="ai_assistant");return a.jsxs("div",{id:"schedule-filters",className:"bg-gray-50/70 rounded-lg border border-gray-200/60 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"w-4 h-4 text-gray-400",children:a.jsx(rr,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:s("filterByMember")})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:o.map(l=>a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/50 rounded-md p-2 transition-colors",onClick:()=>n(l.id),children:[a.jsx("div",{className:`w-4 h-4 rounded flex items-center justify-center border-2 transition-all ${t.includes(l.id)?"border-2":"border-gray-300"}`,style:{backgroundColor:t.includes(l.id)?l.color:"transparent",borderColor:t.includes(l.id)?l.color:"#d1d5db"},children:t.includes(l.id)&&a.jsx(Di,{className:"w-3 h-3 text-white"})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:l.name})]},l.id))})]})},db=e=>{if(!e.is_recurring)return[{...e,recurrence_id:null}];const t=[],n=crypto.randomUUID(),s=ze(e.start_time),l=ze(e.end_time).getTime()-s.getTime();let c=1;switch(e.recurrence_pattern){case"daily":c=90;break;case"weekly":c=52;break;case"monthly":c=12;break;case"yearly":c=5;break;default:c=1;break}for(let u=0;u<c;u++){let f=s;switch(e.recurrence_pattern){case"daily":f=Wt(s,u);break;case"weekly":f=Ws(s,u);break;case"monthly":f=Gn(s,u);break;case"yearly":f=oC(s,u);break;default:f=s;break}const p=new Date(f.getTime()+l);t.push({...e,start_time:f.toISOString(),end_time:p.toISOString(),recurrence_id:n})}return t};function A7(){const{user:e,family:t,members:n,events:s,isLoading:o,error:l,reload:c}=Ma();P7(c);const[u,f]=g.useState([]),[p,m]=g.useState(!1),[y,v]=g.useState(null),[w,S]=g.useState(null),[k,C]=g.useState(new Date),[b,N]=g.useState(!1),[_,E]=g.useState(null),[P,O]=g.useState(!1),[A,I]=g.useState("weekly"),[z,W]=g.useState(!1),[H,$]=g.useState(null),[K,Y]=g.useState(!1),Q=e==null?void 0:e.family_id,te=_t(),{t:R}=Je(),{toast:D}=Yt(),[L,G]=Bs(),T=async ue=>{I(ue);try{await tt.updateMyUserData({preferred_calendar_view:ue})}catch(Ae){console.error("Failed to save view preference:",Ae)}},B=async()=>{const ue=H===A?null:A;$(ue);try{await tt.updateMyUserData({dashboard_favorite_view:ue}),D({title:ue?R("dashboardFavoriteSet")||"Dashboard favorite set":R("dashboardFavoriteRemoved")||"Dashboard favorite removed",description:ue?`${R(A==="weekly"?"weekly":"byMember")} view will be used on dashboard`:R("dashboardUsesGeneralPreference")||"Dashboard will use your general preference",duration:5e3})}catch(Ae){console.error("Failed to save dashboard favorite:",Ae)}};g.useEffect(()=>{if(e&&!e.family_id){te(Oe("Index"));return}e!=null&&e.preferred_calendar_view&&I(e.preferred_calendar_view),e!=null&&e.dashboard_favorite_view&&$(e.dashboard_favorite_view);const ue=Qe=>{const We=Qe.detail.action;We==="new"?(v(null),S(null),m(!0)):We==="tour"&&N(!0)};window.addEventListener("actionTriggered",ue);const Ae=L.get("action");return Ae==="new"?(v(null),S(null),m(!0),G({})):Ae==="tour"&&(N(!0),G({})),()=>window.removeEventListener("actionTriggered",ue)},[L,e]);const ne=ue=>{const Ae=ze(ue.start_time);C(Ae),v(ue),m(!0)},ae=ue=>{C(ue),S({date:ue,hour:kz(ue)}),v(null),m(!0)},ie=async(ue,Ae,Qe="single")=>{try{const We=await qz({prompt:`You are a family organizer assistant. Suggest a very short 23 word title and any useful follow-up tasks as plain strings.
Event Title: "${ue.title||""}"
Description: "${ue.description||""}"
Category: "${ue.category||""}"`,response_json_schema:{type:"object",properties:{short_title:{type:"string"},suggestedTasks:{type:"array",items:{type:"string"}},tasks:{type:"array",items:{type:"string"}},summary:{type:"string"}},additionalProperties:!0}}),Ue=(We.suggestedTasks||[]).map(Ot=>typeof Ot=="string"?{title:Ot}:Ot),Et={originalEvent:{...ue,short_title:ue.short_title||We.short_title||ue.short_title},aiResult:{...We,suggestedTasks:Ue},initialData:y,editType:Qe};E(Et),m(!1),Ue.length>0?O(!0):re(Et.originalEvent,[],Qe)}catch(We){console.error("AI suggestion failed:",We),re(ue,[],Qe)}},re=async(ue,Ae,Qe="single")=>{try{if(_&&_.initialData&&_.initialData.id){const Ue=_.initialData,Et=Ue.is_recurring||!!Ue.recurrence_id,Ot=ue.is_recurring;if(!Et&&Ot){await it.delete(Ue.id);const ut=db({...ue,family_id:Q});await it.bulkCreate(ut),D({title:R("eventSeriesCreated"),description:R("eventSeriesCreatedDescription",{title:ue.title}),duration:5e3})}else if(Qe==="series"&&Et){const ut=await it.filter({recurrence_id:Ue.recurrence_id}),os=ze(Ue.start_time),fr=ze(ue.start_time).getTime()-os.getTime();for(const qs of ut)if(!qs.is_series_exception){const Xs=new Date(ze(qs.start_time).getTime()+fr),Js=new Date(ze(qs.end_time).getTime()+fr);await it.update(qs.id,{...ue,start_time:Xs.toISOString(),end_time:Js.toISOString(),is_recurring:!0})}D({title:R("seriesUpdated"),description:R("seriesUpdatedDescription",{title:ue.title}),duration:5e3})}else{const ut={...ue};Et&&(!Ot||Qe==="single")&&(ut.is_recurring=!1,ut.is_series_exception=!0,ut.original_recurrence_id=Ue.recurrence_id,ut.recurrence_id=null),await it.update(Ue.id,ut),D({title:R("eventUpdated"),description:R("eventUpdatedDescription",{title:ue.title})+(ut.is_series_exception?` (${R("asSingleInstanceBreakingSeries")})`:""),duration:5e3})}}else{const Ue=db({...ue,family_id:Q}),Et=await it.bulkCreate(Ue),Ot=Et.length>0?Et[0].id:null;if(Ae&&Ae.length>0&&Ot){const os=Ae.map(Ar=>({...Ar,family_id:Q,status:"todo",ai_suggested:!0,related_event_id:Ot}));await Dt.bulkCreate(os)}D({title:R("eventSaved"),description:R("eventSavedDescription",{title:ue.title})+(Ue.length>1?` (${R("instancesCreated",{count:Ue.length})})`:""),duration:5e3});const ut=Array.isArray(ue.family_member_ids)?ue.family_member_ids:[];if(e&&ut.includes(e.id)){let os=e.name||"Someone";const Ar=R("event.assignedToYouTitle")||"New Event Scheduled",fr=`${os} scheduled an event for you: ${ue.title}`;D({title:Ar,description:fr,duration:5e3}),M7({title:Ar,body:fr,url:window.location.origin+Oe?Oe("Schedule"):"/schedule"})}}}catch(We){console.error("Error during final save:",We),D({title:R("saveFailed"),description:R("somethingWentWrong"),variant:"destructive",duration:5e3})}finally{O(!1),E(null),v(null),S(null),c&&await c()}},Z=async ue=>{let Ae=!1;if(ue.recurrence_id&&!ue.is_series_exception)if(window.confirm(`${R("recurringEventWarning")}

${R("chooseDeletionOption")}

${R("okOption")} = ${R("deleteEntireSeries")}
${R("cancelOption")} = ${R("deleteOnlyThisOccurrence")}`))try{setIsLoading(!0);const We=await it.filter({recurrence_id:ue.recurrence_id});let Ue=0;for(const Et of We){const Ot=(await Dt.filter({related_event_id:Et.id})).filter(ut=>ut.related_event_id===Et.id);if(Ot.length>0){for(const ut of Ot)await Dt.delete(ut.id);Ue+=Ot.length}await it.delete(Et.id)}D({duration:5e3,title:R("seriesDeleted"),description:R("seriesDeletedDescription",{title:ue.title,count:Ue})}),Ae=!0}catch(We){console.error("Error deleting event series:",We),D({title:R("deleteFailed"),description:R("couldNotDeleteSeries"),variant:"destructive",duration:5e3})}finally{setIsLoading(!1)}else try{const We=(await Dt.filter({related_event_id:ue.id})).filter(Ue=>Ue.related_event_id===ue.id);if(We.length>0&&window.confirm(R("confirmDeleteRelatedTasks",{count:We.length})))for(const Et of We)await Dt.delete(Et.id);await it.update(ue.id,{is_recurring:!1,is_series_exception:!0,original_recurrence_id:ue.recurrence_id,recurrence_id:null}),D({title:R("eventDeleted"),description:R("singleOccurrenceDeletedDescription",{title:ue.title}),duration:5e3}),Ae=!0}catch(We){console.error("Error deleting single event:",We),D({title:R("deleteFailed"),description:R("somethingWentWrong"),variant:"destructive",duration:5e3})}else if(window.confirm(R("confirmDeleteEvent",{title:ue.title})))try{const Qe=(await Dt.filter({related_event_id:ue.id})).filter(We=>We.related_event_id===ue.id);if(Qe.length>0&&window.confirm(R("confirmDeleteRelatedTasks",{count:Qe.length})))for(const Ue of Qe)await Dt.delete(Ue.id);await it.delete(ue.id),D({title:R("eventDeleted"),description:R("eventDeletedDescription",{title:ue.title}),duration:5e3}),Ae=!0}catch(Qe){console.error("Error deleting event:",Qe),D({title:R("deleteFailed"),description:R("somethingWentWrong"),variant:"destructive",duration:5e3})}Ae&&(m(!1),v(null))},fe=ue=>{f(Ae=>Ae.includes(ue)?Ae.filter(Qe=>Qe!==ue):[...Ae,ue])},J=()=>{N(!1),localStorage.setItem("famly_tour_schedule_completed","true")},de=()=>W(ue=>!ue),he=g.useMemo(()=>s.filter(ue=>!ue.family_member_ids||ue.family_member_ids.length===0?!0:ue.family_member_ids.filter(Qe=>{const We=n.find(Ue=>Ue.id===Qe);return We&&We.role!=="ai_assistant"}).length>0||ue.family_member_ids.length===0),[s,n]),be=ue=>{const Ae=new Intl.DateTimeFormat("en-CA",{timeZone:ue,year:"numeric",month:"2-digit",day:"2-digit"});return Qe=>Ae.format(Qe)},Le=e&&(e.timezone||e.time_zone)||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",rt=be(Le),xt=rt(new Date),St=he.filter(ue=>{if(!ue.start_time)return!1;try{const Ae=ze(ue.start_time),Qe=ue.end_time?ze(ue.end_time):new Date(Ae.getTime()+6e4),We=rt(Ae),Ue=rt(Qe);return We<=xt&&xt<=Ue}catch{return!1}}),qe=()=>a.jsx(a.Fragment,{children:A==="weekly"?a.jsx(_7,{events:he,familyMembers:n,onEventClick:ne,onTimeSlotClick:ae,initialDate:k,onEditEvent:ne,onDeleteEvent:Z},k.getTime()):a.jsx(KC,{events:he,familyMembers:n,onEventClick:ne,onTimeSlotClick:ae,initialDate:k},k.getTime())});return o?a.jsxs("div",{className:"p-6 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"flex-1 h-96 bg-gray-200 rounded-xl"}),a.jsxs("div",{className:"w-80 space-y-4",children:[a.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"}),a.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"})]})]})]}):z?a.jsxs("div",{className:"fixed inset-0 bg-white z-[100] flex flex-col",children:[a.jsxs("header",{className:"p-4 border-b flex items-center justify-between flex-shrink-0",children:[a.jsx("h1",{className:"text-xl font-bold",children:R("schedule")}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"inline-flex items-center rounded-lg bg-gray-100 p-1",children:[a.jsxs(se,{variant:A==="weekly"?"secondary":"ghost",size:"sm",onClick:()=>T("weekly"),children:[a.jsx(Kx,{className:"h-4 w-4 mr-1"}),R("weekly")]}),a.jsxs(se,{variant:A==="resource"?"secondary":"ghost",size:"sm",onClick:()=>T("resource"),children:[a.jsx(Jx,{className:"h-4 w-4 mr-1"}),R("byMember")]})]}),a.jsx(se,{onClick:de,variant:"outline",size:"sm",children:a.jsx(oT,{className:"h-4 w-4"})})]})]}),a.jsx("main",{className:"flex-1 overflow-auto p-4",children:a.jsx(qe,{})})]}):a.jsxs("div",{className:"p-4 sm:p-6 h-full flex flex-col",children:[a.jsx(Ol,{steps:T7,run:b,onComplete:J}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 flex-1 min-h-0",children:[K&&a.jsx("div",{className:"w-full lg:w-72 flex-shrink-0",children:a.jsx(D7,{familyMembers:n,selectedMembers:u,onMemberFilter:fe})}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[a.jsxs("div",{id:"calendar-view-toggle",className:"flex items-center justify-between mb-4 flex-shrink-0",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(se,{onClick:()=>Y(!K),variant:"outline",size:"sm",title:K?R("hideMembersFilter")||"Hide Members Filter":R("showMembersFilter")||"Show Members Filter",children:a.jsx(rr,{className:"h-4 w-4"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:B,className:`h-8 w-8 p-0 ${H===A?"text-yellow-500":"text-gray-400"}`,children:a.jsx(ph,{className:`h-4 w-4 ${H===A?"fill-current":""}`})}),a.jsxs("div",{className:"inline-flex items-center rounded-lg bg-gray-100 p-1",children:[a.jsxs(se,{variant:A==="weekly"?"secondary":"ghost",size:"sm",onClick:()=>T("weekly"),className:"px-2 py-1 text-xs h-7",children:[a.jsx(Kx,{className:"h-3 w-3 mr-1"}),R("weekly")]}),a.jsxs(se,{variant:A==="resource"?"secondary":"ghost",size:"sm",onClick:()=>T("resource"),className:"px-2 py-1 text-xs h-7",children:[a.jsx(Jx,{className:"h-3 w-3 mr-1"}),R("byMember")]})]}),a.jsx(se,{onClick:de,variant:"outline",size:"sm",children:a.jsx(tT,{className:"h-4 w-4"})})]})]}),a.jsx("div",{id:"calendar-container",className:"flex-1 min-h-0",children:a.jsx(qe,{})})]}),a.jsx("div",{id:"schedule-sidebar",className:"w-full lg:w-72 flex-shrink-0",children:a.jsx(E7,{todayEvents:St})})]}),a.jsx(Cu,{isOpen:p,onClose:()=>{m(!1),v(null),S(null)},onSave:ie,onDelete:Z,familyMembers:n,initialData:y,selectedDate:w==null?void 0:w.date,selectedHour:w==null?void 0:w.hour,preselectedMemberId:w==null?void 0:w.memberId}),a.jsx(w7,{isOpen:P,onClose:()=>{O(!1),E(null)},reviewData:_,onConfirm:re,familyMembers:n})]})}function R7({task:e,familyMembers:t,onStatusChange:n,onEdit:s,onDelete:o}){const{t:l}=Je(),[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(0),[v,w]=g.useState(!1),S=A=>{if(!A||A.length===0)return{names:l("allMembers"),colors:["#64748b"]};const I=(t||[]).filter(z=>A.includes(z.id));return I.length===0?{names:l("allMembers"),colors:["#64748b"]}:{names:I.map(z=>z.name).join(", "),colors:I.map(z=>z.color||"#6366f1")}},{names:k,colors:C}=S(e.assigned_to),b=A=>({low:"bg-blue-100 text-blue-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800"})[A]||"bg-gray-100",N=e.due_date&&Ez(new Date(e.due_date))&&e.status!=="completed",_=e.due_date&&ll(new Date(e.due_date)),E=e.status==="completed"?"border-l-green-500":N?"border-l-red-500":_?"border-l-yellow-500":"border-l-blue-500",P=(A,I)=>{p(!1);const z=100;I.offset.x<-z?(y(-500),n(e,"completed")):I.offset.x>z&&(y(500),o(e.id,e)),u(0)},O=(A,I)=>{u(I.offset.x)};return a.jsxs(yt.div,{layout:!0,initial:{scale:1,opacity:1},exit:{x:m,opacity:0,transition:{duration:.3}},drag:"x",dragConstraints:{left:0,right:0},onDragStart:()=>p(!0),onDrag:O,onDragEnd:P,className:"relative",children:[a.jsx(yt.div,{className:"absolute inset-y-0 left-full w-24 bg-green-500 flex items-center justify-start pl-6 rounded-l-lg",style:{right:"-6rem"},animate:{opacity:f&&c<-50?1:0},children:a.jsx(Di,{className:"w-6 h-6 text-white"})}),a.jsx(yt.div,{className:"absolute inset-y-0 right-full w-24 bg-red-500 flex items-center justify-end pr-6 rounded-r-lg",style:{left:"-6rem"},animate:{opacity:f&&c>50?1:0},children:a.jsx(es,{className:"w-6 h-6 text-white"})}),a.jsx(Fe,{className:`hover:shadow-md transition-all duration-300 border-l-4 ${E} ${e.status==="completed"?"opacity-60":""} bg-white`,children:a.jsxs($e,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("button",{onClick:()=>{const A=e.status==="todo"?"in_progress":e.status==="in_progress"?"completed":"todo";n(e,A)},className:"hover:opacity-70 transition-opacity flex-shrink-0",children:e.status==="completed"?a.jsx(Ub,{className:"w-5 h-5 text-green-500"}):e.status==="in_progress"?a.jsx(mh,{className:"w-5 h-5 text-blue-500"}):a.jsx(Hb,{className:"w-5 h-5 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:`font-medium text-gray-900 text-sm leading-relaxed ${e.status==="completed"?"line-through text-gray-500":""}`,children:e.ai_suggested?l(e.title):e.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(jn,{className:`${b(e.priority)} text-xs px-2 py-0.5 font-medium`,children:l(e.priority)}),e.due_date&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(mh,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:`text-xs font-medium ${N?"text-red-600":_?"text-yellow-600":"text-gray-500"}`,children:xe(new Date(e.due_date),"MMM d")})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>s(e),className:"text-gray-400 hover:text-gray-600 h-7 w-7 p-0",children:a.jsx(pi,{className:"w-3 h-3"})}),a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>w(!v),className:"text-gray-400 hover:text-gray-600 h-7 w-7 p-0",children:v?a.jsx(Bb,{className:"w-3 h-3"}):a.jsx(Ld,{className:"w-3 h-3"})})]})]}),v&&a.jsxs(yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 pt-3 border-t border-gray-100 space-y-2",children:[e.description&&a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(jn,{className:"bg-green-100 text-green-800 text-xs px-2 py-0.5 font-medium",children:l(e.category)}),e.ai_suggested&&a.jsxs(jn,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 text-xs px-2 py-0.5",children:[a.jsx(ph,{className:"w-3 h-3 mr-1"}),"AI"]}),e.related_event_id&&a.jsxs(jn,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-xs px-2 py-0.5",children:[a.jsx(mn,{className:"w-3 h-3 mr-1"}),"Event"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex -space-x-1",children:[C.slice(0,3).map((A,I)=>a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:A}},I)),C.length>3&&a.jsxs("div",{className:"w-5 h-5 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600 shadow-sm",children:["+",C.length-3]})]}),a.jsx("span",{className:"text-gray-600 text-xs font-medium",children:k})]}),e.points>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ph,{className:"w-3 h-3 text-yellow-500"}),a.jsxs("span",{className:"text-xs text-yellow-600 font-medium",children:[e.points," ",l("points")]})]})]})]})]})})]})}function I7({filters:e,onFilterChange:t,familyMembers:n}){const{t:s}=Je(),o=()=>{t({status:"all",assignee:"all"})},l=e.status!=="all"||e.assignee!=="all";return a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(sn,{value:e.status,onValueChange:c=>t({...e,status:c}),children:[a.jsx(Xt,{className:"w-32 h-8 text-xs border-gray-300 bg-white",children:a.jsx(an,{placeholder:s("status")})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"todo",children:s("todo")}),a.jsx(_e,{value:"in_progress",children:s("in_progress")}),a.jsx(_e,{value:"completed",children:s("completed")}),a.jsx(_e,{value:"all",children:s("allStatuses")||"All Statuses"})]})]}),a.jsxs(sn,{value:e.assignee,onValueChange:c=>t({...e,assignee:c}),children:[a.jsx(Xt,{className:"w-32 h-8 text-xs border-gray-300 bg-white",children:a.jsx(an,{placeholder:s("assignee")})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"all",children:s("allMembers")||"All Members"}),n==null?void 0:n.map(c=>a.jsx(_e,{value:c.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),c.name]})},c.id))]})]}),l&&a.jsx(se,{variant:"ghost",size:"sm",onClick:o,className:"gap-1 text-gray-500 hover:text-gray-700 h-8 px-2",children:a.jsx(Os,{className:"w-3 h-3"})})]})}const O7=e=>{const t=g.useRef(null);g.useEffect(()=>{var s,o;if(!e)return;let n;try{const l=localStorage.getItem("famlyai_token"),c=window.location.protocol==="https:"?"wss:":"ws:",u=window.location.host,f=((o=(s=import.meta)==null?void 0:s.env)==null?void 0:o.VITE_WS_BASE)||`${c}//${u}`;n=new window.WebSocket(`${f}/ws?token=${encodeURIComponent(l)}`),t.current=n,n.onmessage=p=>{try{const m=JSON.parse(p.data);m&&(m.type==="task_created"||m.type==="task_updated"||m.type==="task_deleted")&&e()}catch{}}}catch{}return()=>{try{n&&n.close()}catch{}}},[e])};async function L7({title:e,body:t,url:n}){var s;if("Notification"in window&&Notification.permission==="granted")try{const o=await((s=navigator.serviceWorker)==null?void 0:s.ready);o!=null&&o.showNotification?await o.showNotification(e,{body:t,icon:"/icons/icon-192.png",badge:"/icons/badge-72.png",data:{url:n||"/"}}):new Notification(e,{body:t,icon:"/icons/icon-192.png"})}catch{}}function F7(){const[e,t]=g.useState(!1),[n,s]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(!1),[f,p]=g.useState(!1),{user:m,family:y,members:v,tasks:w,isLoading:S,error:k,reload:C}=Ma(),{t:b,currentLanguage:N}=Je(),{toast:_}=Yt(),[E,P]=Bs(),[O,A]=g.useState({status:E.get("status")||"all",assignee:E.get("assignee")||"all"}),I=async(R,D)=>{if(!R||!R.trim())return{due_date:null,confidence:0,reason:"empty title"};const L=`You are a date normalizer.

  TODAY_IS: ${new Date().toISOString()}
  USER_LANGUAGE: ${D}

  Task title (natural language): "${R}"

  Goal:
  - Extract a SINGLE, best-guess due date/time if it is clearly implied by the title.
  - If you are NOT confident (ambiguous or no date language), return null.
  - Assume user timezone Europe/Stockholm.
  - Use 24h time.
  - Return ISO-like format WITHOUT timezone: "YYYY-MM-DDTHH:MM:SS".
  - For vague dayparts, prefer:
    morning  10:00, afternoon  15:00, evening  19:00
  - For words like "tomorrow", "morgen", pick the next calendar day at 17:00 if no daypart is given.
  - If a specific time is present, use it.

  Respond ONLY as JSON:
  {
    "due_date": "YYYY-MM-DDTHH:MM:SS" | null,
    "confidence": number,           // 0..1
    "normalized_title": "string",   // optional; cleaned title (same language as input)
    "reason": "string"
  }`,G={type:"object",properties:{due_date:{anyOf:[{type:"string"},{type:"null"}]},confidence:{type:"number",minimum:0,maximum:1},normalized_title:{type:"string"},reason:{type:"string"}},required:["due_date","confidence","reason"]},T=await Aa({prompt:L,system:`Respond ONLY with JSON matching the provided schema. Language-sensitive parsing should follow USER_LANGUAGE: ${D}.`,response_json_schema:G,strict:!0}),B=(T==null?void 0:T.data)||{};return{due_date:B.due_date??null,confidence:typeof B.confidence=="number"?B.confidence:0,normalized_title:typeof B.normalized_title=="string"?B.normalized_title:null,reason:typeof B.reason=="string"?B.reason:""}},z=g.useMemo(()=>[{target:".tasks-list-container",title:b("tasksTour.welcomeTitle"),content:b("tasksTour.welcomeContent")},{target:".task-filters-container",title:b("tasksTour.filterTitle"),content:b("tasksTour.filterContent")},{target:"#sidebar-members",title:b("tasksTour.nextMembersTitle"),content:b("tasksTour.nextMembersContent")}],[b]);g.useEffect(()=>{const R=L=>{const{action:G}=L.detail;G==="new"?(l(null),u(!0)):G==="tour"&&p(!0)};window.addEventListener("actionTriggered",R);const D=E.get("action");return D==="new"?(l(null),u(!0),P({})):D==="tour"&&(p(!0),P({})),()=>{window.removeEventListener("actionTriggered",R)}},[E]),O7(C);const W=R=>{A(R);const D=new URLSearchParams;Object.entries(R).forEach(([L,G])=>{(L==="status"&&G!=="all"||L==="assignee"&&G!=="all")&&D.set(L,G)}),P(D)},H=async R=>{var D;try{if(!m)throw new Error("User not loaded");let L={...R,family_id:m.family_id};const G=!L.due_date||String(L.due_date).trim()==="";if(!o&&G&&L.title){t(!0);const{due_date:ne,confidence:ae,normalized_title:ie}=await I(L.title,N);if(t(!1),ie&&!L.title_locked&&(L.title=ie),ne&&ae>=.6){const Z=new Date(ne.replace(" ","T")).toLocaleString(N,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});window.confirm(b("task.llmInferredDueDateConfirm",{when:Z})||`Use inferred due date "${Z}"?`)&&(L.due_date=ne)}}s(!0);let T=null;if(o?(T=await Dt.update(o.id,L),_({title:b("task.updatedTitle"),description:"Task updated",duration:5e3})):(T=await Dt.create(L),_({title:b("task.createdTitle"),description:"Task created",duration:5e3})),(Array.isArray(L.assigned_to)?L.assigned_to:[]).includes(m.id)){let ne=m.name||"Someone";o&&o.updated_by&&o.updated_by!==m.id&&(ne=((D=v.find(re=>re.id===o.updated_by))==null?void 0:D.name)||ne);const ae=b("task.assignedToYouTitle")||"New Task Assigned",ie=`${ne} added a task for you: ${L.title}`;_({title:ae,description:ie,duration:5e3}),L7({title:ae,body:ie,url:window.location.origin+createPageUrl?createPageUrl("Tasks"):"/tasks"})}s(!1),u(!1),l(null)}catch(L){t(!1),s(!1),console.error("Error saving task:",L),_({title:b("error"),description:L&&L.detail&&(L.detail.detail||L.detail)||b("task.saveError"),variant:"destructive",duration:5e3})}},$=async R=>{try{await Dt.delete(R),_({title:b("task.deletedTitle"),duration:5e3})}catch{_({title:b("error"),description:b("task.deleteError"),variant:"destructive",duration:5e3})}},K=async(R,D)=>{try{const L=w.find(G=>G.id===R);await Dt.update(R,{...L,status:D}),loadData(),_({title:b("task.statusUpdatedTitle"),description:"Task updated",duration:5e3})}catch{_({title:b("error"),description:b("task.statusUpdateError"),variant:"destructive",duration:5e3})}},Y=R=>{l(R),u(!0)},Q=()=>{p(!1)},te=g.useMemo(()=>w.filter(R=>{const D=O.status==="all"||R.status===O.status,L=O.assignee==="all"||Array.isArray(R.assigned_to)&&R.assigned_to.includes(O.assignee);return D&&L}),[w,O]);return S?a.jsxs("div",{className:"p-6 text-center",children:[b("loading"),"..."]}):a.jsxs("div",{className:"p-6 max-w-4xl mx-auto relative",children:[(e||n)&&a.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-sm flex items-center justify-center z-20",children:a.jsx("div",{className:"px-4 py-3 rounded-lg border bg-white shadow-sm text-sm",children:e?b("task.inferencingDueDate")||"Analyzing task title":b("task.savingTask")||"Saving task"})}),a.jsx(Ol,{steps:z,run:f,onComplete:Q}),a.jsx("div",{className:"task-filters-container mb-6",children:a.jsx(I7,{filters:O,onFilterChange:W,familyMembers:v})}),a.jsx("div",{className:"tasks-list-container space-y-4",children:a.jsx(Si,{children:te.length>0?te.map(R=>a.jsx(yt.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},children:a.jsx(R7,{task:R,familyMembers:v,onEdit:Y,onStatusChange:(D,L)=>K(D.id,L),onDelete:()=>$(R.id)})},R.id)):a.jsxs("div",{className:"text-center py-20 text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(Ub,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:b("allClear")}),a.jsx("p",{className:"text-sm",children:b("noTasksMatchFilters")})]})})}),a.jsx(GC,{isOpen:c,onClose:()=>{u(!1),l(null)},onSave:H,task:o,familyMembers:v,busy:e||n,inferring:e,saving:n})]})}async function $7({title:e,body:t,url:n}){var s;if("Notification"in window&&Notification.permission==="granted")try{const o=await((s=navigator.serviceWorker)==null?void 0:s.ready);o!=null&&o.showNotification?await o.showNotification(e,{body:t,icon:"/icons/icon-192.png",badge:"/icons/badge-72.png",data:{url:n||"/"}}):new Notification(e,{body:t,icon:"/icons/icon-192.png"})}catch{}}const z7=e=>{const t=g.useRef(null);g.useEffect(()=>{var s,o;if(!e)return;let n;try{const l=localStorage.getItem("famlyai_token"),c=window.location.protocol==="https:"?"wss:":"ws:",u=window.location.host,f=((o=(s=import.meta)==null?void 0:s.env)==null?void 0:o.VITE_WS_BASE)||`${c}//${u}`;n=new window.WebSocket(`${f}/ws?token=${encodeURIComponent(l)}`),t.current=n,n.onmessage=p=>{try{const m=JSON.parse(p.data);m&&(m.type==="schedule_event_created"||m.type==="schedule_event_updated"||m.type==="schedule_event_deleted")&&e()}catch{}}}catch{}return()=>{try{n&&n.close()}catch{}}},[e])},V7={school:Ms,work:Ms,sports:Ms,medical:Ms,social:Ms,family:Ms,holiday:mn,studyday:mn,other:Ms},W7=({event:e,familyMembers:t,onEdit:n,onDelete:s})=>{const{t:o}=Je(),l=V7[e.category]||Ms,[c,u]=g.useState(0),[f,p]=g.useState(!1),[m,y]=g.useState(0),w=(C=>{if(!C||C.length===0)return{text:o("allFamily"),Icon:vi};if(C.length===1){const _=t.find(E=>E.id===C[0]);return{text:(_==null?void 0:_.name)||"Unknown",Icon:rr,color:_==null?void 0:_.color}}if(t&&C.length===t.length)return{text:o("allFamily"),Icon:vi};const b=C.map(_=>{const E=t.find(P=>P.id===_);return E?E.name:"Unknown"}).filter(Boolean);let N="";return b.length<=2?N=b.join(", "):N=b.slice(0,2).join(", ")+` +${b.length-2} more`,{text:N,Icon:rr}})(e.family_member_ids),S=(C,b)=>{p(!1);const N=80;b.offset.x<-N&&n?(y(-500),n(e)):b.offset.x>N&&s&&(y(500),s(e)),u(0)},k=(C,b)=>{u(b.offset.x)};return a.jsxs(yt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{x:m,opacity:0,transition:{duration:.3}},drag:"x",dragConstraints:{left:0,right:0},onDragStart:()=>p(!0),onDrag:k,onDragEnd:S,className:"relative mb-3",children:[a.jsx(yt.div,{className:"absolute inset-y-0 left-full w-20 bg-blue-500 flex items-center justify-start pl-5 rounded-l-lg",style:{right:"-5rem"},animate:{opacity:f&&c<-40?1:0},children:a.jsx(pi,{className:"w-5 h-5 text-white"})}),a.jsx(yt.div,{className:"absolute inset-y-0 right-full w-20 bg-red-500 flex items-center justify-end pr-5 rounded-r-lg",style:{left:"-5rem"},animate:{opacity:f&&c>40?1:0},children:a.jsx(es,{className:"w-5 h-5 text-white"})}),a.jsx(Fe,{children:a.jsxs($e,{className:"p-4 flex items-start gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-20",children:[a.jsx("span",{className:"text-sm font-semibold text-red-600",children:xe(ze(e.start_time),"MMM")}),a.jsx("span",{className:"text-3xl font-bold text-gray-800",children:xe(ze(e.start_time),"d")}),a.jsx("span",{className:"text-xs text-gray-500",children:xe(ze(e.start_time),"yyyy")})]}),a.jsxs("div",{className:"flex-1 border-l pl-4",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(mn,{className:"w-3 h-3"}),a.jsxs("span",{children:[xe(ze(e.start_time),"p")," - ",xe(ze(e.end_time),"p")]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(l,{className:"w-3 h-3"}),a.jsx("span",{children:o(e.category)||e.category})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(w.Icon,{className:"w-3 h-3"}),w.color&&a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:w.color}}),a.jsx("span",{children:w.text})]})]})]})]})})]})};function B7(){const{user:e,family:t,members:n,events:s,isLoading:o,error:l,reload:c}=Ma(),[u,f]=g.useState({category:"all",search:""}),[p,m]=g.useState(!1),{t:y}=Je(),{toast:v}=Yt(),[w,S]=g.useState(null),[k,C]=g.useState(null);g.useEffect(()=>{const z=W=>{var H;((H=W==null?void 0:W.detail)==null?void 0:H.action)==="new"&&(S(null),C({date:new Date,hour:9}))};return window.addEventListener("actionTriggered",z),()=>window.removeEventListener("actionTriggered",z)},[]),z7(c);const b=(z,W)=>{f(H=>({...H,[z]:W}))},N=z=>{S(z),C(null)},_=async z=>{if(window.confirm(y("confirmDeleteEvent",{title:z.title})))try{m(!0),await it.delete(z.id),v({title:y("eventDeleted"),description:z.title,duration:5e3})}catch(W){v({title:y("deleteFailed"),description:(W==null?void 0:W.message)||y("somethingWentWrong"),variant:"destructive",duration:5e3})}finally{m(!1)}},E=()=>{S(null),C(null)},P=async(z,W,H="single")=>{try{let $={...z};if(w&&w.id||$.family_id||(t&&t.id?$.family_id=t.id:e&&e.family_id&&($.family_id=e.family_id)),w&&w.id)await it.update(w.id,$),v({title:y("eventUpdated"),description:$.title,variant:"success",duration:5e3});else{await it.create($),v({title:y("eventCreated"),description:$.title,variant:"success",duration:5e3});const K=Array.isArray($.family_member_ids)?$.family_member_ids:[];if(e&&K.includes(e.id)){let Y=e.name||"Someone";const Q=y("event.assignedToYouTitle")||"New Event Scheduled",te=`${Y} scheduled an event for you: ${$.title}`;v({title:Q,description:te,duration:5e3}),$7({title:Q,body:te,url:window.location.origin+createPageUrl?createPageUrl("Events"):"/events"})}}E()}catch{v({title:y("errorSavingEvent"),description:z.title,variant:"destructive",duration:5e3})}},O=async z=>{let W=!1;if(z.recurrence_id&&!z.is_series_exception)if(window.confirm(`${y("recurringEventWarning")}

${y("chooseDeletionOption")}

${y("okOption")} = ${y("deleteEntireSeries")}
${y("cancelOption")} = ${y("deleteOnlyThisOccurrence")}`))try{const $=await it.filter({recurrence_id:z.recurrence_id});let K=0;for(const Y of $){const Q=await Task.filter({related_event_id:Y.id});if(Q.length>0){for(const te of Q)await Task.delete(te.id);K+=Q.length}await it.delete(Y.id)}v({duration:5e3,title:y("seriesDeleted"),description:y("seriesDeletedDescription",{title:z.title,count:K})}),W=!0}catch{v({title:y("deleteFailed"),description:y("couldNotDeleteSeries"),variant:"destructive",duration:5e3})}else try{const $=await Task.filter({related_event_id:z.id});if($.length>0&&window.confirm(y("confirmDeleteRelatedTasks",{count:$.length})))for(const Y of $)await Task.delete(Y.id);await it.update(z.id,{is_recurring:!1,is_series_exception:!0,original_recurrence_id:z.recurrence_id,recurrence_id:null}),v({title:y("eventDeleted"),description:y("singleOccurrenceDeletedDescription",{title:z.title}),duration:5e3}),W=!0}catch($){console.error("[FamlyAI] Error deleting event:",$,z),v({title:y("deleteFailed"),description:($==null?void 0:$.message)||y("somethingWentWrong"),variant:"destructive",duration:5e3})}else if(window.confirm(y("confirmDeleteEvent",{title:z.title})))try{const H=await Task.filter({related_event_id:z.id});if(H.length>0&&window.confirm(y("confirmDeleteRelatedTasks",{count:H.length})))for(const K of H)await Task.delete(K.id);await it.delete(z.id),v({title:y("eventDeleted"),description:y("eventDeletedDescription",{title:z.title}),duration:5e3}),W=!0}catch{v({title:y("deleteFailed"),description:y("somethingWentWrong"),variant:"destructive",duration:5e3})}W&&E()},A=g.useMemo(()=>{const z=new Date;return s.filter(W=>{if((W.end_time?new Date(W.end_time):new Date(W.start_time))<z)return!1;const $=u.category==="all"||W.category===u.category,K=!u.search||W.title.toLowerCase().includes(u.search.toLowerCase())||W.description&&W.description.toLowerCase().includes(u.search.toLowerCase());return $&&K}).sort((W,H)=>{const $=new Date(W.start_time),K=new Date(H.start_time);return $.getTime()-K.getTime()})},[s,u]),I=["all","school","work","sports","medical","social","family","holiday","studyday","other"];return p?a.jsxs("div",{className:"p-6 text-center",children:[y("loading"),"..."]}):a.jsxs("div",{className:"p-4 sm:p-6 max-w-4xl mx-auto",children:[a.jsx(Cu,{isOpen:!!w||!!k,onClose:E,onSave:P,onDelete:O,familyMembers:n,initialData:w,selectedDate:k==null?void 0:k.date,selectedHour:k==null?void 0:k.hour}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:y("events")}),a.jsx(Fe,{children:a.jsxs($e,{className:"p-4 flex flex-wrap gap-4",children:[a.jsx(He,{placeholder:y("search"),value:u.search,onChange:z=>b("search",z.target.value),className:"max-w-xs"}),a.jsxs(sn,{value:u.category,onValueChange:z=>b("category",z),children:[a.jsx(Xt,{className:"w-[180px]",children:a.jsx(an,{placeholder:y("filterByCategory")})}),a.jsx(Jt,{children:I.map(z=>a.jsx(_e,{value:z,children:z==="all"?y("allStatuses"):y(z)||z},z))})]})]})})]}),a.jsx("div",{children:A.length>0?A.map(z=>a.jsx(W7,{event:z,familyMembers:n,onEdit:N,onDelete:()=>_(z)},z.id)):a.jsxs("div",{className:"text-center py-16 text-gray-500",children:[a.jsx("h3",{className:"text-lg font-semibold",children:y("noEventsFound")}),a.jsx("p",{className:"mt-2 text-sm",children:y("tryDifferentFilters")})]})})]})}console.log("WishlistItem import:",Rs);const U7=()=>{var K,Y,Q,te;const[e]=Bs(),{user:t,family:n,members:s,isFamilyMember:o,memberId:l}=Ma(),[c,u]=g.useState([]),[f,p]=g.useState(!1),[m,y]=g.useState({name:"",url:"",price:""}),[v,w]=g.useState(!1),[S,k]=g.useState("loading"),[C,b]=g.useState(""),[N,_]=g.useState(""),[E,P]=g.useState(null),O=Yt();g.useEffect(()=>{const R=e.get("memberid");if(console.log("Wishlist useEffect: members",s,"memberIdParam",R),s&&R){const D=s.find(L=>L.id===R);console.log("Wishlist useEffect: found member",D),P(D)}else P(null);k("loading")},[s,e]),g.useEffect(()=>{E&&E.id?(console.log("Wishlist useEffect: loading items for member",E.id),A(E.id)):s&&s.length>0&&console.warn("Wishlist: No valid member selected, cannot load items.")},[E,s]);const A=async R=>{k("loading");try{console.log("Calling WishlistItem.filter with",R);const D=await Rs.filter({family_member_id:R});console.log("WishlistItem.filter response:",D);const L=Array.isArray(D)?D:(D==null?void 0:D.results)||[];u(L),k("visible")}catch(D){u([]),k("error"),_("Kon verlanglijst niet laden."),console.error("WishlistItem.filter error:",D)}},I=async R=>{try{O({title:"Item geclaimd!",description:`Je hebt ${R.name} succesvol geclaimd.`,duration:5e3}),A(E.id)}catch{O({title:"Fout",description:"Kon item niet claimen.",variant:"destructive",duration:5e3})}},z=async R=>{if(window.confirm("Weet je zeker dat je dit item wilt vrijgeven zodat het weer beschikbaar is?"))try{O({title:"Item vrijgegeven",description:`${R.name} is weer beschikbaar.`,duration:5e3}),A(E.id)}catch{O({title:"Fout",description:"Kon item niet vrijgeven.",variant:"destructive",duration:5e3})}},W=async R=>{if(R.preventDefault(),!m.name){O({title:"Naam is verplicht",variant:"destructive",duration:5e3});return}w(!0);try{let D=m.price?parseFloat(m.price):null;if(m.url&&!D)try{const L=await Aa({prompt:`Haal de numerieke prijs uit de inhoud van deze URL: ${m.url}`,add_context_from_internet:!0,response_json_schema:{type:"object",properties:{price:{type:"number"}}}});L&&typeof L.price=="number"&&(D=L.price)}catch(L){console.warn("Kon prijs niet automatisch ophalen:",L)}O({title:"Item toegevoegd!",description:`${m.name} is toegevoegd aan de verlanglijst.`,duration:5e3}),y({name:"",url:"",price:""}),p(!1),A()}catch(D){console.error("Fout bij toevoegen item:",D),O({title:"Fout",description:"Kon item niet toevoegen.",variant:"destructive",duration:5e3})}finally{w(!1)}},H=async R=>{if(window.confirm("Weet je zeker dat je dit item wilt verwijderen?"))try{O({title:"Item verwijderd",description:"Het item is verwijderd van de verlanglijst.",duration:5e3}),A(E.id)}catch{O({title:"Fout",description:"Kon item niet verwijderen.",variant:"destructive",duration:5e3})}},$=()=>{navigator.clipboard.writeText(window.location.href),O({title:"Link gekopieerd!",description:"De link naar deze verlanglijst is naar je klembord gekopieerd.",duration:5e3})};if(S==="loading")return s&&s.length>0&&!E?a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 flex flex-col justify-center items-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Os,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Geen geldige gebruiker"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Kon geen familielid vinden voor deze verlanglijst."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 flex flex-col justify-center items-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(At,{className:"w-12 h-12 animate-spin mx-auto text-pink-500 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Verlanglijst laden..."}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Even geduld alstublieft"})]})});if(S==="error")return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 flex flex-col justify-center items-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Os,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Fout"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Er is iets misgegaan"}),a.jsx("div",{className:"mt-4 p-4 text-red-600 rounded-md bg-red-50",children:N})]})});if(S==="password_prompt")return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("header",{className:"text-center mb-8",children:[a.jsx("div",{style:{backgroundColor:(E==null?void 0:E.color)||"#e2e8f0"},className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center text-4xl font-bold text-white shadow-lg",children:((Y=(K=E==null?void 0:E.name)==null?void 0:K.charAt(0))==null?void 0:Y.toUpperCase())||""}),a.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Verlanglijst"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Voer het wachtwoord in om deze verlanglijst te bekijken."})]}),a.jsx(Fe,{className:"max-w-sm mx-auto",children:a.jsx($e,{className:"p-6",children:a.jsxs("form",{onSubmit:handlePasswordSubmit,className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[a.jsx(Yb,{className:"w-5 h-5"})," Deze verlanglijst is beschermd."]}),a.jsx(He,{type:"password",value:C,onChange:R=>b(R.target.value),placeholder:"Voer wachtwoord in",required:!0}),a.jsx(se,{type:"submit",className:"w-full",children:"Ontgrendel verlanglijst"}),N&&a.jsx("p",{className:"text-sm text-red-500",children:N})]})})})]})});if(S==="visible")return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"w-16 h-16 rounded-full mb-4 flex items-center justify-center text-white text-2xl font-bold shadow-lg",style:{backgroundColor:(E==null?void 0:E.color)||"#8b5cf6"},children:((te=(Q=E==null?void 0:E.name)==null?void 0:Q.charAt(0))==null?void 0:te.toUpperCase())||""}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(Vo,{className:"w-8 h-8 text-pink-500"}),"Verlanglijst ",E!=null&&E.name?`voor ${E.name}`:""]}),(E==null?void 0:E.dob)&&a.jsxs("p",{className:"text-gray-500",children:["Wordt ",new Date().getFullYear()-new Date(E.dob).getFullYear()+1," jaar!"]}),a.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mt-2",children:[a.jsx(pT,{className:"w-5 h-5"}),a.jsx("span",{className:"text-lg",children:"Cadeautjes die mij blij maken!"})]})]}),a.jsxs(se,{onClick:$,variant:"outline",className:"gap-2",children:[a.jsx(Qx,{className:"w-4 h-4"}),"Kopieer link"]})]}),o&&a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs(se,{onClick:()=>p(!f),className:"gap-2",children:[a.jsx(Xx,{className:"w-4 h-4"}),f?"Annuleren":"Nieuw item toevoegen"]})}),a.jsx(Si,{children:f&&a.jsx(yt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:a.jsx(Fe,{className:"mb-6 bg-white/80 backdrop-blur-sm border-purple-200",children:a.jsx($e,{className:"p-6",children:a.jsxs("form",{onSubmit:W,className:"space-y-4",children:[a.jsx(He,{placeholder:"Wat wil je graag hebben?",value:m.name,onChange:R=>y({...m,name:R.target.value}),required:!0}),a.jsx(He,{placeholder:"Link naar product (optioneel)",value:m.url,onChange:R=>y({...m,url:R.target.value})}),a.jsx(He,{type:"number",step:"0.01",placeholder:"Prijs (optioneel - wordt automatisch opgehaald)",value:m.price,onChange:R=>y({...m,price:R.target.value})}),a.jsxs(se,{type:"submit",disabled:v,className:"w-full",children:[v?a.jsx(At,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(Xx,{className:"w-4 h-4 mr-2"}),v?"Toevoegen...":"Item toevoegen"]})]})})})})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.jsx(Si,{children:c.map((R,D)=>a.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:D*.1},children:a.jsx(Fe,{className:`h-full transition-all duration-300 ${R.status==="claimed"?"bg-gray-50 opacity-75":"bg-white/80 backdrop-blur-sm hover:shadow-lg"} border-purple-200`,children:a.jsxs($e,{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:`font-bold text-lg ${R.status==="claimed"?"line-through text-gray-500":"text-gray-900"}`,children:R.name}),o&&a.jsx(se,{variant:"ghost",size:"icon",onClick:()=>H(R.id),className:"text-red-500 hover:text-red-700 h-8 w-8",children:a.jsx(es,{className:"w-4 h-4"})})]}),typeof R.price=="number"&&a.jsxs("p",{className:`text-2xl font-bold mb-3 ${R.status==="claimed"?"text-gray-400":"text-green-600"}`,children:["",R.price.toFixed(2)]}),R.url&&a.jsxs("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 text-sm mb-4 hover:underline ${R.status==="claimed"?"text-gray-400":"text-blue-600"}`,children:[a.jsx(Qx,{className:"w-4 h-4"}),"Bekijk product"]}),R.status==="claimed"?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 px-3 py-2 rounded-lg",children:[a.jsx(Di,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["Geclaimd door ",R.claimed_by_name]})]}),o&&a.jsx(se,{variant:"outline",size:"sm",onClick:()=>z(R),className:"w-full",children:"Vrijgeven"})]}):a.jsxs(se,{onClick:()=>I(R),className:"w-full bg-purple-600 hover:bg-purple-700",children:[a.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Ik ga dit kopen!"]})]})})},R.id))})}),c.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Nog geen items op de verlanglijst"}),a.jsx("p",{className:"text-gray-500",children:o?"Voeg je eerste item toe om te beginnen!":"Deze verlanglijst is nog leeg."})]})]})})};var _u="Tabs",[H7,M9]=dr(_u,[iu]),qC=iu(),[Y7,Ug]=H7(_u),XC=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...p}=e,m=nu(u),[y,v]=ts({prop:s,onChange:o,defaultProp:l??"",caller:_u});return a.jsx(Y7,{scope:n,baseId:Bn(),value:y,onValueChange:v,orientation:c,dir:m,activationMode:f,children:a.jsx(Ie.div,{dir:m,"data-orientation":c,...p,ref:t})})});XC.displayName=_u;var JC="TabsList",QC=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,l=Ug(JC,n),c=qC(n);return a.jsx(DS,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:s,children:a.jsx(Ie.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});QC.displayName=JC;var ZC="TabsTrigger",e_=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...l}=e,c=Ug(ZC,n),u=qC(n),f=r_(c.baseId,s),p=s_(c.baseId,s),m=s===c.value;return a.jsx(AS,{asChild:!0,...u,focusable:!o,active:m,children:a.jsx(Ie.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:ye(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?c.onValueChange(s):y.preventDefault()}),onKeyDown:ye(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(s)}),onFocus:ye(e.onFocus,()=>{const y=c.activationMode!=="manual";!m&&!o&&y&&c.onValueChange(s)})})})});e_.displayName=ZC;var t_="TabsContent",n_=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:l,...c}=e,u=Ug(t_,n),f=r_(u.baseId,s),p=s_(u.baseId,s),m=s===u.value,y=g.useRef(m);return g.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),a.jsx(Nn,{present:o||m,children:({present:v})=>a.jsx(Ie.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:v&&l})})});n_.displayName=t_;function r_(e,t){return`${e}-trigger-${t}`}function s_(e,t){return`${e}-content-${t}`}var G7=XC,a_=QC,i_=e_,o_=n_;const l_=G7,Hg=g.forwardRef(({className:e,...t},n)=>a.jsx(a_,{ref:n,className:pe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Hg.displayName=a_.displayName;const wr=g.forwardRef(({className:e,...t},n)=>a.jsx(i_,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));wr.displayName=i_.displayName;const br=g.forwardRef(({className:e,...t},n)=>a.jsx(o_,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));br.displayName=o_.displayName;const ub=["#ef4444","#f97316","#84cc16","#22c55e","#14b8a6","#06b6d4","#3b82f6","#8b5cf6","#d946ef","#ec4899"];function K7({isOpen:e,onClose:t,member:n,onSave:s,onInvite:o,onConnectEmail:l,autoFillNameFromEmail:c}){const{t:u,familyLanguage:f}=Je(),[p,m]=g.useState("member"),[y,v]=g.useState({name:"",email:"",role:"child",dob:"",color:ub[0],language:f,wishlist_password:""}),[w,S]=g.useState({email:"",name:"",role:"child"}),[k,C]=g.useState(""),[b,N]=g.useState({email:""}),_=!!n,E=(n==null?void 0:n.role)==="ai_assistant",P=!!(n!=null&&n.user_id)&&!!(n!=null&&n.email),O=!!(n!=null&&n.pending_user_email),A=["en","es","fr","de","nl","it","pt"],[I,z]=g.useState((n==null?void 0:n.email)||"");g.useEffect(()=>{z((n==null?void 0:n.user_id)||""),v(H=>({...H,email:(n==null?void 0:n.user_id)||"",name:(n==null?void 0:n.name)||""}))},[e,n]);const W=async H=>{if(H.preventDefault(),_&&n&&I&&I!==(n.user_id||n.email)){l&&await l(n,I);return}let $;_?($={...y},I&&($.user_id=I),delete $.email):($={...y,name:w.name,role:w.role,pending_user_email:w.email,user_id:w.email},delete $.email),s&&s($)};return e?a.jsx(pu,{open:e,onOpenChange:t,children:a.jsxs(Ml,{className:"sm:max-w-[480px]",children:[a.jsx(Pl,{children:a.jsxs(Tl,{className:"flex items-center gap-2",children:[E?a.jsx(Xr,{className:"w-5 h-5"}):_?a.jsx(pi,{className:"w-5 h-5"}):a.jsx(xi,{className:"w-5 h-5"}),u(E?"editAIAssistant":_?"editMember":"addMember")]})}),a.jsxs("form",{onSubmit:W,className:"space-y-4 pt-2",children:[(E||_)&&a.jsxs("div",{children:[a.jsx(et,{htmlFor:"name",children:u(E?"aiName":"memberName")}),a.jsx(He,{id:"name",value:y.name,onChange:H=>v($=>({...$,name:H.target.value})),placeholder:E?u("aiNamePlaceholder"):void 0,required:!0})]}),!E&&_&&a.jsxs("div",{children:[a.jsx(et,{htmlFor:"email",children:u("emailAddress")||"Email Address"}),a.jsx(He,{id:"email",type:"email",value:I,onChange:H=>{z(H.target.value),v($=>({...$,email:H.target.value}))},className:"flex-1",required:!0}),(n==null?void 0:n.user_id)&&n.user_id!==I&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",n.user_id]})]}),!E&&_&&O&&!P&&a.jsxs("div",{children:[a.jsx(et,{children:u("pendingInvitationEmail")||"Pending Invitation Email"}),a.jsx("div",{className:"flex gap-2 items-center",children:a.jsx(He,{value:n.pending_user_email,disabled:!0,className:"flex-1"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u("pendingEmailHelper")||"This member has a pending invitation."})]}),!E&&!_&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"invite-email",children:u("emailAddress")}),a.jsx(He,{id:"invite-email",type:"email",value:w.email,onChange:H=>S($=>({...$,email:H.target.value})),placeholder:u("enterEmailAddress"),required:!0})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"invite-name",children:u("memberName")}),a.jsx(He,{id:"invite-name",value:w.name,onChange:H=>{S($=>({...$,name:H.target.value})),C(H.target.value)},placeholder:u("memberName"),required:!0})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"invite-role",children:u("role")}),a.jsxs(sn,{value:w.role,onValueChange:H=>S($=>({...$,role:H})),children:[a.jsx(Xt,{children:a.jsx(an,{})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"parent",children:u("parent")}),a.jsx(_e,{value:"teen",children:u("teen")}),a.jsx(_e,{value:"child",children:u("child")})]})]})]})]}),!E&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"dob",children:u("dateOfBirth")}),a.jsxs(Jr,{children:[a.jsx(Qr,{asChild:!0,children:a.jsxs(se,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[a.jsx(mn,{className:"mr-2 h-4 w-4"}),y.dob?xe(new Date(y.dob),"PPP"):u("selectDate")]})}),a.jsx(Er,{className:"w-auto p-0",children:a.jsx(Ea,{mode:"single",selected:y.dob?new Date(y.dob):void 0,onSelect:H=>v($=>({...$,dob:H?xe(H,"yyyy-MM-dd"):""})),disabled:H=>H>new Date,initialFocus:!0})})]})]}),_&&a.jsxs("div",{children:[a.jsx(et,{htmlFor:"role",children:u("role")}),a.jsxs(sn,{value:y.role,onValueChange:H=>v($=>({...$,role:H})),children:[a.jsx(Xt,{children:a.jsx(an,{})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"parent",children:u("parent")}),a.jsx(_e,{value:"teen",children:u("teen")}),a.jsx(_e,{value:"child",children:u("child")})]})]})]})]}),a.jsxs("div",{children:[a.jsxs(et,{className:"flex items-center gap-2 mb-2",children:[a.jsx(uT,{className:"w-4 h-4"}),u("profileColor")]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ub.map(H=>a.jsx("button",{type:"button",onClick:()=>v($=>({...$,color:H})),className:`w-8 h-8 rounded-full transition-all ${y.color===H?"ring-2 ring-offset-2 ring-blue-500":""}`,style:{backgroundColor:H}},H))})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"language",children:u("language")}),a.jsxs(sn,{value:y.language,onValueChange:H=>v($=>({...$,language:H})),children:[a.jsx(Xt,{children:a.jsx(an,{})}),a.jsx(Jt,{children:A.map(H=>{const $=p1(H);return a.jsx(_e,{value:H,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{children:$.flag}),a.jsx("span",{children:$.name})]})},H)})})]})]}),a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"wishlist-password",className:"flex items-center gap-2",children:[a.jsx(Yb,{className:"w-4 h-4"}),u("wishlistPassword")]}),a.jsx(He,{id:"wishlist-password",type:"text",value:y.wishlist_password,onChange:H=>v($=>({...$,wishlist_password:H.target.value})),placeholder:u("optionalPassword")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u("wishlistPasswordHelper")})]})]}),a.jsxs(gu,{children:[a.jsx(se,{type:"button",variant:"outline",onClick:t,children:u("cancel")}),a.jsx(se,{type:"submit",children:u("save")})]})]})]})}):null}const q7=[{target:".member-card-0",title:"Family Member Card",content:"Each family member has a card with their name and role. You can edit details, remove members, or chat with them from here."},{target:".ai-assistant-card",title:"AI Family Assistant",content:"Your AI assistant is now part of the family! Give it a name and chat with it just like any other family member."}],fb=["#FF5733","#33FF57","#3357FF","#FF33A1","#FFBD33","#8D33FF","#33FFBD","#A1FF33","#5733FF","#FF337A","#33A1FF","#7A33FF"];function X7(){const{user:e,family:t,members:n,isLoading:s,reload:o}=Ma(),l=Array.isArray(n)&&e?n.find(T=>T&&T.user_id===e.id):null,[c,u]=g.useState([]),[f,p]=g.useState(!1),[m,y]=g.useState(null),[v,w]=g.useState(!1),[S,k]=g.useState(!1),[C,b]=g.useState(""),N=_t(),{toast:_}=Yt(),{t:E}=Je(),[P,O]=Bs();g.useEffect(()=>{async function T(){if(!(e!=null&&e.family_id))return u([]);const ae=await vr.filter({family_id:e.family_id,status:"pending"}).catch(()=>[]);u(Array.isArray(ae)?ae:[])}T();const B=ae=>{const{action:ie}=ae.detail;ie==="new"?A():ie==="tour"&&w(!0)};window.addEventListener("actionTriggered",B);const ne=P.get("action");return ne==="new"?(A(),O({})):ne==="tour"&&(w(!0),O({})),()=>window.removeEventListener("actionTriggered",B)},[e,P,O]);const A=()=>{y(null),p(!0)},I=T=>{y(T),p(!0)},z=async T=>{if(window.confirm(E("confirmDeleteMember")||"Are you sure you want to delete this member?"))try{await ht.delete(T),_({title:E("memberDeleted")||"Member deleted",duration:5e3}),o()}catch{_({title:E("error")||"Error",description:E("couldNotDeleteMember")||"Could not delete member",variant:"destructive",duration:5e3})}},W=async()=>{try{const T=await tt.me();if(!(T!=null&&T.family_id))return;await sr.updateName(T.family_id,(C||"").trim()),o(),k(!1)}catch(T){console.error("Failed to update family name:",T)}},H=async T=>{try{const B=await tt.me(),ne=Object.fromEntries(Object.entries({...T,dob:T.dob?new Date(T.dob).toISOString().split("T")[0]:null}).filter(([ae,ie])=>ie!==void 0));console.log("Saving:",m),m&&m.id?(console.log("Saving:",m),await ht.update(m.id,ne),_({title:E("memberUpdated")||"Member updated",duration:5e3})):(await ht.create({...ne,family_id:B.family_id}),_({title:E("memberAdded")||"Member added",duration:5e3})),o(),p(!1)}catch(B){console.error(" Save error:",B),_({title:E("error")||"Error",description:E("couldNotSaveMember")||"Could not save member",variant:"destructive",duration:5e3})}},$=async T=>{try{const B=await tt.me();await Hr.create({email:T.email.toLowerCase(),added_by:B.email,status:"active",notes:`Invited as ${T.role} for ${T.name}`}),await vr.create({email:T.email,family_id:B.family_id,invited_by:B.email,status:"pending"}),await ht.create({name:T.name,role:T.role,family_id:B.family_id,pending_user_email:T.email,color:fb[Math.floor(Math.random()*fb.length)]}),_({title:E("invitationSent")||"Invitation sent",description:`${T.email} has been invited and whitelisted.`,duration:5e3}),o(),p(!1)}catch{_({title:E("error")||"Error",description:E("couldNotSendInvitation")||"Could not send invitation",variant:"destructive",duration:5e3})}},K=async(T,B)=>{const ne=!!T.pending_user_email;if(T.user_id){await Y(T,B);return}try{const ae=await tt.me();if(ne&&T.pending_user_email===B){_({title:E("noChangeNeeded")||"No Change Needed",description:E("emailAlreadyPending")||"This email is already pending for this member. No changes were made.",variant:"default",duration:5e3}),p(!1);return}if(ne){const ie=await vr.filter({email:T.pending_user_email,family_id:ae.family_id});for(const re of ie)await vr.delete(re.id);console.log(`Deleted ${ie.length} old invitations for ${T.pending_user_email}`)}await Hr.create({email:B.toLowerCase(),added_by:ae.email,status:"active",notes:`Connected to existing member ${T.name}`}),await vr.create({email:B,family_id:ae.family_id,invited_by:ae.email,status:"pending"}),await ht.update(T.id,{pending_user_email:B,name:T.name,role:T.role}),_({title:ne?E("invitationUpdated")||"Invitation Updated":E("invitationSent")||"Invitation Sent",description:`${B} has been invited to connect to ${T.name}'s profile.`,duration:5e3}),loadMembers(),p(!1)}catch(ae){console.error("Error connecting email (for non-connected member):",ae),_({title:E("error")||"Error",description:ne?E("couldNotUpdateInvitation")||"Could not update invitation":E("couldNotSendInvitation")||"Could not send invitation",variant:"destructive",duration:5e3})}},Y=async(T,B)=>{if(T.user_id===B){_({title:E("noChangeNeeded"),description:E("emailAlreadyConnected"),variant:"default",duration:5e3});return}if(window.confirm("Changing the email will change the login for this member. Are you sure you want to proceed?"))try{await ht.update(T.id,{...T,user_id:B}),_({title:E("memberUpdated"),description:`Email updated to ${B}.`,duration:5e3}),o(),p(!1)}catch(ae){console.error("Error updating connected email:",ae),_({title:E("error"),description:E("couldNotUpdateInvitation"),variant:"destructive",duration:5e3})}},Q=async T=>{if(!l){_({title:E("error")||"Error",description:"Cannot start chat - user profile not found",variant:"destructive",duration:5e3});return}try{const B=await As.dm(T.id);N(Oe("Chat")+`?id=${B.id}`)}catch(B){console.error("Error starting member chat:",B),_({title:E("error")||"Error",description:"Could not start chat",variant:"destructive",duration:5e3})}},te=()=>{w(!1),localStorage.setItem("famly_tour_members_completed","true")},R=async T=>{if(!T.pending_user_email||!t){_({title:E("error")||"Error",description:E("missingDataToSendInvitation")||"Missing data to send invitation.",variant:"destructive",duration:5e3});return}_({title:"Sending Email...",description:`Preparing invitation for ${T.pending_user_email}`,duration:5e3});try{const ne=`${window.location.origin}${Oe("Index")}`;console.log("=== EMAIL DEBUG INFO ==="),console.log("Attempting to send email to:",T.pending_user_email),console.log("Family name:",t.name),console.log("Login URL:",ne),console.log("Member name:",T.name);const ae={to:T.pending_user_email,subject:`You're invited to join the ${t.name} family on famly.ai!`,body:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; background-color: #ffffff;">
            <h2 style="color: #3b82f6; text-align: center; margin-bottom: 25px;">You're invited to famly.ai!</h2>
            <p style="font-size: 16px; line-height: 1.5; color: #333333;">Hello ${T.name},</p>
            <p style="font-size: 16px; line-height: 1.5; color: #333333;">You've been invited to join the <strong>${t.name}</strong> family on famly.ai, a smart hub to manage schedules, tasks, and stay connected.</p>
            <p style="font-size: 16px; line-height: 1.5; color: #333333;">Please click below to get started:</p>
            <div style="text-align: center; margin: 30px 0;">
              <a href="${ne}" style="display: inline-block; padding: 12px 24px; background-color: #3b82f6; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 18px;">Join Your Family</a>
            </div>
            <p style="font-size: 14px; line-height: 1.5; color: #666666;">If the button doesn't work, copy and paste this link into your browser: <a href="${ne}" style="color: #3b82f6; text-decoration: underline;">${ne}</a></p>
            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eeeeee;">
            <p style="font-size: 14px; color: #666666; text-align: center;">Thanks,<br/>The famly.ai Team</p>
          </div>
        `};console.log("Email payload:",JSON.stringify(ae,null,2));const ie=await Xz(ae);console.log("=== EMAIL RESULT ==="),console.log("Success! Email result:",ie),_({title:E("invitationSent")||"Invitation Sent Successfully!",description:`Email sent to ${T.pending_user_email}. They should receive it shortly.`,duration:5e3})}catch(B){console.error("=== EMAIL ERROR ==="),console.error("Failed to send invitation:",B),console.error("Error name:",B.name),console.error("Error message:",B.message),console.error("Error stack:",B.stack),B.response&&(console.error("Response status:",B.response.status),console.error("Response data:",B.response.data)),_({title:"Email Send Failed",description:`Failed to send email to ${T.pending_user_email}. Error: ${B.message}`,variant:"destructive",duration:5e3})}},D=Array.isArray(n)?n:[],L=D.filter(T=>T&&T.role!=="ai_assistant"),G=D.filter(T=>T&&T.role==="ai_assistant");return s?a.jsxs("div",{className:"p-6 text-center",children:[E("loading")||"Loading","..."]}):a.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[a.jsx(Ol,{steps:q7,run:v,onComplete:te}),a.jsx("div",{className:"mb-8 p-4 bg-white rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-1",children:"Family name"}),S?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(He,{value:C,onChange:T=>b(T.target.value),placeholder:"Your family name",className:"max-w-xs"}),a.jsx(se,{size:"sm",onClick:W,children:"Save"}),a.jsx(se,{size:"sm",variant:"outline",onClick:()=>{k(!1),b((t==null?void 0:t.name)||"")},children:"Cancel"})]}):a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.name)||""})]}),S?null:a.jsxs(se,{size:"sm",variant:"outline",onClick:()=>k(!0),children:[a.jsx(pi,{className:"mr-2 h-4 w-4"}),"Edit"]})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(VT,{className:"w-5 h-5 text-blue-500"}),E("familyMembers")||"Family Members"]}),a.jsxs(se,{onClick:A,size:"sm",children:[a.jsx(xi,{className:"mr-2 h-4 w-4"}),E("addMember")||"Add Member"]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.jsx(Si,{children:L.map((T,B)=>a.jsxs(yt.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:B*.05},className:`member-card-${B} bg-white rounded-xl shadow-sm border p-6 text-center hover:shadow-md transition-shadow flex flex-col`,children:[a.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4",style:{backgroundColor:T.color||"#e0e0e0"},children:a.jsx("span",{className:"flex items-center justify-center h-full text-3xl font-bold text-white",children:T.name?T.name.charAt(0):"?"})}),a.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:T.name||"Unknown"}),a.jsx("p",{className:"text-sm text-gray-500 capitalize mb-2",children:E(T.role)||T.role||"Unknown"}),a.jsx("div",{className:"mb-3 min-h-[36px] flex flex-col justify-center items-center",children:T.user_id?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1 px-2 bg-green-50 rounded-full border border-green-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-xs text-green-700 font-medium",children:E("connected")||"Connected"})]}),T.user_id&&a.jsx("span",{className:"text-xs text-gray-600 mt-1 break-all",children:T.user_id})]}):T.pending_user_email?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1 px-2 bg-orange-50 rounded-full border border-orange-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs text-orange-700 font-medium",children:E("invitationPending")||"Invitation Pending"})]}),a.jsx("span",{className:"text-xs text-gray-600 mt-1 break-all",children:T.pending_user_email})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-1 px-2 bg-gray-100 rounded-full border border-gray-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:E("localOnly")||"Local Only"})]}),T.user_id&&a.jsx("span",{className:"text-xs text-gray-600 mt-1 break-all",children:T.user_id})]})}),a.jsxs("div",{className:"mt-auto space-y-2",children:[a.jsxs(se,{variant:"outline",size:"sm",className:"w-full text-sm",onClick:()=>Q(T),children:[a.jsx(hh,{className:"mr-2 h-4 w-4"}),E("chat")||"Chat"]}),a.jsxs(Wp,{children:[a.jsx(Bp,{asChild:!0,children:a.jsx(se,{variant:"ghost",size:"sm",className:"w-full text-gray-500",children:a.jsx(AP,{className:"h-4 w-4"})})}),a.jsxs(du,{align:"end",className:"w-48",children:[a.jsxs(Kr,{onClick:()=>I(T),children:[a.jsx(pi,{className:"mr-2 h-4 w-4"}),E("edit")||"Edit"]}),T.pending_user_email&&a.jsxs(Kr,{onClick:()=>R(T),children:[a.jsx(gp,{className:"mr-2 h-4 w-4"}),E("resendInvitation")||"Resend Invitation"]}),a.jsxs(Kr,{onClick:()=>N(Oe(`Wishlist?memberId=${T.id}`)),children:[a.jsx(Vo,{className:"mr-2 h-4 w-4"}),E("wishlist")||"Wishlist"]}),a.jsx(Up,{}),a.jsxs(Kr,{onClick:()=>z(T.id),className:"text-red-600 focus:text-red-700 focus:bg-red-50",children:[a.jsx(LT,{className:"mr-2 h-4 w-4"}),E("delete")||"Delete"]})]})]})]})]},T.id||T.email||T.name||Math.random()))})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Xr,{className:"w-5 h-5 text-indigo-500"}),E("aiAssistant")||"AI Assistant"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(T=>a.jsxs(yt.div,{layout:!0,className:"ai-assistant-card relative bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl shadow-sm border border-indigo-200 p-6 text-center hover:shadow-md transition-all flex flex-col",children:[a.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center",children:a.jsx(Xr,{className:"w-10 h-10 text-white"})}),a.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:T.name||"AI Assistant"}),a.jsx("p",{className:"text-sm text-indigo-600 mb-4",children:E("aiAssistant")||"AI Assistant"}),a.jsxs("div",{className:"mt-auto space-y-2",children:[a.jsxs(se,{variant:"outline",size:"sm",className:"w-full text-sm",onClick:()=>Q(T),children:[a.jsx(hh,{className:"mr-2 h-4 w-4"}),E("chat")||"Chat"]}),a.jsxs(se,{variant:"ghost",size:"sm",className:"w-full text-gray-500",onClick:()=>I(T),children:[a.jsx(pi,{className:"mr-2 h-4 w-4"}),E("editName")||"Edit Name"]})]})]},T.id||T.email||T.name||Math.random()))})]})]}),a.jsx(K7,{isOpen:f,onClose:()=>p(!1),onSave:H,onInvite:$,onConnectEmail:K,member:m,autoFillNameFromEmail:!0})]})}const J7=[{id:"gmail",name:"Gmail",description:"Connect your Gmail to automatically create events and tasks from emails",icon:gp,status:"available",category:"Email",color:"text-red-500"},{id:"google_calendar",name:"Google Calendar",description:"Sync your existing Google Calendar with famly.ai",icon:mn,status:"available",category:"Calendar",color:"text-blue-500"},{id:"whatsapp",name:"WhatsApp",description:"Send family updates and reminders via WhatsApp",icon:Kb,status:"coming_soon",category:"Messaging",color:"text-green-500"},{id:"apple_calendar",name:"Apple Calendar",description:"Sync with your Apple Calendar and iCloud",icon:mn,status:"coming_soon",category:"Calendar",color:"text-gray-500"},{id:"ios_shortcuts",name:"iOS Shortcuts",description:"Create Siri shortcuts for quick task and event creation",icon:_T,status:"coming_soon",category:"Mobile",color:"text-blue-400"},{id:"google_photos",name:"Google Photos",description:"Automatically organize family photos and create shared albums",icon:oP,status:"coming_soon",category:"Photos",color:"text-yellow-500"},{id:"spotify",name:"Spotify",description:"Create family playlists and share music recommendations",icon:cT,status:"coming_soon",category:"Entertainment",color:"text-green-600"},{id:"amazon",name:"Amazon",description:"Track orders and add items to shared shopping lists",icon:NT,status:"coming_soon",category:"Shopping",color:"text-orange-500"},{id:"slack",name:"Slack",description:"Connect work Slack for work-life balance insights",icon:Wb,status:"coming_soon",category:"Work",color:"text-purple-500"}];function Q7(){const[e,t]=g.useState([]),[n,s]=g.useState([]),{t:o}=Je();g.useEffect(()=>{l()},[]);const l=async()=>{t(J7),s([])},c=f=>{f.status==="available"&&alert(`Setting up ${f.name} connector - Coming soon!`)},u=e.reduce((f,p)=>{const m=p.category;return f[m]||(f[m]=[]),f[m].push(p),f},{});return a.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o("connectors")||"Connectors"}),a.jsx("p",{className:"text-gray-600",children:o("connectorsDescription")||"Connect your favorite apps and services to streamline your family life."})]}),n.length>0&&a.jsxs(Fe,{className:"mb-8",children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(Qb,{className:"w-5 h-5 text-green-500"}),o("activeConnectors")||"Active connectors"]})}),a.jsx($e,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(f=>{const p=f.icon;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(p,{className:`w-6 h-6 ${f.color}`}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:f.name}),a.jsx("p",{className:"text-xs text-green-700 font-medium",children:o("connected")||"Connected"})]})]}),a.jsx(se,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-gray-600",children:a.jsx(hl,{className:"w-4 h-4"})})]},f.id)})})})]}),a.jsx("div",{className:"space-y-8",children:Object.entries(u).map(([f,p])=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:o(f.toLowerCase())||f}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(m=>{const y=m.icon;return a.jsxs(Fe,{className:"hover:shadow-lg transition-shadow border-0 shadow-sm flex flex-col relative",children:[a.jsx(se,{onClick:()=>c(m),disabled:m.status!=="available",variant:"ghost",size:"icon",className:"absolute top-4 right-4 h-8 w-8 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full",children:a.jsx(xi,{className:"w-4 h-4"})}),a.jsx(Xe,{children:a.jsxs("div",{className:"flex items-center gap-3 pr-12",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center",children:a.jsx(y,{className:`w-6 h-6 ${m.color}`})}),a.jsxs("div",{children:[a.jsx(at,{className:"text-lg",children:m.name}),a.jsx(jn,{variant:m.status==="available"?"default":"secondary",className:"mt-1",children:m.status==="available"?o("available")||"Available":o("comingSoon")||"Coming soon"})]})]})}),a.jsx($e,{className:"flex-grow flex flex-col",children:a.jsx("p",{className:"text-sm text-gray-600 mb-4 flex-grow",children:m.description})})]},m.id)})})]},f))})]})}function c_({task:e,taskIndex:t,familyMembers:n,onTaskUpdate:s}){const{t:o}=Je(),l=(u,f)=>{s(t,{...e,[u]:f})},c=(u,f)=>{const p=e.assigned_to||[],m=f?[...p,u]:p.filter(y=>y!==u);l("assigned_to",m)};return a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-50/80 border border-green-200/90 rounded-lg text-xs w-full shadow-sm",children:[a.jsx(An,{id:`task-select-${t}`,checked:e.selected||!1,onCheckedChange:u=>l("selected",u),className:"h-4 w-4"}),a.jsx(He,{value:e.title,onChange:u=>l("title",u.target.value),className:"flex-1 h-7 text-xs border-green-300 bg-white",placeholder:o("taskTitle")||"Task title"}),a.jsx("div",{className:"flex items-center gap-4",children:n.map(u=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(An,{id:`task-${t}-member-${u.id}`,checked:(e.assigned_to||[]).includes(u.id),onCheckedChange:f=>c(u.id,f),className:"h-4 w-4"}),a.jsx("label",{htmlFor:`task-${t}-member-${u.id}`,className:"text-xs font-medium text-green-800 cursor-pointer",children:u.name})]},u.id))})]})}function mb({tasks:e,familyMembers:t,onChange:n}){const{t:s}=Je(),[o,l]=g.useState(e.map(u=>({...u,selected:u.selected!==!1})));g.useEffect(()=>{n&&n(o)},[o]);const c=(u,f)=>{l(p=>p.map((m,y)=>y===u?f:m))};return a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:s("aiSuggestedTasksTitle")||"AI Suggested Tasks:"}),o.map((u,f)=>a.jsx(c_,{task:u,taskIndex:f,familyMembers:t,onTaskUpdate:c},f))]})}function hb({events:e=[],onEventsUpdate:t,onConfirm:n,onCancel:s}){const o=(y,v,w)=>{if(!t)return;const S=[...e];S[y]={...S[y],[v]:w},t(S)},l=(y,v)=>{if(!t)return;const w=[...e];w[y]={...w[y],selected:!!v},t(w)},c=y=>{if(!t)return;const v=e.filter((w,S)=>S!==y);t(v)},u=y=>y?y.substring(0,16):"",f=(y,v,w)=>{const S=w?new Date(w).toISOString():"";o(y,v,S)},p=(e||[]).filter(y=>y.selected).length,m=()=>{if(!n)return;const v=(e||[]).filter(w=>w.selected).map(({selected:w,...S})=>S);n(v)};return a.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[a.jsxs("div",{className:"text-xs font-semibold text-green-700 mb-2",children:["Gevonden gebeurtenissen (",p,"/",e.length," geselecteerd):"]}),(e||[]).map((y,v)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-green-200 rounded-lg text-xs",children:[a.jsx(An,{checked:!!y.selected,onCheckedChange:w=>l(v,w),className:"h-4 w-4"}),a.jsx(He,{value:y.title||"",onChange:w=>o(v,"title",w.target.value),className:"flex-1 h-7 text-xs border-gray-300",placeholder:"Gebeurtenis naam"}),a.jsxs(sn,{value:y.category||"other",onValueChange:w=>o(v,"category",w),children:[a.jsx(Xt,{className:"w-20 h-7 text-xs",children:a.jsx(an,{})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"family",children:"Familie"}),a.jsx(_e,{value:"school",children:"School"}),a.jsx(_e,{value:"work",children:"Werk"}),a.jsx(_e,{value:"other",children:"Overig"})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(He,{type:"datetime-local",value:u(y.start_time),onChange:w=>f(v,"start_time",w.target.value),className:"w-36 h-7 text-xs border-gray-300"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(He,{type:"datetime-local",value:u(y.end_time),onChange:w=>f(v,"end_time",w.target.value),className:"w-36 h-7 text-xs border-gray-300"})]}),a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>c(v),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700",children:a.jsx(es,{className:"h-3 w-3"})})]},v)),n?a.jsxs("div",{className:"flex justify-end gap-2 pt-1",children:[s?a.jsx(se,{variant:"ghost",size:"sm",onClick:s,children:"Annuleren"}):null,a.jsxs(se,{size:"sm",onClick:m,disabled:p===0,className:"bg-green-600 hover:bg-green-700",children:["Opslaan (",p,")"]})]}):null]})}const Z7=async e=>{const t=e.toLowerCase();if(t.includes("convert")&&t.includes("event")&&t.includes("task")){const n=Array.isArray(messages)&&messages.length>0?messages.filter(s=>s.event_id).slice(-1)[0]:null;if(n&&n.event_id){setMessages(s=>[...s,{sender_id:user.id,content:e,created_at:new Date().toISOString()}]),setIsAiProcessing(!0);try{await ap(async()=>{const{ScheduleEvent:s}=await Promise.resolve().then(()=>bh);return{ScheduleEvent:s}},void 0).then(({ScheduleEvent:s})=>s.toTask(n.event_id)),setMessages(s=>[...s,{sender_id:"ai",content:"Event converted to task!",created_at:new Date().toISOString()}])}catch{setMessages(o=>[...o,{sender_id:"ai",content:"Failed to convert event to task.",created_at:new Date().toISOString()}])}return setIsAiProcessing(!1),setInputValue(""),!0}}if(t.includes("convert")&&t.includes("task")&&t.includes("event")){const n=Array.isArray(messages)&&messages.length>0?messages.filter(s=>s.task_id).slice(-1)[0]:null;if(n&&n.task_id){setMessages(s=>[...s,{sender_id:user.id,content:e,created_at:new Date().toISOString()}]),setIsAiProcessing(!0);try{await ap(async()=>{const{Task:s}=await Promise.resolve().then(()=>bh);return{Task:s}},void 0).then(({Task:s})=>s.toEvent(n.task_id)),setMessages(s=>[...s,{sender_id:"ai",content:"Task converted to event!",created_at:new Date().toISOString()}])}catch{setMessages(o=>[...o,{sender_id:"ai",content:"Failed to convert task to event.",created_at:new Date().toISOString()}])}return setIsAiProcessing(!1),setInputValue(""),!0}}return!1},e9=e=>e&&(e.created_date||e.created_at||e.created_time)||null,cl=e=>{const t=e9(e);if(!t)return null;const n=new Date(t);return Number.isNaN(n.getTime())?null:n},ma=e=>{const t=[...e];return t.sort((n,s)=>{const o=cl(n),l=cl(s);return!o&&!l?0:o?l?o-l:1:-1}),t},pb=e=>{const t=cl(e);return t?t.getTime():null},ch=(e,t)=>{if(!e||!t||e.sender_id!==t.sender_id||(e.content||"").trim()!==(t.content||"").trim())return!1;const n=pb(e),s=pb(t);return!n||!s?!1:Math.abs(n-s)<=1e4};function t9({conversationId:e,participants:t}){var te,R,D;const[n,s]=g.useState([]),{user:o,members:l}=Ma(),[c,u]=g.useState(null),[f,p]=g.useState(null),[m,y]=g.useState(!0),[v,w]=g.useState(""),[S,k]=g.useState(!1),[C,b]=g.useState(!1),[N,_]=g.useState(null),E=g.useRef(null),P=g.useRef(!1),{toast:O}=Yt(),A=g.useRef(null),I=g.useRef(null),z=g.useRef(0),W=L=>l.find(G=>G.role==="ai_assistant"&&G.family_id===L)||null,H=async(L,G)=>{const T=" Hoi! Ik ben jullie AI-assistent. Klik op  rechts om suggesties te krijgen voor taken en afspraken.";try{const B=await Yr.create({conversation_id:G,sender_id:L.id,content:T,message_type:"ai_introduction",read_by:[L.id]});return s(ne=>ma(ne.some(ae=>ae.id===B.id)?ne:[...ne,B])),await As.update(G,{last_message_preview:"AI assistent heeft zich aangesloten.",last_message_timestamp:new Date().toISOString()}),!0}catch{return!1}};g.useEffect(()=>{let L=!1;return(async()=>{if(!(!e||!o||!l.length)){y(!0),_(null);try{const G=l.find(ae=>ae.user_id===o.id);if(L)return;u(G);const T=W(o.family_id);if(L)return;p(T);let B=await Yr.filter({conversation_id:e},"created_date");if(L)return;T&&!P.current&&(B.some(ie=>ie.message_type==="ai_introduction")?P.current=!0:await H(T,e)?(P.current=!0,B=await Yr.filter({conversation_id:e},"created_date")):P.current=!0);const ne=[];for(const ae of ma(B))ae.message_type==="ai_introduction"&&ne.find(ie=>ie.message_type==="ai_introduction")||ne.push(ae);s(ma(ne)),window.dispatchEvent(new CustomEvent("famly-chat-opened",{detail:{conversationId:e}}))}catch(G){console.error("Chat initialization error:",G),O({title:"Chat Error",description:"Kon chat niet initialiseren.",variant:"destructive",duration:5e3})}finally{L||y(!1)}}})(),()=>{L=!0}},[e,O,o,l]),g.useEffect(()=>{var ae,ie;if(!e||!c)return;const L=localStorage.getItem("famlyai_token");if(!L)return;const G=window.location.protocol==="https:"?"wss:":"ws:",T=window.location.host,B=((ie=(ae=import.meta)==null?void 0:ae.env)==null?void 0:ie.VITE_WS_BASE)||`${G}//${T}`,ne=()=>{const re=new WebSocket(`${B}/ws?token=${encodeURIComponent(L)}`);A.current=re,re.onopen=()=>{z.current=0,I.current=window.setInterval(()=>{re.readyState===WebSocket.OPEN&&re.send("ping")},3e4)},re.onmessage=Z=>{try{if(typeof Z.data!="string"||!Z.data.startsWith("{"))return;const{type:fe,payload:J}=JSON.parse(Z.data);fe==="chat_cleared"&&J.conversation_id===e&&s([]),fe==="chat_message_created"&&J.conversation_id===e&&s(de=>{if(de.some(be=>be.id===J.id))return de;const he=de.filter(be=>!(be.__pending&&ch(be,J)));return he.some(be=>ch(be,J))?he:ma([...he,J])})}catch(fe){console.warn("WS parse error:",fe)}},re.onerror=Z=>console.warn("WS error:",Z),re.onclose=()=>{I.current&&(clearInterval(I.current),I.current=null);const Z=Math.min(3e4,1e3*Math.pow(2,z.current++));setTimeout(ne,Z)}};return ne(),()=>{var re;I.current&&(clearInterval(I.current),I.current=null),(re=A.current)==null||re.close()}},[e,c]),g.useEffect(()=>{var L;(L=E.current)==null||L.scrollIntoView({behavior:"smooth"})},[n,C,N]),g.useEffect(()=>{(async()=>{if(!(!e||!c||n.length===0))try{await As.markAsRead(e),window.dispatchEvent(new CustomEvent("famly-chat-read",{detail:{conversationId:e}}))}catch{}})()},[e,c,n.length]);const $=async()=>{if(!v.trim()||S||!c||await Z7(v.trim()))return;k(!0);const L=v.trim();w("");const G=new Date().toISOString(),T=`temp-${Date.now()}`,B={id:T,conversation_id:e,sender_id:c.id,content:L,message_type:"user_message",read_by:[c.id],created_date:G,__pending:!0};s(ne=>ma([...ne,B]));try{const ne=await Yr.create({conversation_id:e,sender_id:c.id,content:L,message_type:"user_message",read_by:[c.id]});s(ae=>{if(ae.find(Z=>Z.id===ne.id)||ae.find(Z=>!Z.id&&ch(Z,ne)))return ma(ae.filter(Z=>Z.id!==T));const re=ae.map(Z=>Z.id===T?ne:Z);return ma(re)}),await As.update(e,{last_message_preview:L,last_message_timestamp:new Date().toISOString()})}catch(ne){console.error("Send failed:",ne),s(ae=>ae.map(ie=>ie.id===T?{...ie,__pending:!1,__failed:!0}:ie)),w(L),O({title:"Versturen mislukt",variant:"destructive",duration:5e3})}finally{k(!1)}},K=async()=>{if(!(C||!f)){b(!0),_(null);try{const L=n.map(Le=>{const rt=l.find(xt=>xt.id===Le.sender_id);return`${(rt==null?void 0:rt.name)||"Onbekend"}: ${Le.content}`}).join(`
`),G=c==null?void 0:c.family_id,T=l.filter(Le=>Le.family_id===G&&Le.role!=="ai_assistant").map(Le=>({id:Le.id,name:Le.name})),B=Intl.DateTimeFormat().resolvedOptions().timeZone,ne=(c==null?void 0:c.timezone)||B||"UTC",ae=new Date().toISOString(),ie=await Aa({prompt:`You are famly.ai, a helpful Dutch family assistant.

Analyseer het HELE gesprek en lever:
- een KORTE Nederlandse samenvatting
- concrete TAKEN en AFSPRAKEN die nu aangemaakt moeten worden
- optioneel WISHLIST-items

Regels:
- Antwoord ALLEEN met JSON (geen markdown).
- Schrijf alle menselijke velden in het Nederlands.
- Gebruik ALLEEN bestaande family member IDs uit de lijst.
- Kies bij voorkeur nabije datums/tijden (714 dagen) en geen verleden.
- 24u notatie, ISO zonder tijdzone (YYYY-MM-DDTHH:MM:SS).
- Als het vaag is: geef kleine, zekere acties.

Heden (lokale tijd): ${ae} (${ne}).

Context:
CHAT LOG:
---
${L}
---

Family Members (IDs bruikbaar): ${JSON.stringify(T,null,2)}
Current User ID: ${c==null?void 0:c.id}
Family ID: ${G}

Return exact JSON:
{
  "summary": "korte NL samenvatting",
  "tasks": [
    {
      "title": "string",
      "description": "string (optioneel)",
      "assigned_to": ["<family_member_id>", "..."],
      "family_id": "${G}",
      "due_time": "YYYY-MM-DDTHH:MM:SS (optioneel)"
    }
  ],
  "events": [
    {
      "title": "string",
      "start_time": "YYYY-MM-DDTHH:MM:SS",
      "end_time": "YYYY-MM-DDTHH:MM:SS",
      "family_member_ids": ["<family_member_id>", "..."],
      "family_id": "${G}",
      "location": "string (optioneel)"
    }
  ],
  "wishlist_items": [
    { "name": "string", "url": "string (optioneel)", "family_member_id": "<family_member_id>" }
  ]
}`,response_json_schema:{type:"object",properties:{summary:{type:"string"},tasks:{type:"array",items:{type:"object"}},events:{type:"array",items:{type:"object"}},wishlist_items:{type:"array",items:{type:"object"}}},required:["summary","tasks","events","wishlist_items"]},strict:!0}),re=(ie==null?void 0:ie.data)||{},Z=(ie==null?void 0:ie.summary)??re.summary??"AI suggesties",fe=(ie==null?void 0:ie.tasks)??re.tasks??[],J=(ie==null?void 0:ie.events)??re.events??[],de=(ie==null?void 0:ie.wishlist_items)??re.wishlist_items??[],he=await Yr.create({conversation_id:e,sender_id:f.id,content:Z,message_type:"ai_suggestion",read_by:[f.id]}),be=(J||[]).map((Le,rt)=>({id:Le.id||`event-${Date.now()}-${rt}`,selected:!0,...Le}));fe&&fe.length||J&&J.length||de&&de.length?_({tasks:fe,events:be,wishlist_items:de,messageId:he.id}):O({title:"Geen acties",description:"De AI vond geen duidelijke acties op basis van dit gesprek.",duration:5e3})}catch(L){console.error("AI action error:",L),O({title:"AI Error",description:"Kon geen suggesties ophalen.",variant:"destructive",duration:5e3})}finally{b(!1)}}},Y=async(L,G,T=[])=>{try{L&&L.length&&await Dt.bulkCreate(L),G&&G.length&&await it.bulkCreate(G),T&&T.length&&await Rs.bulkCreate(T),(L&&L.length||G&&G.length||T&&T.length)&&O({title:"Toegevoegd",description:"Taken, events en wishlist items zijn toegevoegd.",duration:5e3})}catch(B){console.error("Confirm actions error:",B),O({title:"Error",description:"Niet alles kon worden opgeslagen.",variant:"destructive",duration:5e3})}finally{_(null)}},Q=L=>l.find(G=>G.id===L);return m?a.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:a.jsx(At,{className:"w-6 h-6 animate-spin text-gray-400"})}):a.jsxs("div",{className:"h-full flex flex-col bg-gray-50 relative",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{scrollBehavior:"smooth"},children:[a.jsx(Si,{children:n.map((L,G)=>{const T=Q(L.sender_id),B=(c==null?void 0:c.id)&&L.sender_id===c.id||(T==null?void 0:T.id)&&(c==null?void 0:c.id)&&T.id===c.id,ne=(T==null?void 0:T.role)==="ai_assistant";return L.message_type==="ai_introduction"?a.jsx(yt.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex justify-center my-6",children:a.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 border-2 border-green-300 rounded-xl px-6 py-4 max-w-md text-center shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(Xr,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-semibold text-green-800",children:"AI Assistent"})]}),a.jsx("p",{className:"text-sm text-green-700",children:L.content}),a.jsx("p",{className:"text-xs text-green-600 mt-2",children:(()=>{const ie=cl(L);return ie?ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})()})]})},L.id||G):a.jsxs(yt.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:`flex items-end gap-3 ${B?"justify-end":""}`,children:[!B&&T?a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold text-xs shrink-0 ${ne?"bg-gradient-to-r from-green-500 to-emerald-500":""}`,style:{backgroundColor:ne?void 0:T.color||"#6b7280"},children:ne?a.jsx(Xr,{className:"w-4 h-4"}):((T==null?void 0:T.name)||"?").charAt(0)}):null,a.jsxs("div",{className:`max-w-[80%] px-4 py-2 rounded-2xl ${B?"bg-blue-500 text-white rounded-br-md":ne?"bg-gradient-to-r from-green-50 to-emerald-50 text-gray-800 rounded-bl-md shadow-sm border border-green-200":"bg-white text-gray-800 rounded-bl-md shadow-sm border"}`,children:[!B&&T?a.jsx("p",{className:`font-semibold text-xs mb-1 ${ne?"text-green-600":""}`,style:{color:ne?void 0:T.color||"#6b7280"},children:T.name}):null,a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:L.content}),(()=>{const ie=cl(L),re=ie?ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,Z=l.filter(J=>J.id!==L.sender_id&&(t||[]).includes(J.id)&&(L.read_by||[]).includes(J.id)),fe=l.filter(J=>J.id!==L.sender_id&&(t||[]).includes(J.id)&&!(L.read_by||[]).includes(J.id));return a.jsxs("div",{className:"flex justify-end gap-1 mt-1 items-end",children:[re?a.jsx("p",{className:`text-xs ${B?"text-blue-100":"text-gray-500"}`,children:re}):null,Z.length>0?a.jsx("div",{className:"flex -space-x-1 ml-2",children:Z.map(J=>a.jsx("span",{title:`Gezien door ${J.name}`,className:"relative z-10",children:a.jsx("svg",{className:"w-3.5 h-3.5 -ml-1.5",viewBox:"0 0 24 24",fill:J.color||"#6b7280",children:a.jsx("path",{d:"M1 12l5 5L20 4",stroke:"currentColor",strokeWidth:"2",fill:"none"})})},J.id))}):null,fe.length>0?a.jsx("div",{className:"flex -space-x-1 ml-1 opacity-50",children:fe.map(J=>a.jsx("span",{title:`Nog niet gezien door ${J.name}`,className:"relative z-0",children:a.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"#d1d5db",children:a.jsx("path",{d:"M1 12l5 5L20 4",stroke:"currentColor",strokeWidth:"2",fill:"none"})})},J.id))}):null]})})()]})]}),N&&N.messageId&&L.id===N.messageId?a.jsx("div",{className:`mt-2 ${B?"ml-auto":"ml-11"}`,children:a.jsxs("div",{className:"rounded-xl border-2 border-blue-200 bg-blue-50/60 shadow-lg p-4 space-y-5 max-w-2xl",children:[a.jsx("h3",{className:"font-bold text-base text-blue-900 mb-2",children:"AI Suggesties: kies wat je wilt toevoegen"}),N.tasks&&N.tasks.length>0&&a.jsxs("div",{className:"border border-green-200 bg-green-50/60 rounded-lg p-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:"Taken"}),a.jsx(mb,{tasks:N.tasks,familyMembers:l,onChange:ie=>_(re=>re&&{...re,tasks:ie})})]}),N.events&&N.events.length>0&&a.jsxs("div",{className:"border border-emerald-200 bg-emerald-50/60 rounded-lg p-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-emerald-800 mb-2",children:"Afspraken"}),a.jsx(hb,{events:N.events,onEventsUpdate:ie=>_(re=>re&&{...re,events:ie}),onConfirm:null,onCancel:null})]}),N.wishlist_items&&N.wishlist_items.length>0&&a.jsxs("div",{className:"border border-purple-200 bg-purple-50/60 rounded-lg p-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-purple-800 mb-2",children:"Wishlist Items"}),N.wishlist_items.map((ie,re)=>{const Z=l.find(fe=>fe.id===ie.family_member_id);return a.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white p-2 rounded border mb-1",children:[a.jsx("input",{type:"checkbox",checked:ie.selected!==!1,onChange:fe=>{const J=N.wishlist_items.map((de,he)=>he===re?{...de,selected:fe.target.checked}:de);_(de=>de&&{...de,wishlist_items:J})}}),a.jsx("strong",{children:ie.name})," voor ",Z==null?void 0:Z.name]},re)})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-blue-100 mt-4",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>_(null),children:"Annuleren"}),a.jsx(se,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 font-semibold px-6",onClick:()=>{const ie=(N.tasks||[]).filter(fe=>fe.selected!==!1),re=(N.events||[]).filter(fe=>fe.selected!==!1),Z=(N.wishlist_items||[]).filter(fe=>fe.selected!==!1);Y(ie,re,Z)},children:"Voeg geselecteerde toe"})]})]})}):null]},L.id||G)})}),N&&!N.messageId&&a.jsxs("div",{className:"mt-4",children:[((te=N.tasks)==null?void 0:te.length)>0&&a.jsx(mb,{tasks:N.tasks,familyMembers:l,onConfirm:L=>Y(L,[],[]),onCancel:()=>_(null)}),((R=N.events)==null?void 0:R.length)>0&&a.jsx("div",{className:"mt-3",children:a.jsx(hb,{events:N.events,onEventsUpdate:L=>_(G=>G&&{...G,events:L}),onConfirm:L=>Y([],L,[]),onCancel:()=>_(null)})}),((D=N.wishlist_items)==null?void 0:D.length)>0&&a.jsxs("div",{className:"p-3 bg-purple-50/50 border border-purple-200 rounded-lg shadow-sm space-y-2 mt-3",children:[a.jsx("h4",{className:"font-semibold text-sm text-purple-800",children:"Wishlist Items:"}),N.wishlist_items.map((L,G)=>{const T=l.find(B=>B.id===L.family_member_id);return a.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[a.jsx("strong",{children:L.name})," voor ",T==null?void 0:T.name]},G)}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>_(null),children:"Annuleren"}),a.jsx(se,{size:"sm",onClick:()=>Y([],[],N.wishlist_items),className:"bg-purple-600 hover:bg-purple-700",children:"Toevoegen"})]})]})]}),C&&a.jsxs(yt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-end gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center shrink-0",children:a.jsx(Xr,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 text-gray-800 rounded-2xl rounded-bl-md shadow-sm border border-green-200 px-4 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"w-4 h-4 animate-spin text-green-600"}),a.jsx("span",{className:"text-sm text-green-600",children:"AI analyseert het gesprek..."})]})})]}),a.jsx("div",{ref:E})]}),f&&a.jsx("div",{className:"absolute bottom-24 right-6 z-10",children:a.jsx(se,{onClick:K,disabled:C||S,className:"rounded-full h-14 w-14 p-0 bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg hover:opacity-90 transition-all duration-300 transform hover:scale-110","aria-label":"AI Action",children:C?a.jsx(At,{className:"h-6 w-6 animate-spin"}):a.jsx(xd,{className:"h-6 w-6"})})}),a.jsx("div",{className:"flex-shrink-0 p-4 bg-white border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hi,{value:v,onChange:L=>w(L.target.value),placeholder:"Typ een bericht...",className:"flex-1 resize-none min-h-[40px] max-h-[100px]",onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),$())},disabled:S||C}),a.jsx(se,{onClick:$,disabled:!v.trim()||S||C,className:"bg-blue-500 hover:bg-blue-600",children:S?a.jsx(At,{className:"w-4 h-4 animate-spin"}):a.jsx(qb,{className:"w-4 h-4"})})]})})]})}function n9(){const[e,t]=g.useState(null),[n,s]=g.useState(!0),[o,l]=g.useState(0),[c]=Bs(),u=_t(),{t:f}=Je(),{toast:p}=Yt(),m=c.get("id");g.useEffect(()=>{(async()=>{s(!0);try{const S=await tt.me();if(!S){u(Oe("Index"));return}if(m){const k=await As.get(m);k&&k.family_id===S.family_id?t(k):(p({title:"Error",description:"You do not have access to this conversation.",variant:"destructive",duration:5e3}),u(Oe("Dashboard")))}}catch(S){console.error("Failed to load chat data",S),p({title:"Chat not found",description:"This conversation may have been deleted.",variant:"destructive",duration:5e3}),u(Oe("Dashboard"))}finally{s(!1)}})(),l(0)},[m,u,p]);const y=w=>{p({title:`${w} ${f("comingSoon")||"Coming Soon"}`,description:f("featureInDevelopment")||"This feature is currently in development.",duration:5e3})},v=async()=>{if(!m)return;if(window.confirm(f("confirmClearChat")||"Are you sure you want to delete all messages in this chat? This action cannot be undone."))try{await Yr.emptyConversation(m),p({title:f("chatCleared")||"Chat Cleared",description:f("allMessagesDeleted")||"All messages have been deleted.",duration:5e3}),l(S=>S+1)}catch(S){console.error("Failed to clear chat:",S),p({title:f("error")||"Error",description:f("couldNotClearChat")||"Could not clear chat messages.",variant:"destructive",duration:5e3})}};return n?a.jsx("div",{className:"h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-gray-500",children:[f("loading")||"Loading","..."]})}):e?a.jsx("div",{className:"h-screen flex bg-white w-full",children:a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("header",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-4 py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wn,{to:Oe("Dashboard"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",title:f("backToDashboard")||"Back to Dashboard",children:a.jsx(JM,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:e.name||"Chat"}),a.jsx("p",{className:"text-xs text-gray-500",children:f("activeNow")||"Active now"})]})]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(Wp,{children:[a.jsx(Bp,{asChild:!0,children:a.jsx(se,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-gray-700 h-8 w-8",children:a.jsx(TP,{className:"w-5 h-5"})})}),a.jsxs(du,{align:"end",children:[a.jsxs(Kr,{onClick:()=>y("Notifications"),children:[a.jsx(Vb,{className:"w-4 h-4 mr-2"}),f("notificationSettings")||"Notification Settings"]}),a.jsxs(Kr,{onClick:()=>y("Settings"),children:[a.jsx(hl,{className:"w-4 h-4 mr-2"}),f("chatSettings")||"Chat Settings"]}),a.jsxs(Kr,{onClick:v,className:"text-red-600 focus:text-red-700",children:[a.jsx(es,{className:"w-4 h-4 mr-2"}),f("clearChat")||"Clear Chat"]})]})]})})]})}),a.jsx("div",{className:"flex-1 min-h-0",children:a.jsx(t9,{conversationId:m,participants:(e==null?void 0:e.participants)||[]},o)})]})}):a.jsx("div",{className:"h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("p",{className:"text-lg font-medium",children:f("noConversationSelected")||"No conversation selected."}),a.jsx("p",{className:"text-sm",children:f("selectConversationFromSidebar")||"Select a conversation from the sidebar to start chatting."}),a.jsx(Wn,{to:Oe("Dashboard"),children:a.jsx(se,{className:"mt-4",children:f("goToDashboard")||"Go to Dashboard"})})]})})}function r9({event:e,eventIndex:t,familyMembers:n,onEventUpdate:s}){const{t:o}=Je(),l=(u,f)=>{s(t,{...e,[u]:f})},c=(u,f)=>{const p=e.assigned_to||[],m=f?[...p,u]:p.filter(y=>y!==u);l("assigned_to",m)};return a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-emerald-50/80 border border-emerald-200/90 rounded-lg text-xs w-full shadow-sm",children:[a.jsx(An,{id:`event-select-${t}`,checked:e.selected||!1,onCheckedChange:u=>l("selected",u),className:"h-4 w-4"}),a.jsx(He,{value:e.title,onChange:u=>l("title",u.target.value),className:"flex-1 h-7 text-xs border-emerald-300 bg-white",placeholder:o("eventTitle")||"Event title"}),a.jsx("div",{className:"flex items-center gap-4",children:n.map(u=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(An,{id:`event-${t}-member-${u.id}`,checked:(e.assigned_to||[]).includes(u.id),onCheckedChange:f=>c(u.id,f),className:"h-4 w-4"}),a.jsx("label",{htmlFor:`event-${t}-member-${u.id}`,className:"text-xs font-medium text-emerald-800 cursor-pointer",children:u.name})]},u.id))})]})}function s9({item:e,itemIndex:t,familyMembers:n,onWishlistUpdate:s}){const{t:o}=Je(),l=(u,f)=>{s(t,{...e,[u]:f})},c=(u,f)=>{l("family_member_id",f?u:null)};return a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-purple-50/80 border border-purple-200/90 rounded-lg text-xs w-full shadow-sm",children:[a.jsx(An,{id:`wishlist-select-${t}`,checked:e.selected||!1,onCheckedChange:u=>l("selected",u),className:"h-4 w-4"}),a.jsx(He,{value:e.name,onChange:u=>l("name",u.target.value),className:"flex-1 h-7 text-xs border-purple-300 bg-white",placeholder:o("wishlistItemName")||"Wishlist item"}),a.jsx("div",{className:"flex items-center gap-4",children:n.map(u=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(An,{id:`wishlist-${t}-member-${u.id}`,checked:e.family_member_id===u.id,onCheckedChange:f=>c(u.id,f),className:"h-4 w-4"}),a.jsx("label",{htmlFor:`wishlist-${t}-member-${u.id}`,className:"text-xs font-medium text-purple-800 cursor-pointer",children:u.name})]},u.id))})]})}function a9({tasks:e=[],events:t=[],wishlist:n=[],familyMembers:s=[],onCancel:o,onConfirm:l,confirmLabel:c="Add selected",cancelLabel:u="Cancel"}){const[f,p]=g.useState(e.map(b=>({...b,selected:b.selected!==!1}))),m=(b,N)=>{p(_=>_.map((E,P)=>P===b?N:E))},[y,v]=g.useState(t.map(b=>({...b,selected:b.selected!==!1}))),w=(b,N)=>{v(_=>_.map((E,P)=>P===b?N:E))},[S,k]=g.useState(n.map(b=>({...b,selected:b.selected!==!1}))),C=(b,N)=>{k(_=>_.map((E,P)=>P===b?N:E))};return a.jsxs("div",{className:"rounded-xl border-2 border-blue-200 bg-blue-50/60 shadow-lg p-4 space-y-5 max-w-2xl",children:[a.jsx("h3",{className:"font-bold text-base text-blue-900 mb-2",children:"AI Suggestions: select what you want to add"}),f.length>0&&a.jsxs("div",{className:"border border-green-200 bg-green-50/60 rounded-lg p-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:"Tasks"}),f.map((b,N)=>a.jsx(c_,{task:b,taskIndex:N,familyMembers:s,onTaskUpdate:m},N))]}),y.length>0&&a.jsxs("div",{className:"border border-emerald-200 bg-emerald-50/60 rounded-lg p-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-emerald-800 mb-2",children:"Events"}),y.map((b,N)=>a.jsx(r9,{event:b,eventIndex:N,familyMembers:s,onEventUpdate:w},N))]}),S.length>0&&a.jsxs("div",{className:"border border-purple-200 bg-purple-50/60 rounded-lg p-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-purple-800 mb-2",children:"Wishlist Items"}),S.map((b,N)=>a.jsx(s9,{item:b,itemIndex:N,familyMembers:s,onWishlistUpdate:C},N))]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-blue-100 mt-4",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:o,children:u}),a.jsx(se,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 font-semibold px-6",onClick:()=>{l({tasks:f.filter(b=>b.selected).map(({selected:b,...N})=>N),events:y.filter(b=>b.selected).map(({selected:b,...N})=>N),items:S.filter(b=>b.selected).map(({selected:b,...N})=>N)})},children:c})]})]})}function i9({conversationContext:e,allFamilyMembers:t=[],user:n,onUpdate:s}){const{t:o,currentLanguage:l}=Je(),[c,u]=g.useState(""),f="famlyai_ai_conversation",[p,m]=g.useState(()=>{try{const P=localStorage.getItem(f);return P?JSON.parse(P):[]}catch{return[]}}),[y,v]=g.useState(!1),[w,S]=g.useState(null),k=g.useRef(null);g.useEffect(()=>{var P;try{localStorage.setItem(f,JSON.stringify(p))}catch{}(P=k.current)==null||P.scrollIntoView({behavior:"smooth"})},[p,w]),g.useEffect(()=>{m([]),S(null),u("");try{localStorage.removeItem(f)}catch{}},[n==null?void 0:n.id]);const C=()=>{m([]),S(null),u("");try{localStorage.removeItem(f)}catch{}},b=async({action_type:P,action_payload:O})=>{try{switch(P){case"create_task":{const A={...O};A.family_id||(A.family_id=n==null?void 0:n.family_id),await Dt.create(A),m(I=>[...I,{role:"assistant",content:o("taskCreated")||"Task created!"}]);break}case"create_event":{const A={...O};A.family_id||(A.family_id=n==null?void 0:n.family_id),await it.create(A),m(I=>[...I,{role:"assistant",content:o("eventCreated")||"Event created!"}]);break}case"create_multiple_events":{const A=((O==null?void 0:O.events)||[]).filter(Boolean);for(const I of A){const z={...I};z.family_id||(z.family_id=n==null?void 0:n.family_id),await it.create(z)}m(I=>[...I,{role:"assistant",content:o("eventsCreated")||"Events created!"}]);break}case"add_to_wishlist":{const A={...O};await Rs.create(A),m(I=>[...I,{role:"assistant",content:o("wishlistItemAdded")||"Wishlist item added!"}]);break}case"add_multiple_to_wishlist":{const A=((O==null?void 0:O.items)||[]).filter(Boolean);for(const I of A)await Rs.create(I);m(I=>[...I,{role:"assistant",content:o("wishlistItemsAdded")||"Wishlist items added!"}]);break}case"update_task_status":{const{id:A,status:I}=O||{};A&&I?(await Dt.update(A,{status:I}),m(z=>[...z,{role:"assistant",content:o("taskUpdated")||"Task updated!"}])):m(z=>[...z,{role:"assistant",content:o("aiError")||"Missing task id/status."}]);break}case"convert_event_to_task":{const{event_id:A}=O||{};A?(await it.toTask(A),m(I=>[...I,{role:"assistant",content:o("eventConvertedToTask")||"Event converted to task!"}])):m(I=>[...I,{role:"assistant",content:o("aiError")||"Missing event id."}]);break}case"convert_task_to_event":{const{task_id:A}=O||{};A?(await Dt.toEvent(A),m(I=>[...I,{role:"assistant",content:o("taskConvertedToEvent")||"Task converted to event!"}])):m(I=>[...I,{role:"assistant",content:o("aiError")||"Missing task id."}]);break}default:m(A=>[...A,{role:"assistant",content:o("aiError")||"Unknown action."}])}s==null||s()}catch(A){console.error("executeAction error:",A),m(I=>[...I,{role:"assistant",content:o("aiError")||"I couldn't complete that action. Please try again."}])}},N=async P=>{if(y||!(P!=null&&P.trim()))return;S(null);const O={role:"user",content:P};m(A=>[...A,O]),u(""),v(!0);try{const A=Array.isArray(t)?t:[],I=n?A.find(re=>re.user_id===n.id):null,z=A.map(re=>({id:re.id,name:re.name}));if(!((n==null?void 0:n.family_id)||null)){m(re=>[...re,{role:"assistant",content:o("noFamilyIdError")||"I can't do that without a family context. Please set up or join a family first."}]),v(!1);return}const H=[...p,O].map(re=>`${re.role==="user"?"User":"Assistant"}: ${re.content}`).join(`
`),$=n==null?void 0:n.family_id,K=t.filter(re=>re.family_id===$).map(re=>({id:re.id,name:re.name})),Q=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",te=new Date().toISOString(),R=await Aa({prompt:`You are famly.ai, a helpful family assistant.

Analyse the conversation and ALWAYS extract actionable items (tasks, events, wishlist) from the user's last message if any requests, wishes, or to-dos are present.
- If details are missing, make reasonable assumptions.
- If the user asks for something actionable, NEVER return empty arrays.
- If nothing actionable is present, return empty arrays.

Provide:
- a SHORT summary
- concrete TASKS and EVENTS to create now
- optional WISHLIST items

Rules:
- Respond ONLY with JSON (no markdown).
- Write all human fields in the user's language.
- Use ONLY existing family member IDs from the list.
- Prefer near dates/times (714 days), not the past.
- 24h notation, ISO without timezone (YYYY-MM-DDTHH:MM:SS).
- If vague: suggest small, certain actions.

Now (local time): ${te} (${Q}).

Context:
CHAT LOG:
---
${H}
---

Family Members (IDs usable): ${JSON.stringify(K,null,2)}
Current User ID: ${n==null?void 0:n.id}
Family ID: ${$}

Return exact JSON:
{
  "summary": "short summary",
  "tasks": [
    {
      "title": "string",
      "description": "string (optional)",
      "assigned_to": ["<family_member_id>", "..."],
      "family_id": "${$}",
      "due_date": "YYYY-MM-DDTHH:MM:SS (optional)"
    }
  ],
  "events": [
    {
      "title": "string",
      "start_time": "YYYY-MM-DDTHH:MM:SS",
      "end_time": "YYYY-MM-DDTHH:MM:SS",
      "family_member_ids": ["<family_member_id>", "..."],
      "family_id": "${$}",
      "location": "string (optional)"
    }
  ],
  "wishlist_items": [
    { "name": "string", "url": "string (optional)", "family_member_id": "<family_member_id>" }
  ]
}`,response_json_schema:{type:"object",properties:{summary:{type:"string"},tasks:{type:"array",items:{type:"object",properties:{title:{type:"string"}},required:["title"]}},events:{type:"array",items:{type:"object",properties:{title:{type:"string"},start_time:{type:"string"},end_time:{type:"string"},family_id:{type:"string"}},required:["title","start_time","end_time","family_id"]}},wishlist_items:{type:"array",items:{type:"object",properties:{name:{type:"string"}},required:["name"]}}},required:["summary","tasks","events","wishlist_items"]},strict:!0}),D=(R==null?void 0:R.data)||R||{},L=D.summary??"AI suggesties",G=D.tasks??[],T=D.events??[],B=D.wishlist_items??[],ne=/\b(task|event|afspraak|todo|to-do|wishlist|verlanglijst|add|maak|create|plan|schedule|show|toon|add|voeg toe|wens|wish|willen|wil|moet|must|should|zou moeten|kan|could|can|please|alsjeblieft|remind|herinner|remember|buy|koop|kopen|organiseer|organize|arrange|regel|fix|done|klaar|af|finish|voltooi|complete)\b/i.test(P),ae=G&&G.length||T&&T.length||B&&B.length;m(re=>[...re,{role:"assistant",content:L}]);const ie=(T||[]).map((re,Z)=>({id:re.id||`event-${Date.now()}-${Z}`,selected:!0,...re}));if(ae?S({action_payload:{tasks:G,events:ie,items:B}}):ne&&m(re=>[...re,{role:"assistant",content:o("noActionsFound")||"I couldn't extract any actionable items from your message. Please rephrase or add more details."}]),!ae&&D.action_type){const re=D.action_type;let Z=null,fe=null,J=!1;const de=!0;switch(re){case"convert_event_to_task":{const he=D.action_payload||{};he.event_id?await b({action_type:"convert_event_to_task",action_payload:he}):Z=o("aiError")||"Missing event id.";break}case"convert_task_to_event":{const he=D.action_payload||{};he.task_id?await b({action_type:"convert_task_to_event",action_payload:he}):Z=o("aiError")||"Missing task id.";break}case"clarify":Z=D.clarification_question;break;case"chat":default:if(Z=D.response,(e==null?void 0:e.type)==="chat"&&(n!=null&&n.family_id)&&Z)try{const he=t.find(be=>be.role==="ai_assistant");he&&(await Yr.create({conversation_id:e.conversationId,sender_id:he.id,content:Z,message_type:"ai_suggestion"}),await As.update(e.conversationId,{last_message_preview:Z.substring(0,100),last_message_timestamp:new Date().toISOString()}))}catch(he){console.warn("Failed to persist AI message:",he)}break}S(null),Z&&m(he=>[...he,{role:"assistant",content:Z,hasAction:J,action:fe||null}])}}catch(A){console.error("Error processing message:",A),m(I=>[...I,{role:"assistant",content:o("aiError")||"Sorry, I had trouble with that. Could you rephrase?"}])}finally{v(!1)}},_=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),c.trim()&&N(c.trim()))},E=()=>{S(null),m(P=>[...P,{role:"assistant",content:o("actionCancelled")||"Okay, I won't do that."}])};return a.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 min-h-0",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 p-4",children:[a.jsx(Si,{children:p.length===0?a.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center text-gray-500 py-8",children:[a.jsx(hh,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),a.jsx("p",{className:"mb-1 font-medium",children:o("aiAssistantTitle")||"Your personal assistant"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:o("aiAssistantTagline")||"How can I simplify your family life?"}),a.jsxs("div",{className:"text-sm space-y-1 text-gray-400",children:[a.jsxs("p",{children:['"',o("scheduleMyAppointment")||"Schedule my appointment for tomorrow",'"']}),a.jsxs("p",{children:['"',o("addToMyWishlist")||"Add a new game to my wishlist",'"']}),a.jsxs("p",{children:['"',o("createMyTasks")||"Create a task to tidy my room",'"']}),a.jsxs("p",{children:['"',o("showMyWishlist")||"Show my wishlist",'"']})]})]}):p.map((P,O)=>{var A,I,z;return a.jsxs(yt.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${P.role==="user"?"justify-end":"items-start"}`,children:[P.role==="assistant"&&a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center shrink-0",children:a.jsx(Xr,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex flex-col",style:{alignItems:P.role==="user"?"flex-end":"flex-start"},children:[a.jsx("div",{className:`max-w-md p-3 rounded-2xl break-words ${P.role==="user"?"bg-blue-500 text-white rounded-br-lg":"bg-white text-gray-800 border rounded-bl-lg"}`,children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:P.content})}),O===p.length-1&&w&&a.jsx(a9,{tasks:((A=w.action_payload)==null?void 0:A.tasks)||[],events:((I=w.action_payload)==null?void 0:I.events)||[],wishlist:((z=w.action_payload)==null?void 0:z.items)||[],familyMembers:t,onCancel:E,confirmLabel:"Yes, sounds good",cancelLabel:"Cancel",onConfirm:async W=>{const{tasks:H=[],events:$=[],items:K=[]}=W;try{H&&H.length&&await Dt.bulkCreate(H),$&&$.length&&await it.bulkCreate($),K&&K.length&&await Rs.bulkCreate(K),(H&&H.length||$&&$.length||K&&K.length)&&m(Y=>[...Y,{role:"assistant",content:"Items added!"}])}catch{m(Q=>[...Q,{role:"assistant",content:"Some items could not be saved."}])}finally{S(null)}}})]})]},O)})}),a.jsx("div",{ref:k}),y&&a.jsxs(yt.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-end gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center shrink-0",children:a.jsx(Xr,{className:"w-5 h-5 text-white"})}),a.jsx("div",{className:"max-w-md p-3 rounded-2xl bg-white border rounded-bl-lg",children:a.jsx(At,{className:"w-5 h-5 animate-spin text-gray-500"})})]})]}),a.jsx("div",{className:"flex justify-end p-2",children:a.jsx(se,{variant:"outline",size:"sm",onClick:C,disabled:y||!!w,title:o("clearChat")||"Clear chat",children:o("clearChat")||"Clear chat"})}),a.jsx("div",{className:"border-t p-2 sm:p-4 bg-white flex-shrink-0",children:a.jsxs("div",{className:"relative flex items-center gap-2",children:[a.jsx(Hi,{value:c,onChange:P=>u(P.target.value),onKeyDown:_,placeholder:o("typeYourMessage")||"Type your message...",className:"w-full pr-24 rounded-lg border-gray-300 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:1,disabled:y||!!w}),a.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[a.jsx(se,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-blue-500",disabled:!0,children:a.jsx(aT,{className:"w-5 h-5"})}),a.jsx(se,{size:"sm",onClick:()=>c.trim()&&N(c.trim()),disabled:!c.trim()||y||!!w,className:"bg-blue-600 hover:bg-blue-700",children:a.jsx(qb,{className:"w-4 h-4"})})]})]})})]})}const o9=[{target:"#ai-chat-interface",title:"AI Assistant",content:"Chat directly with the AI assistant for general help, questions, and family coordination."}];function l9(){const[e,t]=g.useState(null),[n,s]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(!1),[f,p]=Bs(),{t:m}=Je();g.useEffect(()=>{(async()=>{l(!0);try{const C=await tt.me();if(t(C),C!=null&&C.family_id){const b=await ht.filter({family_id:C.family_id});s(b||[])}}catch(C){console.error("Error loading user and family data:",C),s([])}l(!1)})();const S=C=>{C.detail.action==="tour"&&u(!0)};return window.addEventListener("actionTriggered",S),f.get("action")==="tour"&&(u(!0),p({})),()=>window.removeEventListener("actionTriggered",S)},[f,p]);const y=()=>{u(!1),localStorage.setItem("famlyai_tour_assistant_completed","true")};if(o)return a.jsxs("div",{className:"p-6 text-center",children:[m("loading"),"..."]});const v={type:"general",name:m("aiAssistant")||"AI Assistant"};return a.jsxs("div",{className:"h-[calc(100vh-var(--header-height,65px))] flex bg-white",children:[a.jsx(Ol,{steps:o9,run:c,onComplete:y}),a.jsx("div",{id:"ai-chat-interface",className:"flex-1 flex flex-col",children:a.jsx(i9,{conversationContext:v,allFamilyMembers:n,user:e,onUpdate:()=>{}})})]})}function c9(){var u;const[e,t]=g.useState({}),[n,s]=g.useState(!0),o=_t();g.useEffect(()=>{l()},[]);const l=async()=>{try{const f=await tt.me(),p=await sr.list(),m=await vr.list(),y=await ht.list();t({currentUser:f,allFamilies:p,allInvitations:m,allMembers:y,userInvitations:m.filter(v=>v.email===f.user_id),userPendingInvitations:m.filter(v=>v.email===f.user_id&&v.status==="pending")})}catch(f){console.error("Debug load error:",f),t({error:f.message})}s(!1)},c=async()=>{try{const f=await tt.me(),p=e.allFamilies.find(m=>m.name.toLowerCase().includes("pruis"));p&&(await tt.updateMyUserData({family_id:p.id,role:"member"}),e.allMembers.find(y=>y.user_id===f.id&&y.family_id===p.id)||await ht.create({name:f.full_name||"Kees",role:"parent",family_id:p.id,user_id:f.id,color:"#10b981",language:"nl"}),o(Oe("Dashboard")))}catch(f){console.error("Force join error:",f)}};return n?a.jsx("div",{className:"p-6",children:"Loading debug info..."}):a.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Debug Information"}),a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsx(at,{children:"Current User"})}),a.jsx($e,{children:a.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(e.currentUser,null,2)})})]}),a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsx(at,{children:"All Families"})}),a.jsx($e,{children:a.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(e.allFamilies,null,2)})})]}),a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsx(at,{children:"User Invitations"})}),a.jsx($e,{children:a.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(e.userInvitations,null,2)})})]}),a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsx(at,{children:"User Pending Invitations"})}),a.jsx($e,{children:a.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(e.userPendingInvitations,null,2)})})]}),a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsx(at,{children:"All Members"})}),a.jsx($e,{children:a.jsx("pre",{className:"text-sm bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(e.allMembers,null,2)})})]}),((u=e.allFamilies)==null?void 0:u.find(f=>f.name.toLowerCase().includes("pruis")))&&a.jsx(se,{onClick:c,className:"w-full",children:"Force Join Pruisies Family"})]})}const gb=[{id:"cozy_nest",name:"Cozy Nest",price:"4.99",period:"/maand",features:["Tot 4 gezinsleden","Basis kalender sync","Takenbeheer","Email ondersteuning"],color:"bg-blue-50 border-blue-200 text-blue-800"},{id:"harmony_hub",name:"Harmony Hub",price:"9.99",period:"/maand",features:["Tot 8 gezinsleden","Geavanceerde AI inzichten","App connectoren","Prioriteit ondersteuning"],color:"bg-purple-50 border-purple-200 text-purple-800",popular:!0},{id:"legacy_circle",name:"Legacy Circle",price:"19.99",period:"/maand",features:["Onbeperkt gezinsleden","Premium AI functies","Alle connectoren","Toegewijde ondersteuning"],color:"bg-gold-50 border-gold-200 text-gold-800"}];function d9(){var E;const[e,t]=g.useState(null),[n,s]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(!0),[f,p]=g.useState(""),[m,y]=g.useState(!1),{toast:v}=Yt(),{t:w}=Je();g.useEffect(()=>{S()},[]);const S=async()=>{u(!0);try{const P=await tt.me();if(!P.family_id)return;const[O,A,I]=await Promise.all([sr.get(P.family_id),ht.filter({family_id:P.family_id}),vr.filter({family_id:P.family_id,status:"pending"}).catch(()=>[])]);t(O),s(A),l(I)}catch(P){console.error("Error loading admin data:",P)}finally{u(!1)}},k=async P=>{if(P.preventDefault(),!(!f||!e)){y(!0);try{const O=await tt.me();await vr.create({email:f,family_id:e.id,invited_by:O.user_id,status:"pending"}),v({title:w("invitationSent")||"Uitnodiging verzonden",description:`${f} is uitgenodigd om lid te worden van je Famly.`,duration:5e3}),p(""),S()}catch{v({title:w("invitationFailed")||"Uitnodiging mislukt",description:w("couldNotSendInvitation")||"Kon uitnodiging niet verzenden. Probeer opnieuw.",variant:"destructive",duration:5e3})}finally{y(!1)}}},C=async P=>{if(window.confirm(w("confirmDeleteInvitation")||"Weet je zeker dat je deze uitnodiging wilt verwijderen?"))try{await vr.delete(P),v({title:w("invitationDeleted")||"Uitnodiging verwijderd",description:w("invitationRemoved")||"De uitnodiging is verwijderd.",duration:5e3}),S()}catch{v({title:w("deleteFailed")||"Verwijderen mislukt",description:w("couldNotDeleteInvitation")||"Kon uitnodiging niet verwijderen.",variant:"destructive",duration:5e3})}},b=async P=>{try{await sr.update(e.id,P),v({title:w("settingsUpdated")||"Settings Updated",description:w("famlySettingsSaved")||"Famly settings have been saved.",duration:5e3}),S()}catch{v({title:w("updateFailed")||"Update Failed",description:w("couldNotUpdateSettings")||"Could not update settings.",variant:"destructive",duration:5e3})}},N=async P=>{try{const O=n.find(A=>A.id===P);if(!O||!O.user_id){v({title:w("error")||"Error",description:w("cannotPromoteNoUser")||"Cannot promote member - no connected user account.",variant:"destructive",duration:5e3});return}await tt.update(O.user_id,{role:"admin"}),v({title:w("memberPromoted")||"Member Promoted",description:`${O.name} ${w("isNowAdmin")||"is now a famly administrator"}.`,duration:5e3}),S()}catch{v({title:w("promotionFailed")||"Promotion Failed",description:w("couldNotPromoteMember")||"Could not promote member to admin.",variant:"destructive",duration:5e3})}},_=async P=>{try{const{data:O}=await fetch("/functions/adyenCheckout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:P,familyId:e.id})});window.location.href=O.checkoutUrl}catch{v({title:w("paymentFailed")||"Betaling mislukt",description:w("couldNotInitiatePayment")||"Kon betaling niet initiren.",variant:"destructive",duration:5e3})}};return c?a.jsxs("div",{className:"p-6 text-center",children:[w("loading")||"Laden","..."]}):a.jsxs("div",{className:"p-4 sm:p-6 max-w-5xl mx-auto space-y-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:w("famlyAdmin")||"Famly Administration"}),a.jsx("p",{className:"text-gray-600",children:w("manageFamlySettings")||"Manage your famly settings and members."})]}),a.jsxs(l_,{defaultValue:"members",className:"space-y-6",children:[a.jsxs(Hg,{className:"grid w-full grid-cols-4",children:[a.jsx(wr,{value:"members",children:w("members")||"Leden"}),a.jsx(wr,{value:"invitations",children:w("invitations")||"Uitnodigingen"}),a.jsx(wr,{value:"subscription",children:w("subscription")||"Abonnement"}),a.jsx(wr,{value:"settings",children:w("settings")||"Instellingen"})]}),a.jsx(br,{value:"members",className:"space-y-4",children:a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-5 h-5"}),w("famlyMembers")||"Famly Members"]})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-3",children:n.map(P=>a.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:P.color},children:P.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.name}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:w(P.role)||P.role})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[P.user_id&&a.jsxs(jn,{variant:"outline",className:"text-green-600 border-green-300",children:[a.jsx(NP,{className:"w-3 h-3 mr-1"}),w("connected")||"Verbonden"]}),P.user_id&&P.role!=="ai_assistant"&&P.role!=="admin"&&a.jsx(se,{size:"sm",variant:"outline",onClick:()=>N(P.id),className:"text-blue-600 hover:text-blue-700",children:w("makeAdmin")||"Make Admin"})]})]},P.id))})})]})}),a.jsxs(br,{value:"invitations",className:"space-y-4",children:[a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(gp,{className:"w-5 h-5"}),w("inviteNewMember")||"Nieuw lid uitnodigen"]})}),a.jsx($e,{children:a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsx(He,{type:"email",placeholder:w("enterEmailAddress")||"Voer email adres in",value:f,onChange:P=>p(P.target.value),required:!0}),a.jsx(se,{type:"submit",disabled:m,className:"w-full",children:m?w("sending")||"Versturen...":w("sendInvitation")||"Uitnodiging versturen"})]})})]}),o.length>0&&a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsx(at,{children:w("pendingInvitations")||"Openstaande uitnodigingen"})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-3",children:o.map(P=>a.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.email}),a.jsxs("p",{className:"text-sm text-gray-500",children:[w("invitedBy")||"Uitgenodigd door"," ",P.invited_by]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jn,{variant:"outline",className:"capitalize",children:w(P.status)||P.status}),a.jsx(se,{size:"icon",variant:"ghost",onClick:()=>C(P.id),className:"h-8 w-8 text-red-500 hover:text-red-700",children:a.jsx(es,{className:"w-4 h-4"})})]})]},P.id))})})]})]}),a.jsxs(br,{value:"subscription",className:"space-y-6",children:[a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(SP,{className:"w-5 h-5"}),w("currentPlan")||"Huidig abonnement"]})}),a.jsx($e,{children:e&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900 capitalize",children:((E=gb.find(P=>P.id===e.subscription_plan))==null?void 0:E.name)||e.subscription_plan||"Gratis"}),a.jsxs("p",{className:"text-sm text-blue-700",children:[w("status")||"Status",": ",a.jsx("span",{className:"capitalize",children:w(e.subscription_status)||e.subscription_status||"actief"})]})]}),a.jsxs(jn,{className:"bg-blue-100 text-blue-800",children:[a.jsx(qx,{className:"w-3 h-3 mr-1"}),w("active")||"Actief"]})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:gb.map(P=>a.jsxs(Fe,{className:`relative ${P.popular?"ring-2 ring-purple-500":""}`,children:[P.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx(jn,{className:"bg-purple-500 text-white px-3 py-1",children:w("popular")||"Populair"})}),a.jsxs(Xe,{className:"text-center",children:[a.jsx(at,{className:"text-xl",children:P.name}),a.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[P.price,a.jsx("span",{className:"text-sm font-normal text-gray-500",children:P.period})]})]}),a.jsxs($e,{children:[a.jsx("ul",{className:"space-y-2 mb-6",children:P.features.map((O,A)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[a.jsx(qx,{className:"w-4 h-4 text-green-500"}),O]},A))}),a.jsx(se,{className:"w-full",variant:(e==null?void 0:e.subscription_plan)===P.id?"outline":"default",disabled:(e==null?void 0:e.subscription_plan)===P.id,onClick:()=>_(P.id),children:(e==null?void 0:e.subscription_plan)===P.id?w("currentPlanBtn")||"Huidig abonnement":w("selectPlan")||"Kies abonnement"})]})]},P.id))})]}),a.jsx(br,{value:"settings",className:"space-y-4",children:a.jsxs(Fe,{children:[a.jsxs(Xe,{children:[a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(hl,{className:"w-5 h-5"}),w("famlySettings")||"Famly Settings"]}),e&&a.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["Famly ID: ",e.id]})]}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:w("famlyName")||"Famly Name"}),a.jsx(He,{value:(e==null?void 0:e.name)||"",onChange:P=>t({...e,name:P.target.value}),onBlur:()=>b({name:e.name}),placeholder:w("enterFamlyName")||"Enter famly name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:w("defaultLanguage")||"Standaard taal"}),a.jsxs(sn,{value:(e==null?void 0:e.language)||"nl",onValueChange:P=>b({language:P}),children:[a.jsx(Xt,{children:a.jsx(an,{})}),a.jsxs(Jt,{children:[a.jsx(_e,{value:"nl",children:"Nederlands"}),a.jsx(_e,{value:"en",children:"English"}),a.jsx(_e,{value:"es",children:"Espaol"}),a.jsx(_e,{value:"fr",children:"Franais"}),a.jsx(_e,{value:"de",children:"Deutsch"})]})]})]})]})]})})]})]})}const u9=async()=>{console.log(" grantAdminRights() called (stub)")},f9=async()=>{console.log(" deleteFamily() called (stub)")},m9=async()=>{console.log(" normalizeWhitelistEmails() called (stub)")};function h9(){const[e,t]=g.useState([]),[n,s]=g.useState([]),[o,l]=g.useState(""),[c,u]=g.useState(""),[f,p]=g.useState(!0),[m,y]=g.useState(!1),[v,w]=g.useState(null),[S,k]=g.useState({totalUsers:0,totalFamilies:0,totalMembers:0,totalTasks:0,totalEvents:0,monthlyRevenue:0}),C=_t(),{t:b}=Je(),{toast:N}=Yt();g.useEffect(()=>{(async()=>{try{const H=await tt.me();H!=null&&H.is_platform_admin?_():(N({title:b("accessDenied")||"Access Denied",description:b("youDoNotHavePermissionToAccessThisPage")||"You do not have permission to access this page.",variant:"destructive",duration:5e3}),C(Oe("Dashboard")))}catch{N({title:b("authenticationRequired")||"Authentication Required",description:b("pleaseLogInToAccessThisPage")||"Please log in to access this page.",variant:"destructive",duration:5e3}),C(Oe("Index"))}})()},[C,b,N]);const _=async()=>{p(!0);try{const[W,H,$,K,Y]=await Promise.all([Hr.list().catch(()=>[]),sr.list().catch(()=>[]),ht.list().catch(()=>[]),Dt.list().catch(()=>[]),it.list().catch(()=>[])]),Q=Array.from(new Map(W.filter(D=>D&&D.email).map(D=>[D.email,D])).values());t(Q);const te=Array.from(new Map(H.filter(D=>D&&D.id).map(D=>[D.id,D])).values());s(te);const R=te.reduce((D,L)=>D+({cozy_nest:4.99,harmony_hub:9.99,legacy_circle:19.99}[L.subscription_plan]||0),0);k({totalUsers:Q.length,totalFamilies:te.length,totalMembers:$.length,totalTasks:K.length,totalEvents:Y.length,monthlyRevenue:R})}catch(W){console.error("Error loading platform data:",W),N({title:b("error"),description:b("couldNotLoadPlatformData"),variant:"destructive",duration:5e3})}finally{p(!1)}},E=async W=>{if(W.preventDefault(),!!o){y(!0);try{const H=await tt.me();await Hr.create({email:o.toLowerCase(),added_by:H.email,notes:c||null,status:"active"}),N({title:b("userAdded"),description:`User ${o} added to platform`,duration:5e3}),l(""),u(""),_()}catch{N({title:b("addFailed"),description:b("couldNotAddUser"),variant:"destructive",duration:5e3})}finally{y(!1)}}},P=async W=>{if(window.confirm("Are you sure you want to revoke access for this user?"))try{await Hr.update(W.toLowerCase(),"revoked"),N({title:"Access Revoked",description:"User access has been revoked",duration:5e3}),_()}catch{N({title:"Revoke Failed",description:"Could not revoke access",variant:"destructive",duration:5e3})}},O=async W=>{if(window.confirm("Are you sure you want to reactivate access for this user?"))try{const H=await Hr.get(W);if(!H)throw new Error("User not found in whitelist.");await Hr.update(H.email.toLowerCase(),"active"),N({title:"Access Reactivated",description:"User access has been reactivated"}),_()}catch(H){console.error("Reactivation Error:",H),N({title:"Reactivation Failed",description:"Could not reactivate access",variant:"destructive",duration:5e3})}},A=async W=>{if(window.confirm("Are you sure you want to permanently delete this user from the whitelist? This cannot be undone.")){w(W);try{await Hr.delete(W),N({title:"User Deleted",description:"User has been removed from the whitelist.",duration:5e3}),_()}catch{N({title:"Delete Failed",description:"Could not delete user.",variant:"destructive",duration:5e3})}finally{w(null)}}},I=async W=>{if(window.confirm(`Are you sure you want to permanently delete the family "${W.name}"? This will delete all members, events, and tasks associated with it. This action CANNOT be undone.`)){w(W.id);try{await f9({family_id:W.id}),N({title:"Family Deleted",description:`The family "${W.name}" has been permanently deleted.`,duration:5e3}),_()}catch(H){N({title:"Delete Failed",description:`Could not delete family. Error: ${H.message}`,variant:"destructive",duration:5e3})}finally{w(null)}}},z=async W=>{if(window.confirm("Are you sure you want to grant admin rights to this family creator?"))try{const H=n.find(Y=>Y.id===W);if(!H){N({title:"Error",description:"Family not found",variant:"destructive",duration:5e3});return}const K=(await tt.list()).find(Y=>Y.email===H.created_by);if(!K){N({title:"Error",description:"Family creator not found in users",variant:"destructive",duration:5e3});return}await tt.update(K.id,{role:"admin"}),N({title:"Admin Rights Granted",description:`${H.created_by} has been granted admin rights for ${H.name}`,duration:5e3}),_()}catch{N({title:"Failed to Grant Admin Rights",description:"Could not grant admin rights",variant:"destructive",duration:5e3})}};return f?a.jsx("div",{className:"p-6 text-center",children:"Loading platform data..."}):a.jsxs("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Platform Admin"}),a.jsx("p",{className:"text-gray-600",children:"Global system management and oversight."})]}),a.jsxs(l_,{defaultValue:"dashboard",className:"space-y-6",children:[a.jsxs(Hg,{className:"grid w-full grid-cols-5",children:[a.jsx(wr,{value:"dashboard",children:"Dashboard"}),a.jsx(wr,{value:"users",children:"User Management"}),a.jsx(wr,{value:"families",children:"Families"}),a.jsx(wr,{value:"data",children:"Data Tools"}),a.jsx(wr,{value:"settings",children:"System Settings"})]}),a.jsx(br,{value:"dashboard",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs(Fe,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(at,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs($e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.totalUsers}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform access granted"})]})]}),a.jsxs(Fe,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(at,{className:"text-sm font-medium",children:"Total Families"}),a.jsx(_m,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs($e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.totalFamilies}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered families"})]})]}),a.jsxs(Fe,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(at,{className:"text-sm font-medium",children:"Total Members"}),a.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs($e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.totalMembers}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Family members in system"})]})]}),a.jsxs(Fe,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(at,{className:"text-sm font-medium",children:"Total Tasks"}),a.jsx(_m,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs($e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.totalTasks}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tasks created in system"})]})]}),a.jsxs(Fe,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(at,{className:"text-sm font-medium",children:"Total Events"}),a.jsx(_m,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs($e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S.totalEvents}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Events scheduled in system"})]})]}),a.jsxs(Fe,{children:[a.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(at,{className:"text-sm font-medium",children:"Monthly Revenue"}),a.jsx(MP,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs($e,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["",S.monthlyRevenue.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recurring revenue"})]})]})]})}),a.jsxs(br,{value:"users",className:"space-y-4",children:[a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(e0,{className:"w-5 h-5"}),"Add New User"]})}),a.jsx($e,{children:a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[a.jsx(He,{type:"email",placeholder:"Enter email address",value:o,onChange:W=>l(W.target.value),required:!0}),a.jsx(Hi,{placeholder:"Optional notes",value:c,onChange:W=>u(W.target.value),rows:3}),a.jsx(se,{type:"submit",disabled:m,className:"w-full",children:m?"Adding...":"Add User to Platform"})]})})]}),a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(Zx,{className:"w-5 h-5"}),"Allowed Users (",e.length,")"]})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No users allowed yet"}):e.map(W=>a.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:W.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Added by ",W.added_by]}),a.jsx(jn,{variant:W.status==="active"?"default":"secondary",children:W.status})]}),W.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:W.notes})]}),a.jsx("div",{className:"flex items-center gap-1",children:v===W.id?a.jsx(At,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[W.status==="active"&&a.jsx(se,{size:"icon",variant:"ghost",onClick:()=>P(W.email),className:"h-8 w-8 text-yellow-600 hover:text-yellow-700 flex-shrink-0",title:"Revoke Access",children:a.jsx(Zx,{className:"w-4 h-4"})}),W.status==="revoked"&&a.jsx(se,{size:"icon",variant:"ghost",onClick:()=>O(W.email),className:"h-8 w-8 text-green-600 hover:text-green-700 flex-shrink-0",title:"Reactivate Access",children:a.jsx(e0,{className:"w-4 h-4"})}),a.jsx(se,{size:"icon",variant:"ghost",onClick:()=>A(W.id),className:"h-8 w-8 text-red-500 hover:text-red-700 flex-shrink-0",title:"Delete User",children:a.jsx(es,{className:"w-4 h-4"})})]})})]},W.id))})})]})]}),a.jsx(br,{value:"families",className:"space-y-4",children:a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-5 h-5"}),"Family Subscriptions (",n.length,")"]})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.length===0?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No families registered yet"}):n.map(W=>{var H;return a.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:W.name}),a.jsxs("p",{className:"font-mono text-xs text-gray-500",children:["ID: ",W.id]}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Created by: ",W.created_by]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(jn,{className:"capitalize",children:((H=W.subscription_plan)==null?void 0:H.replace("_"," "))||"Unknown Plan"}),a.jsx(jn,{variant:W.subscription_status==="active"?"default":"secondary",children:W.subscription_status||"active"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["",W.subscription_plan==="cozy_nest"?"4.99":W.subscription_plan==="harmony_hub"?"9.99":W.subscription_plan==="legacy_circle"?"19.99":"0.00","/month"]}),a.jsx("p",{className:"text-sm text-gray-500",children:W.subscription_expires?`Expires ${new Date(W.subscription_expires).toLocaleDateString()}`:"No expiration date"})]}),v===W.id?a.jsx(At,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(se,{size:"sm",variant:"outline",onClick:()=>z(W.id),className:"text-blue-600 hover:text-blue-700",children:"Grant Admin"}),a.jsx(se,{size:"icon",variant:"ghost",onClick:()=>I(W),className:"h-8 w-8 text-red-500 hover:text-red-700",title:`Delete ${W.name}`,children:a.jsx(es,{className:"w-4 h-4"})})]})]})]},W.id)})})})]})}),a.jsx(br,{value:"data",className:"space-y-4",children:a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(_P,{className:"w-5 h-5"}),"Data Integrity Tools"]})}),a.jsx($e,{children:a.jsx(Wn,{to:Oe("DataCleanup"),children:a.jsx(se,{variant:"outline",children:"Normalize Whitelist Data"})})})]})}),a.jsx(br,{value:"settings",className:"space-y-4",children:a.jsxs(Fe,{children:[a.jsx(Xe,{children:a.jsxs(at,{className:"flex items-center gap-2",children:[a.jsx(hl,{className:"w-5 h-5"}),"System Settings"]})}),a.jsx($e,{children:a.jsx("p",{className:"text-sm text-gray-600",children:"No system-wide settings available yet."})})]})})]})]})}function p9(){const[e,t]=g.useState(!1),[n,s]=g.useState(null),{toast:o}=Yt(),l=async()=>{t(!0),s(null);try{const{data:c,error:u}=await m9();if(u)throw new Error(u.message||"An unknown error occurred.");s({success:!0,message:c.message}),o({title:"Success!",description:c.message,duration:5e3})}catch(c){s({success:!1,message:`Cleanup failed: ${c.message}`}),o({title:"Error",description:`Cleanup failed: ${c.message}`,variant:"destructive",duration:5e3})}finally{t(!1)}};return a.jsx("div",{className:"p-6 max-w-2xl mx-auto",children:a.jsxs(Fe,{children:[a.jsxs(Xe,{children:[a.jsx(at,{children:"Whitelist Data Normalization"}),a.jsx(Ci,{children:"This tool will scan the user whitelist and convert all email addresses to lowercase to prevent authentication issues related to case sensitivity."})]}),a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Click the button below to start the cleanup process. This should only need to be run once."}),a.jsx(se,{onClick:l,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Normalize Whitelist Emails"}),n&&a.jsxs("div",{className:`mt-4 p-4 rounded-md w-full text-center ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[n.success?a.jsx(Xb,{className:"mx-auto mb-2 h-6 w-6"}):a.jsx(yp,{className:"mx-auto mb-2 h-6 w-6"}),a.jsx("p",{className:"font-semibold",children:n.message})]}),a.jsx(Wn,{to:Oe("PlatformAdmin"),children:a.jsx(se,{variant:"link",children:"Back to Platform Admin"})})]})})]})})}function g9(){const[e,t]=g.useState(!1),[n,s]=g.useState(!1),{toast:o}=Yt(),l=_t(),c=async()=>{if(window.confirm("Are you sure? This will disconnect you from any family and allow you to start the setup process again. You will be logged out.")){t(!0);try{const f=await tt.me(),p=await ht.filter({user_id:f.id});for(const m of p)await ht.delete(m.id);await tt.updateMyUserData({family_id:null}),o({title:"Account Reset Successful",description:"Your family connection has been reset. Please log in again to start the setup.",duration:5e3}),await tt.logout(),l(Oe("Index"))}catch(f){console.error("Error resetting account:",f),o({title:"Error",description:"Could not reset your account. Please contact support.",variant:"destructive",duration:5e3}),t(!1)}}},u=async()=>{var f,p,m,y;if(window.confirm("Are you sure you want to grant your account admin rights for your current family?")){s(!0);try{const{data:v,status:w}=await u9();w===200&&v.success?(o({title:"Admin Rights Granted",description:`You are now a family administrator for ${v.familyName||"your family"}. Redirecting to Admin page.`,duration:5e3}),setTimeout(()=>{l(Oe("Admin"))},1500)):(o({title:"Error",description:v.error||"Could not grant admin rights. Please check console for details.",variant:"destructive",duration:5e3}),console.error("Grant admin error:",v))}catch(v){console.error("Error granting admin rights:",v);let w="Could not grant admin rights.";((f=v.response)==null?void 0:f.status)===403?w="Only the family creator can grant admin rights to themselves.":((p=v.response)==null?void 0:p.status)===404?w="Family not found. Please contact support.":(y=(m=v.response)==null?void 0:m.data)!=null&&y.error&&(w=v.response.data.error),o({title:"Error",description:w,variant:"destructive",duration:5e3})}finally{s(!1)}}};return a.jsxs("div",{className:"p-6 max-w-xl mx-auto space-y-6",children:[a.jsxs(Fe,{children:[a.jsxs(Xe,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Xb,{className:"w-6 h-6 text-blue-500"}),a.jsx(at,{className:"text-blue-700",children:"Grant Admin Rights"})]}),a.jsx(Ci,{children:"If you created your family but don't have access to the Admin page, use this tool to grant yourself admin rights."})]}),a.jsxs($e,{children:[a.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"This will assign the 'admin' role to your user account for your current family."}),a.jsx(se,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:u,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"})," Granting..."]}):"Grant My Account Admin Rights"})]})]}),a.jsxs(Fe,{className:"border-red-500",children:[a.jsxs(Xe,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(yp,{className:"w-6 h-6 text-red-500"}),a.jsx(at,{className:"text-red-700",children:"Account Recovery Tool"})]}),a.jsx(Ci,{children:"Use this tool only if your account is in a broken state (e.g., logged in but not part of a family)."})]}),a.jsxs($e,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"Clicking the button below will:"}),a.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:[a.jsx("li",{children:"Disconnect your user from any family."}),a.jsx("li",{children:"Delete your associated family member profile."}),a.jsx("li",{children:"Log you out of the application."})]}),a.jsx("p",{className:"text-sm text-gray-700",children:"After logging back in, you will be guided through the correct family setup process."}),a.jsx(se,{variant:"destructive",className:"w-full",onClick:c,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"})," Resetting..."]}):"Reset My Family Connection & Log Out"})]})]})]})}function y9(){const[e,t]=g.useState(""),[n,s]=g.useState(!1),[o,l]=g.useState(!1),c=_t(),u=async f=>{f.preventDefault(),s(!0);try{await fetch("/api/auth/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),l(!0)}catch{xa({title:"Error",description:"Could not request password reset.",variant:"destructive",duration:5e3})}finally{s(!1)}};return o?a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4",children:a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 w-full max-w-md mx-auto",children:a.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Check your email"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"If an account exists for that email, youll receive a password reset link shortly."}),a.jsx(se,{onClick:()=>c("/signin"),children:"Back to Sign In"})]})})]})}):a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4",children:a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 w-full max-w-md mx-auto",children:a.jsxs("form",{onSubmit:u,className:"w-full bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Reset your password"}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"email",children:"Email"}),a.jsx(He,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,autoComplete:"email"})]}),a.jsx(se,{type:"submit",className:"w-full",disabled:n||!e,children:n?"Sending...":"Send reset link"}),a.jsx(se,{variant:"link",type:"button",className:"w-full",onClick:()=>c("/signin"),children:"Back to Sign In"})]})})]})})}function v9(){const[e]=Bs(),[t,n]=g.useState(""),[s,o]=g.useState(""),[l,c]=g.useState(!1),[u,f]=g.useState(!1),[p,m]=g.useState(""),y=_t(),v=e.get("token")||"",w=async S=>{if(S.preventDefault(),m(""),!v){m("Missing or invalid reset token.");return}if(!t||t.length<8){m("Password must be at least 8 characters.");return}if(t!==s){m("Passwords do not match.");return}c(!0);try{const k=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:v,new_password:t})});if(!k.ok){const b=await k.json().catch(()=>({}));m(b.detail||"Reset failed. The link may be invalid or expired."),c(!1);return}if(await Tn.login((k==null?void 0:k.email)||"",t)){y("/dashboard");return}f(!0)}catch{m("Could not reset password.")}finally{c(!1)}};return u?a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4",children:a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 w-full max-w-md mx-auto",children:a.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password reset successful"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"You can now sign in with your new password."}),a.jsx(se,{onClick:()=>y("/signin"),children:"Back to Sign In"})]})})]})}):a.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 p-4",children:a.jsxs("div",{className:"text-center max-w-2xl",children:[a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl transform rotate-3 p-3",children:a.jsx("img",{src:ss,alt:"famly.ai Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"famly.ai"}),a.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"making family life easier"})]})]}),a.jsx("div",{className:"flex flex-col items-center gap-6 w-full max-w-md mx-auto",children:a.jsxs("form",{onSubmit:w,className:"w-full bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-lg space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Set a new password"}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"password",children:"New Password"}),a.jsx(He,{id:"password",type:"password",value:t,onChange:S=>n(S.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"confirm",children:"Confirm Password"}),a.jsx(He,{id:"confirm",type:"password",value:s,onChange:S=>o(S.target.value),required:!0,minLength:8,autoComplete:"new-password"})]}),p&&a.jsx("div",{className:"text-red-600 text-sm",children:p}),a.jsx(se,{type:"submit",className:"w-full",disabled:l||!t||!s,children:l?"Resetting...":"Reset Password"}),a.jsx(se,{variant:"link",type:"button",className:"w-full",onClick:()=>y("/signin"),children:"Back to Sign In"})]})})]})})}function x9(){return a.jsx(y1,{children:a.jsxs(AD,{children:[a.jsxs(oM,{children:[a.jsx(Nt,{path:"/",element:a.jsx(nn,{children:a.jsx(A3,{})})}),a.jsx(Nt,{path:"/index",element:a.jsx(aM,{to:"/",replace:!0})}),a.jsx(Nt,{path:"/signin",element:a.jsx(O3,{})}),a.jsx(Nt,{path:"/signup",element:a.jsx(L3,{})}),a.jsx(Nt,{path:"/dashboard",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(S7,{})})})}),a.jsx(Nt,{path:"/familysetup",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(k7,{})})})}),a.jsx(Nt,{path:"/schedule",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(A7,{})})})}),a.jsx(Nt,{path:"/tasks",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(F7,{})})})}),a.jsx(Nt,{path:"/events",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(B7,{})})})}),a.jsx(Nt,{path:"/wishlist",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(U7,{})})})}),a.jsx(Nt,{path:"/familymembers",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(X7,{})})})}),a.jsx(Nt,{path:"/connectors",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(Q7,{})})})}),a.jsx(Nt,{path:"/chat",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(n9,{})})})}),a.jsx(Nt,{path:"/aiassistant",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(l9,{})})})}),a.jsx(Nt,{path:"/debug",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(c9,{})})})}),a.jsx(Nt,{path:"/admin",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(d9,{})})})}),a.jsx(Nt,{path:"/platformadmin",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(h9,{})})})}),a.jsx(Nt,{path:"/datacleanup",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(p9,{})})})}),a.jsx(Nt,{path:"/databaserecovery",element:a.jsx(dn,{children:a.jsx(nn,{children:a.jsx(g9,{})})})}),a.jsx(Nt,{path:"/reset-password-request",element:a.jsx(y9,{})}),a.jsx(Nt,{path:"/reset-password",element:a.jsx(v9,{})})]}),a.jsx(_D,{})]})})}pE.createRoot(document.getElementById("root")).render(a.jsx(Ur.StrictMode,{children:a.jsxs(DM,{children:[" ",a.jsx(x9,{})]})}));
